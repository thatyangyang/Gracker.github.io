{"version":3,"file":"search.js","mappings":"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","sources":["webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/index.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/DerivedHelper/index.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/SearchParameters/index.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/SearchResults/index.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/algoliasearch.helper.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/compact.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/defaultsPure.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/find.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/findIndex.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/formatSort.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/inherits.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/intersection.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/merge.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/objectHasKeys.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/omit.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/orderBy.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/valToNumber.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/requestBuilder.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/utils/isValidUserToken.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/version.js","webpack://hexo-theme-archer/./node_modules/algoliasearch/dist/algoliasearch-lite.umd.js","webpack://hexo-theme-archer/./node_modules/classnames/index.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/a-function.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/a-possible-prototype.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/add-to-unscopables.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/advance-string-index.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/an-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/array-includes.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/array-iteration.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/array-species-constructor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/array-species-create.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/classof-raw.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/create-property-descriptor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/descriptors.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/document-create-element.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/engine-user-agent.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/engine-v8-version.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/enum-bug-keys.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/export.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/fails.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/function-bind-context.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/get-built-in.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/get-substitution.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/global.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/has.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/hidden-keys.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/html.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/ie8-dom-define.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/indexed-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/inherit-if-required.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/inspect-source.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/internal-state.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-array.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-forced.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-pure.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-regexp.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-symbol.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/native-symbol.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/native-weak-map.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-create.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-define-properties.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-define-property.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-keys-internal.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-keys.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/own-keys.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/redefine.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-exec.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-flags.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/require-object-coercible.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/same-value.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/set-global.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/set-species.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/shared-key.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/shared-store.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/shared.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/string-multibyte.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-absolute-index.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-indexed-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-integer.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-length.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-primitive.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-property-key.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-string.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/uid.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/well-known-symbol.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.array.find.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.regexp.constructor.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.regexp.exec.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.regexp.to-string.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.string.replace.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.string.search.js","webpack://hexo-theme-archer/./node_modules/events/events.js","webpack://hexo-theme-archer/./node_modules/hogan.js/lib/compiler.js","webpack://hexo-theme-archer/./node_modules/hogan.js/lib/hogan.js","webpack://hexo-theme-archer/./node_modules/hogan.js/lib/template.js","webpack://hexo-theme-archer/./node_modules/qs/lib/formats.js","webpack://hexo-theme-archer/./node_modules/qs/lib/index.js","webpack://hexo-theme-archer/./node_modules/qs/lib/parse.js","webpack://hexo-theme-archer/./node_modules/qs/lib/stringify.js","webpack://hexo-theme-archer/./node_modules/qs/lib/utils.js","webpack://hexo-theme-archer/webpack/bootstrap","webpack://hexo-theme-archer/webpack/runtime/compat get default export","webpack://hexo-theme-archer/webpack/runtime/define property getters","webpack://hexo-theme-archer/webpack/runtime/global","webpack://hexo-theme-archer/webpack/runtime/hasOwnProperty shorthand","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/documentation.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/findIndex.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/uniq.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/index/index.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/resolveSearchParameters.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/version.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/suit.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/escape.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/isPlainObject.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/highlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/concatHighlightedParts.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/unescape.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getHighlightFromSiblings.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/reverseHighlightedParts.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getHighlightedParts.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/reverseHighlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/snippet.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/reverseSnippet.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/serializer.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/insights.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/createHelpers.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/defer.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/noop.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/stateMappings/simple.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/routers/history.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/isEqual.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/middlewares/createRouterMiddleware.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/middlewares/createMetadataMiddleware.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/InstantSearch.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/infiniteHitsCache/sessionStorage.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/logger.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/index.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/get-insights-anonymous-user-token.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/configure/connectConfigure.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/configure/configure.js","webpack://hexo-theme-archer/./node_modules/preact/dist/preact.module.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/isDomElement.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getContainerNode.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getObjectType.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/search-box/connectSearchBox.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/renderTemplate.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Template/Template.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/SearchBox/SearchBox.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/search-box/defaultTemplates.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/search-box/search-box.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/hits-absolute-position.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/hits-query-id.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/hits/connectHits.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Hits/Hits.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/hits/defaultTemplates.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/prepareTemplateProps.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/insights/listener.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/insights/client.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/find.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/hits/hits.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Stats/Stats.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/stats/connectStats.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/stats/stats.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Pagination/PaginationLink.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/isSpecialClick.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Pagination/Pagination.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/range.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/pagination/Paginator.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/pagination/connectPagination.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/pagination/pagination.js","webpack://hexo-theme-archer/./src/js/util.js","webpack://hexo-theme-archer/./src/js/search.js"],"sourcesContent":["'use strict';\n\nvar AlgoliaSearchHelper = require('./src/algoliasearch.helper');\n\nvar SearchParameters = require('./src/SearchParameters');\nvar SearchResults = require('./src/SearchResults');\n\n/**\n * The algoliasearchHelper module is the function that will let its\n * contains everything needed to use the Algoliasearch\n * Helper. It is a also a function that instanciate the helper.\n * To use the helper, you also need the Algolia JS client v3.\n * @example\n * //using the UMD build\n * var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');\n * var helper = algoliasearchHelper(client, 'bestbuy', {\n *   facets: ['shipping'],\n *   disjunctiveFacets: ['category']\n * });\n * helper.on('result', function(event) {\n *   console.log(event.results);\n * });\n * helper\n *   .toggleFacetRefinement('category', 'Movies & TV Shows')\n *   .toggleFacetRefinement('shipping', 'Free shipping')\n *   .search();\n * @example\n * // The helper is an event emitter using the node API\n * helper.on('result', updateTheResults);\n * helper.once('result', updateTheResults);\n * helper.removeListener('result', updateTheResults);\n * helper.removeAllListeners('result');\n * @module algoliasearchHelper\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the name of the index to query\n * @param  {SearchParameters|object} opts an object defining the initial config of the search. It doesn't have to be a {SearchParameters}, just an object containing the properties you need from it.\n * @return {AlgoliaSearchHelper}\n */\nfunction algoliasearchHelper(client, index, opts) {\n  return new AlgoliaSearchHelper(client, index, opts);\n}\n\n/**\n * The version currently used\n * @member module:algoliasearchHelper.version\n * @type {number}\n */\nalgoliasearchHelper.version = require('./src/version.js');\n\n/**\n * Constructor for the Helper.\n * @member module:algoliasearchHelper.AlgoliaSearchHelper\n * @type {AlgoliaSearchHelper}\n */\nalgoliasearchHelper.AlgoliaSearchHelper = AlgoliaSearchHelper;\n\n/**\n * Constructor for the object containing all the parameters of the search.\n * @member module:algoliasearchHelper.SearchParameters\n * @type {SearchParameters}\n */\nalgoliasearchHelper.SearchParameters = SearchParameters;\n\n/**\n * Constructor for the object containing the results of the search.\n * @member module:algoliasearchHelper.SearchResults\n * @type {SearchResults}\n */\nalgoliasearchHelper.SearchResults = SearchResults;\n\nmodule.exports = algoliasearchHelper;\n","'use strict';\n\nvar events = require('events');\nvar inherits = require('../functions/inherits');\n\n/**\n * A DerivedHelper is a way to create sub requests to\n * Algolia from a main helper.\n * @class\n * @classdesc The DerivedHelper provides an event based interface for search callbacks:\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n */\nfunction DerivedHelper(mainHelper, fn) {\n  this.main = mainHelper;\n  this.fn = fn;\n  this.lastResults = null;\n}\n\ninherits(DerivedHelper, events.EventEmitter);\n\n/**\n * Detach this helper from the main helper\n * @return {undefined}\n * @throws Error if the derived helper is already detached\n */\nDerivedHelper.prototype.detach = function() {\n  this.removeAllListeners();\n  this.main.detachDerivedHelper(this);\n};\n\nDerivedHelper.prototype.getModifiedState = function(parameters) {\n  return this.fn(parameters);\n};\n\nmodule.exports = DerivedHelper;\n","'use strict';\n\n/**\n * Functions to manipulate refinement lists\n *\n * The RefinementList is not formally defined through a prototype but is based\n * on a specific structure.\n *\n * @module SearchParameters.refinementList\n *\n * @typedef {string[]} SearchParameters.refinementList.Refinements\n * @typedef {Object.<string, SearchParameters.refinementList.Refinements>} SearchParameters.refinementList.RefinementList\n */\n\nvar defaultsPure = require('../functions/defaultsPure');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar lib = {\n  /**\n   * Adds a refinement to a RefinementList\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement, if the value is not a string it will be converted\n   * @return {RefinementList} a new and updated refinement list\n   */\n  addRefinement: function addRefinement(refinementList, attribute, value) {\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return refinementList;\n    }\n\n    var valueAsString = '' + value;\n\n    var facetRefinement = !refinementList[attribute] ?\n      [valueAsString] :\n      refinementList[attribute].concat(valueAsString);\n\n    var mod = {};\n\n    mod[attribute] = facetRefinement;\n\n    return defaultsPure({}, mod, refinementList);\n  },\n  /**\n   * Removes refinement(s) for an attribute:\n   *  - if the value is specified removes the refinement for the value on the attribute\n   *  - if no value is specified removes all the refinements for this attribute\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} [value] the value of the refinement\n   * @return {RefinementList} a new and updated refinement lst\n   */\n  removeRefinement: function removeRefinement(refinementList, attribute, value) {\n    if (value === undefined) {\n      // we use the \"filter\" form of clearRefinement, since it leaves empty values as-is\n      // the form with a string will remove the attribute completely\n      return lib.clearRefinement(refinementList, function(v, f) {\n        return attribute === f;\n      });\n    }\n\n    var valueAsString = '' + value;\n\n    return lib.clearRefinement(refinementList, function(v, f) {\n      return attribute === f && valueAsString === v;\n    });\n  },\n  /**\n   * Toggles the refinement value for an attribute.\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement\n   * @return {RefinementList} a new and updated list\n   */\n  toggleRefinement: function toggleRefinement(refinementList, attribute, value) {\n    if (value === undefined) throw new Error('toggleRefinement should be used with a value');\n\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return lib.removeRefinement(refinementList, attribute, value);\n    }\n\n    return lib.addRefinement(refinementList, attribute, value);\n  },\n  /**\n   * Clear all or parts of a RefinementList. Depending on the arguments, three\n   * kinds of behavior can happen:\n   *  - if no attribute is provided: clears the whole list\n   *  - if an attribute is provided as a string: clears the list for the specific attribute\n   *  - if an attribute is provided as a function: discards the elements for which the function returns true\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} [attribute] the attribute or function to discard\n   * @param {string} [refinementType] optional parameter to give more context to the attribute function\n   * @return {RefinementList} a new and updated refinement list\n   */\n  clearRefinement: function clearRefinement(refinementList, attribute, refinementType) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(refinementList)) {\n        return refinementList;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(refinementList, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n\n      var newRefinementList = Object.keys(refinementList).reduce(function(memo, key) {\n        var values = refinementList[key] || [];\n        var facetList = values.filter(function(value) {\n          return !attribute(value, key, refinementType);\n        });\n\n        if (facetList.length !== values.length) {\n          hasChanged = true;\n        }\n        memo[key] = facetList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newRefinementList;\n      return refinementList;\n    }\n  },\n  /**\n   * Test if the refinement value is used for the attribute. If no refinement value\n   * is provided, test if the refinementList contains any refinement for the\n   * given attribute.\n   * @param {RefinementList} refinementList the list of refinement\n   * @param {string} attribute name of the attribute\n   * @param {string} [refinementValue] value of the filter/refinement\n   * @return {boolean}\n   */\n  isRefined: function isRefined(refinementList, attribute, refinementValue) {\n    var containsRefinements = !!refinementList[attribute] &&\n      refinementList[attribute].length > 0;\n\n    if (refinementValue === undefined || !containsRefinements) {\n      return containsRefinements;\n    }\n\n    var refinementValueAsString = '' + refinementValue;\n\n    return refinementList[attribute].indexOf(refinementValueAsString) !== -1;\n  }\n};\n\nmodule.exports = lib;\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar intersection = require('../functions/intersection');\nvar find = require('../functions/find');\nvar valToNumber = require('../functions/valToNumber');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\nvar isValidUserToken = require('../utils/isValidUserToken');\n\nvar RefinementList = require('./RefinementList');\n\n/**\n * isEqual, but only for numeric refinement values, possible values:\n * - 5\n * - [5]\n * - [[5]]\n * - [[5,5],[4]]\n */\nfunction isEqualNumericRefinement(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return (\n      a.length === b.length &&\n      a.every(function(el, i) {\n        return isEqualNumericRefinement(b[i], el);\n      })\n    );\n  }\n  return a === b;\n}\n\n/**\n * like _.find but using deep equality to be able to use it\n * to find arrays.\n * @private\n * @param {any[]} array array to search into (elements are base or array of base)\n * @param {any} searchedValue the value we're looking for (base or array of base)\n * @return {any} the searched value or undefined\n */\nfunction findArray(array, searchedValue) {\n  return find(array, function(currentValue) {\n    return isEqualNumericRefinement(currentValue, searchedValue);\n  });\n}\n\n/**\n * The facet list is the structure used to store the list of values used to\n * filter a single attribute.\n * @typedef {string[]} SearchParameters.FacetList\n */\n\n/**\n * Structure to store numeric filters with the operator as the key. The supported operators\n * are `=`, `>`, `<`, `>=`, `<=` and `!=`.\n * @typedef {Object.<string, Array.<number|number[]>>} SearchParameters.OperatorList\n */\n\n/**\n * SearchParameters is the data structure that contains all the information\n * usable for making a search to Algolia API. It doesn't do the search itself,\n * nor does it contains logic about the parameters.\n * It is an immutable object, therefore it has been created in a way that each\n * changes does not change the object itself but returns a copy with the\n * modification.\n * This object should probably not be instantiated outside of the helper. It will\n * be provided when needed. This object is documented for reference as you'll\n * get it from events generated by the {@link AlgoliaSearchHelper}.\n * If need be, instantiate the Helper from the factory function {@link SearchParameters.make}\n * @constructor\n * @classdesc contains all the parameters of a search\n * @param {object|SearchParameters} newParameters existing parameters or partial object\n * for the properties of a new SearchParameters\n * @see SearchParameters.make\n * @example <caption>SearchParameters of the first query in\n *   <a href=\"http://demos.algolia.com/instant-search-demo/\">the instant search demo</a></caption>\n{\n   \"query\": \"\",\n   \"disjunctiveFacets\": [\n      \"customerReviewCount\",\n      \"category\",\n      \"salePrice_range\",\n      \"manufacturer\"\n  ],\n   \"maxValuesPerFacet\": 30,\n   \"page\": 0,\n   \"hitsPerPage\": 10,\n   \"facets\": [\n      \"type\",\n      \"shipping\"\n  ]\n}\n */\nfunction SearchParameters(newParameters) {\n  var params = newParameters ? SearchParameters._parseNumbers(newParameters) : {};\n\n  if (params.userToken !== undefined && !isValidUserToken(params.userToken)) {\n    console.warn('[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\\n  - Format: [a-zA-Z0-9_-]{1,64}');\n  }\n  /**\n   * This attribute contains the list of all the conjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.facets = params.facets || [];\n  /**\n   * This attribute contains the list of all the disjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.disjunctiveFacets = params.disjunctiveFacets || [];\n  /**\n   * This attribute contains the list of all the hierarchical facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * Hierarchical facets are a sub type of disjunctive facets that\n   * let you filter faceted attributes hierarchically.\n   * @member {string[]|object[]}\n   */\n  this.hierarchicalFacets = params.hierarchicalFacets || [];\n\n  // Refinements\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsRefinements = params.facetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * excluded from the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters excluded for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsExcludes = params.facetsExcludes || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the disjunctive facets. Each facet must be properly\n   * defined in the `disjunctiveFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.disjunctiveFacetsRefinements = params.disjunctiveFacetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the numeric attributes.\n   *\n   * The key is the name of the attribute, and the value is the\n   * filters to apply to this attribute.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `numericFilters` attribute.\n   * @member {Object.<string, SearchParameters.OperatorList>}\n   */\n  this.numericRefinements = params.numericRefinements || {};\n  /**\n   * This attribute contains all the tags used to refine the query.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `tagFilters` attribute.\n   * @member {string[]}\n   */\n  this.tagRefinements = params.tagRefinements || [];\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the hierarchical facets. Each facet must be properly\n   * defined in the `hierarchicalFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name. The FacetList values\n   * are structured as a string that contain the values for each level\n   * separated by the configured separator.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.hierarchicalFacetsRefinements = params.hierarchicalFacetsRefinements || {};\n\n  var self = this;\n  Object.keys(params).forEach(function(paramName) {\n    var isKeyKnown = SearchParameters.PARAMETERS.indexOf(paramName) !== -1;\n    var isValueDefined = params[paramName] !== undefined;\n\n    if (!isKeyKnown && isValueDefined) {\n      self[paramName] = params[paramName];\n    }\n  });\n}\n\n/**\n * List all the properties in SearchParameters and therefore all the known Algolia properties\n * This doesn't contain any beta/hidden features.\n * @private\n */\nSearchParameters.PARAMETERS = Object.keys(new SearchParameters());\n\n/**\n * @private\n * @param {object} partialState full or part of a state\n * @return {object} a new object with the number keys as number\n */\nSearchParameters._parseNumbers = function(partialState) {\n  // Do not reparse numbers in SearchParameters, they ought to be parsed already\n  if (partialState instanceof SearchParameters) return partialState;\n\n  var numbers = {};\n\n  var numberKeys = [\n    'aroundPrecision',\n    'aroundRadius',\n    'getRankingInfo',\n    'minWordSizefor2Typos',\n    'minWordSizefor1Typo',\n    'page',\n    'maxValuesPerFacet',\n    'distinct',\n    'minimumAroundRadius',\n    'hitsPerPage',\n    'minProximity'\n  ];\n\n  numberKeys.forEach(function(k) {\n    var value = partialState[k];\n    if (typeof value === 'string') {\n      var parsedValue = parseFloat(value);\n      // global isNaN is ok to use here, value is only number or NaN\n      numbers[k] = isNaN(parsedValue) ? value : parsedValue;\n    }\n  });\n\n  // there's two formats of insideBoundingBox, we need to parse\n  // the one which is an array of float geo rectangles\n  if (Array.isArray(partialState.insideBoundingBox)) {\n    numbers.insideBoundingBox = partialState.insideBoundingBox.map(function(geoRect) {\n      if (Array.isArray(geoRect)) {\n        return geoRect.map(function(value) {\n          return parseFloat(value);\n        });\n      }\n      return geoRect;\n    });\n  }\n\n  if (partialState.numericRefinements) {\n    var numericRefinements = {};\n    Object.keys(partialState.numericRefinements).forEach(function(attribute) {\n      var operators = partialState.numericRefinements[attribute] || {};\n      numericRefinements[attribute] = {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator];\n        var parsedValues = values.map(function(v) {\n          if (Array.isArray(v)) {\n            return v.map(function(vPrime) {\n              if (typeof vPrime === 'string') {\n                return parseFloat(vPrime);\n              }\n              return vPrime;\n            });\n          } else if (typeof v === 'string') {\n            return parseFloat(v);\n          }\n          return v;\n        });\n        numericRefinements[attribute][operator] = parsedValues;\n      });\n    });\n    numbers.numericRefinements = numericRefinements;\n  }\n\n  return merge({}, partialState, numbers);\n};\n\n/**\n * Factory for SearchParameters\n * @param {object|SearchParameters} newParameters existing parameters or partial\n * object for the properties of a new SearchParameters\n * @return {SearchParameters} frozen instance of SearchParameters\n */\nSearchParameters.make = function makeSearchParameters(newParameters) {\n  var instance = new SearchParameters(newParameters);\n\n  var hierarchicalFacets = newParameters.hierarchicalFacets || [];\n  hierarchicalFacets.forEach(function(facet) {\n    if (facet.rootPath) {\n      var currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (currentRefinement.length > 0 && currentRefinement[0].indexOf(facet.rootPath) !== 0) {\n        instance = instance.clearRefinements(facet.name);\n      }\n\n      // get it again in case it has been cleared\n      currentRefinement = instance.getHierarchicalRefinement(facet.name);\n      if (currentRefinement.length === 0) {\n        instance = instance.toggleHierarchicalFacetRefinement(facet.name, facet.rootPath);\n      }\n    }\n  });\n\n  return instance;\n};\n\n/**\n * Validates the new parameters based on the previous state\n * @param {SearchParameters} currentState the current state\n * @param {object|SearchParameters} parameters the new parameters to set\n * @return {Error|null} Error if the modification is invalid, null otherwise\n */\nSearchParameters.validate = function(currentState, parameters) {\n  var params = parameters || {};\n\n  if (currentState.tagFilters && params.tagRefinements && params.tagRefinements.length > 0) {\n    return new Error(\n      '[Tags] Cannot switch from the managed tag API to the advanced API. It is probably ' +\n      'an error, if it is really what you want, you should first clear the tags with clearTags method.');\n  }\n\n  if (currentState.tagRefinements.length > 0 && params.tagFilters) {\n    return new Error(\n      '[Tags] Cannot switch from the advanced tag API to the managed API. It is probably ' +\n      'an error, if it is not, you should first clear the tags with clearTags method.');\n  }\n\n  if (\n    currentState.numericFilters &&\n    params.numericRefinements &&\n    objectHasKeys(params.numericRefinements)\n  ) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the advanced to the managed API. It\" +\n        ' is probably an error, if this is really what you want, you have to first' +\n        ' clear the numeric filters.'\n    );\n  }\n\n  if (objectHasKeys(currentState.numericRefinements) && params.numericFilters) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the managed API to the advanced. It\" +\n      ' is probably an error, if this is really what you want, you have to first' +\n      ' clear the numeric filters.');\n  }\n\n  return null;\n};\n\nSearchParameters.prototype = {\n  constructor: SearchParameters,\n\n  /**\n   * Remove all refinements (disjunctive + conjunctive + excludes + numeric filters)\n   * @method\n   * @param {undefined|string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {SearchParameters}\n   */\n  clearRefinements: function clearRefinements(attribute) {\n    var patch = {\n      numericRefinements: this._clearNumericRefinements(attribute),\n      facetsRefinements: RefinementList.clearRefinement(\n        this.facetsRefinements,\n        attribute,\n        'conjunctiveFacet'\n      ),\n      facetsExcludes: RefinementList.clearRefinement(\n        this.facetsExcludes,\n        attribute,\n        'exclude'\n      ),\n      disjunctiveFacetsRefinements: RefinementList.clearRefinement(\n        this.disjunctiveFacetsRefinements,\n        attribute,\n        'disjunctiveFacet'\n      ),\n      hierarchicalFacetsRefinements: RefinementList.clearRefinement(\n        this.hierarchicalFacetsRefinements,\n        attribute,\n        'hierarchicalFacet'\n      )\n    };\n    if (\n      patch.numericRefinements === this.numericRefinements &&\n      patch.facetsRefinements === this.facetsRefinements &&\n      patch.facetsExcludes === this.facetsExcludes &&\n      patch.disjunctiveFacetsRefinements === this.disjunctiveFacetsRefinements &&\n      patch.hierarchicalFacetsRefinements === this.hierarchicalFacetsRefinements\n    ) {\n      return this;\n    }\n    return this.setQueryParameters(patch);\n  },\n  /**\n   * Remove all the refined tags from the SearchParameters\n   * @method\n   * @return {SearchParameters}\n   */\n  clearTags: function clearTags() {\n    if (this.tagFilters === undefined && this.tagRefinements.length === 0) return this;\n\n    return this.setQueryParameters({\n      tagFilters: undefined,\n      tagRefinements: []\n    });\n  },\n  /**\n   * Set the index.\n   * @method\n   * @param {string} index the index name\n   * @return {SearchParameters}\n   */\n  setIndex: function setIndex(index) {\n    if (index === this.index) return this;\n\n    return this.setQueryParameters({\n      index: index\n    });\n  },\n  /**\n   * Query setter\n   * @method\n   * @param {string} newQuery value for the new query\n   * @return {SearchParameters}\n   */\n  setQuery: function setQuery(newQuery) {\n    if (newQuery === this.query) return this;\n\n    return this.setQueryParameters({\n      query: newQuery\n    });\n  },\n  /**\n   * Page setter\n   * @method\n   * @param {number} newPage new page number\n   * @return {SearchParameters}\n   */\n  setPage: function setPage(newPage) {\n    if (newPage === this.page) return this;\n\n    return this.setQueryParameters({\n      page: newPage\n    });\n  },\n  /**\n   * Facets setter\n   * The facets are the simple facets, used for conjunctive (and) faceting.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for conjunctive faceting\n   * @return {SearchParameters}\n   */\n  setFacets: function setFacets(facets) {\n    return this.setQueryParameters({\n      facets: facets\n    });\n  },\n  /**\n   * Disjunctive facets setter\n   * Change the list of disjunctive (or) facets the helper chan handle.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for disjunctive faceting\n   * @return {SearchParameters}\n   */\n  setDisjunctiveFacets: function setDisjunctiveFacets(facets) {\n    return this.setQueryParameters({\n      disjunctiveFacets: facets\n    });\n  },\n  /**\n   * HitsPerPage setter\n   * Hits per page represents the number of hits retrieved for this query\n   * @method\n   * @param {number} n number of hits retrieved per page of results\n   * @return {SearchParameters}\n   */\n  setHitsPerPage: function setHitsPerPage(n) {\n    if (this.hitsPerPage === n) return this;\n\n    return this.setQueryParameters({\n      hitsPerPage: n\n    });\n  },\n  /**\n   * typoTolerance setter\n   * Set the value of typoTolerance\n   * @method\n   * @param {string} typoTolerance new value of typoTolerance (\"true\", \"false\", \"min\" or \"strict\")\n   * @return {SearchParameters}\n   */\n  setTypoTolerance: function setTypoTolerance(typoTolerance) {\n    if (this.typoTolerance === typoTolerance) return this;\n\n    return this.setQueryParameters({\n      typoTolerance: typoTolerance\n    });\n  },\n  /**\n   * Add a numeric filter for a given attribute\n   * When value is an array, they are combined with OR\n   * When value is a single value, it will combined with AND\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} operator operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number | number[]} value value of the filter\n   * @return {SearchParameters}\n   * @example\n   * // for price = 50 or 40\n   * searchparameter.addNumericRefinement('price', '=', [50, 40]);\n   * @example\n   * // for size = 38 and 40\n   * searchparameter.addNumericRefinement('size', '=', 38);\n   * searchparameter.addNumericRefinement('size', '=', 40);\n   */\n  addNumericRefinement: function(attribute, operator, v) {\n    var value = valToNumber(v);\n\n    if (this.isNumericRefined(attribute, operator, value)) return this;\n\n    var mod = merge({}, this.numericRefinements);\n\n    mod[attribute] = merge({}, mod[attribute]);\n\n    if (mod[attribute][operator]) {\n      // Array copy\n      mod[attribute][operator] = mod[attribute][operator].slice();\n      // Add the element. Concat can't be used here because value can be an array.\n      mod[attribute][operator].push(value);\n    } else {\n      mod[attribute][operator] = [value];\n    }\n\n    return this.setQueryParameters({\n      numericRefinements: mod\n    });\n  },\n  /**\n   * Get the list of conjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getConjunctiveRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of disjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getDisjunctiveRefinements: function(facetName) {\n    if (!this.isDisjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.disjunctiveFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of hierarchical refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getHierarchicalRefinement: function(facetName) {\n    // we send an array but we currently do not support multiple\n    // hierarchicalRefinements for a hierarchicalFacet\n    return this.hierarchicalFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of exclude refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getExcludeRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsExcludes[facetName] || [];\n  },\n\n  /**\n   * Remove all the numeric filter for a given (attribute, operator)\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} [operator] operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number} [number] the value to be removed\n   * @return {SearchParameters}\n   */\n  removeNumericRefinement: function(attribute, operator, paramValue) {\n    if (paramValue !== undefined) {\n      if (!this.isNumericRefined(attribute, operator, paramValue)) {\n        return this;\n      }\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return (\n            key === attribute &&\n            value.op === operator &&\n            isEqualNumericRefinement(value.val, valToNumber(paramValue))\n          );\n        })\n      });\n    } else if (operator !== undefined) {\n      if (!this.isNumericRefined(attribute, operator)) return this;\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return key === attribute && value.op === operator;\n        })\n      });\n    }\n\n    if (!this.isNumericRefined(attribute)) return this;\n    return this.setQueryParameters({\n      numericRefinements: this._clearNumericRefinements(function(value, key) {\n        return key === attribute;\n      })\n    });\n  },\n  /**\n   * Get the list of numeric refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {SearchParameters.OperatorList} list of refinements\n   */\n  getNumericRefinements: function(facetName) {\n    return this.numericRefinements[facetName] || {};\n  },\n  /**\n   * Return the current refinement for the (attribute, operator)\n   * @param {string} attribute attribute in the record\n   * @param {string} operator operator applied on the refined values\n   * @return {Array.<number|number[]>} refined values\n   */\n  getNumericRefinement: function(attribute, operator) {\n    return this.numericRefinements[attribute] && this.numericRefinements[attribute][operator];\n  },\n  /**\n   * Clear numeric filters.\n   * @method\n   * @private\n   * @param {string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {Object.<string, OperatorList>}\n   */\n  _clearNumericRefinements: function _clearNumericRefinements(attribute) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(this.numericRefinements)) {\n        return this.numericRefinements;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(this.numericRefinements, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var numericRefinements = this.numericRefinements;\n      var newNumericRefinements = Object.keys(numericRefinements).reduce(function(memo, key) {\n        var operators = numericRefinements[key];\n        var operatorList = {};\n\n        operators = operators || {};\n        Object.keys(operators).forEach(function(operator) {\n          var values = operators[operator] || [];\n          var outValues = [];\n          values.forEach(function(value) {\n            var predicateResult = attribute({val: value, op: operator}, key, 'numeric');\n            if (!predicateResult) outValues.push(value);\n          });\n          if (outValues.length !== values.length) {\n            hasChanged = true;\n          }\n          operatorList[operator] = outValues;\n        });\n\n        memo[key] = operatorList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newNumericRefinements;\n      return this.numericRefinements;\n    }\n  },\n  /**\n   * Add a facet to the facets attribute of the helper configuration, if it\n   * isn't already present.\n   * @method\n   * @param {string} facet facet name to add\n   * @return {SearchParameters}\n   */\n  addFacet: function addFacet(facet) {\n    if (this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      facets: this.facets.concat([facet])\n    });\n  },\n  /**\n   * Add a disjunctive facet to the disjunctiveFacets attribute of the helper\n   * configuration, if it isn't already present.\n   * @method\n   * @param {string} facet disjunctive facet name to add\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacet: function addDisjunctiveFacet(facet) {\n    if (this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.concat([facet])\n    });\n  },\n  /**\n   * Add a hierarchical facet to the hierarchicalFacets attribute of the helper\n   * configuration.\n   * @method\n   * @param {object} hierarchicalFacet hierarchical facet to add\n   * @return {SearchParameters}\n   * @throws will throw an error if a hierarchical facet with the same name was already declared\n   */\n  addHierarchicalFacet: function addHierarchicalFacet(hierarchicalFacet) {\n    if (this.isHierarchicalFacet(hierarchicalFacet.name)) {\n      throw new Error(\n        'Cannot declare two hierarchical facets with the same name: `' + hierarchicalFacet.name + '`');\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.concat([hierarchicalFacet])\n    });\n  },\n  /**\n   * Add a refinement on a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addFacetRefinement: function addFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.addRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Exclude a value from a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the exclusion on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addExcludeRefinement: function addExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.addRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Adds a refinement on a disjunctive facet.\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacetRefinement: function addDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.addRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * addTagRefinement adds a tag to the list used to filter the results\n   * @param {string} tag tag to be added\n   * @return {SearchParameters}\n   */\n  addTagRefinement: function addTagRefinement(tag) {\n    if (this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.concat(tag)\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Remove a facet from the facets attribute of the helper configuration, if it\n   * is present.\n   * @method\n   * @param {string} facet facet name to remove\n   * @return {SearchParameters}\n   */\n  removeFacet: function removeFacet(facet) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      facets: this.facets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a disjunctive facet from the disjunctiveFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet disjunctive facet name to remove\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacet: function removeDisjunctiveFacet(facet) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a hierarchical facet from the hierarchicalFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet hierarchical facet name to remove\n   * @return {SearchParameters}\n   */\n  removeHierarchicalFacet: function removeHierarchicalFacet(facet) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.filter(function(f) {\n        return f.name !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a refinement set on facet. If a value is provided, it will clear the\n   * refinement for the given value, otherwise it will clear all the refinement\n   * values for the faceted attribute.\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} [value] value used to filter\n   * @return {SearchParameters}\n   */\n  removeFacetRefinement: function removeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.removeRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a negative refinement on a facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeExcludeRefinement: function removeExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.removeRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Remove a refinement on a disjunctive facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacetRefinement: function removeDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.removeRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a tag from the list of tag refinements\n   * @method\n   * @param {string} tag the tag to remove\n   * @return {SearchParameters}\n   */\n  removeTagRefinement: function removeTagRefinement(tag) {\n    if (!this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.filter(function(t) {\n        return t !== tag;\n      })\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   * @deprecated since version 2.19.0, see {@link SearchParameters#toggleFacetRefinement}\n   */\n  toggleRefinement: function toggleRefinement(facet, value) {\n    return this.toggleFacetRefinement(facet, value);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   */\n  toggleFacetRefinement: function toggleFacetRefinement(facet, value) {\n    if (this.isHierarchicalFacet(facet)) {\n      return this.toggleHierarchicalFacetRefinement(facet, value);\n    } else if (this.isConjunctiveFacet(facet)) {\n      return this.toggleConjunctiveFacetRefinement(facet, value);\n    } else if (this.isDisjunctiveFacet(facet)) {\n      return this.toggleDisjunctiveFacetRefinement(facet, value);\n    }\n\n    throw new Error('Cannot refine the undeclared facet ' + facet +\n      '; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets');\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleConjunctiveFacetRefinement: function toggleConjunctiveFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.toggleRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleExcludeFacetRefinement: function toggleExcludeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.toggleRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleDisjunctiveFacetRefinement: function toggleDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.toggleRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleHierarchicalFacetRefinement: function toggleHierarchicalFacetRefinement(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration');\n    }\n\n    var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facet));\n\n    var mod = {};\n\n    var upOneOrMultipleLevel = this.hierarchicalFacetsRefinements[facet] !== undefined &&\n      this.hierarchicalFacetsRefinements[facet].length > 0 && (\n      // remove current refinement:\n      // refinement was 'beer > IPA', call is toggleRefine('beer > IPA'), refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0] === value ||\n      // remove a parent refinement of the current refinement:\n      //  - refinement was 'beer > IPA > Flying dog'\n      //  - call is toggleRefine('beer > IPA')\n      //  - refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0].indexOf(value + separator) === 0\n    );\n\n    if (upOneOrMultipleLevel) {\n      if (value.indexOf(separator) === -1) {\n        // go back to root level\n        mod[facet] = [];\n      } else {\n        mod[facet] = [value.slice(0, value.lastIndexOf(separator))];\n      }\n    } else {\n      mod[facet] = [value];\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Adds a refinement on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @param {string} path the hierarchical facet path\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is refined\n   */\n  addHierarchicalFacetRefinement: function(facet, path) {\n    if (this.isHierarchicalFacetRefined(facet)) {\n      throw new Error(facet + ' is already refined.');\n    }\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration.');\n    }\n    var mod = {};\n    mod[facet] = [path];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Removes the refinement set on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is not refined\n   */\n  removeHierarchicalFacetRefinement: function(facet) {\n    if (!this.isHierarchicalFacetRefined(facet)) {\n      return this;\n    }\n    var mod = {};\n    mod[facet] = [];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n  /**\n   * Switch the tag refinement\n   * @method\n   * @param {string} tag the tag to remove or add\n   * @return {SearchParameters}\n   */\n  toggleTagRefinement: function toggleTagRefinement(tag) {\n    if (this.isTagRefined(tag)) {\n      return this.removeTagRefinement(tag);\n    }\n\n    return this.addTagRefinement(tag);\n  },\n  /**\n   * Test if the facet name is from one of the disjunctive facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isDisjunctiveFacet: function(facet) {\n    return this.disjunctiveFacets.indexOf(facet) > -1;\n  },\n  /**\n   * Test if the facet name is from one of the hierarchical facets\n   * @method\n   * @param {string} facetName facet name to test\n   * @return {boolean}\n   */\n  isHierarchicalFacet: function(facetName) {\n    return this.getHierarchicalFacetByName(facetName) !== undefined;\n  },\n  /**\n   * Test if the facet name is from one of the conjunctive/normal facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isConjunctiveFacet: function(facet) {\n    return this.facets.indexOf(facet) > -1;\n  },\n  /**\n   * Returns true if the facet is refined, either for a specific value or in\n   * general.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value, optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isFacetRefined: function isFacetRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains exclusions or if a specific value is\n   * excluded.\n   *\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isExcludeRefined: function isExcludeRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsExcludes, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isDisjunctiveFacetRefined: function isDisjunctiveFacetRefined(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isHierarchicalFacetRefined: function isHierarchicalFacetRefined(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return false;\n    }\n\n    var refinements = this.getHierarchicalRefinement(facet);\n\n    if (!value) {\n      return refinements.length > 0;\n    }\n\n    return refinements.indexOf(value) !== -1;\n  },\n  /**\n   * Test if the triple (attribute, operator, value) is already refined.\n   * If only the attribute and the operator are provided, it tests if the\n   * contains any refinement value.\n   * @method\n   * @param {string} attribute attribute for which the refinement is applied\n   * @param {string} [operator] operator of the refinement\n   * @param {string} [value] value of the refinement\n   * @return {boolean} true if it is refined\n   */\n  isNumericRefined: function isNumericRefined(attribute, operator, value) {\n    if (value === undefined && operator === undefined) {\n      return !!this.numericRefinements[attribute];\n    }\n\n    var isOperatorDefined =\n      this.numericRefinements[attribute] &&\n      this.numericRefinements[attribute][operator] !== undefined;\n\n    if (value === undefined || !isOperatorDefined) {\n      return isOperatorDefined;\n    }\n\n    var parsedValue = valToNumber(value);\n    var isAttributeValueDefined =\n      findArray(this.numericRefinements[attribute][operator], parsedValue) !==\n      undefined;\n\n    return isOperatorDefined && isAttributeValueDefined;\n  },\n  /**\n   * Returns true if the tag refined, false otherwise\n   * @method\n   * @param {string} tag the tag to check\n   * @return {boolean}\n   */\n  isTagRefined: function isTagRefined(tag) {\n    return this.tagRefinements.indexOf(tag) !== -1;\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedDisjunctiveFacets: function getRefinedDisjunctiveFacets() {\n    var self = this;\n\n    // attributes used for numeric filter can also be disjunctive\n    var disjunctiveNumericRefinedFacets = intersection(\n      Object.keys(this.numericRefinements).filter(function(facet) {\n        return Object.keys(self.numericRefinements[facet]).length > 0;\n      }),\n      this.disjunctiveFacets\n    );\n\n    return Object.keys(this.disjunctiveFacetsRefinements).filter(function(facet) {\n      return self.disjunctiveFacetsRefinements[facet].length > 0;\n    })\n      .concat(disjunctiveNumericRefinedFacets)\n      .concat(this.getRefinedHierarchicalFacets());\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedHierarchicalFacets: function getRefinedHierarchicalFacets() {\n    var self = this;\n    return intersection(\n      // enforce the order between the two arrays,\n      // so that refinement name index === hierarchical facet index\n      this.hierarchicalFacets.map(function(facet) { return facet.name; }),\n      Object.keys(this.hierarchicalFacetsRefinements).filter(function(facet) {\n        return self.hierarchicalFacetsRefinements[facet].length > 0;\n      })\n    );\n  },\n  /**\n   * Returned the list of all disjunctive facets not refined\n   * @method\n   * @return {string[]}\n   */\n  getUnrefinedDisjunctiveFacets: function() {\n    var refinedFacets = this.getRefinedDisjunctiveFacets();\n\n    return this.disjunctiveFacets.filter(function(f) {\n      return refinedFacets.indexOf(f) === -1;\n    });\n  },\n\n  managedParameters: [\n    'index',\n    'facets', 'disjunctiveFacets', 'facetsRefinements',\n    'facetsExcludes', 'disjunctiveFacetsRefinements',\n    'numericRefinements', 'tagRefinements', 'hierarchicalFacets', 'hierarchicalFacetsRefinements'\n  ],\n  getQueryParams: function getQueryParams() {\n    var managedParameters = this.managedParameters;\n\n    var queryParams = {};\n\n    var self = this;\n    Object.keys(this).forEach(function(paramName) {\n      var paramValue = self[paramName];\n      if (managedParameters.indexOf(paramName) === -1 && paramValue !== undefined) {\n        queryParams[paramName] = paramValue;\n      }\n    });\n\n    return queryParams;\n  },\n  /**\n   * Let the user set a specific value for a given parameter. Will return the\n   * same instance if the parameter is invalid or if the value is the same as the\n   * previous one.\n   * @method\n   * @param {string} parameter the parameter name\n   * @param {any} value the value to be set, must be compliant with the definition\n   * of the attribute on the object\n   * @return {SearchParameters} the updated state\n   */\n  setQueryParameter: function setParameter(parameter, value) {\n    if (this[parameter] === value) return this;\n\n    var modification = {};\n\n    modification[parameter] = value;\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Let the user set any of the parameters with a plain object.\n   * @method\n   * @param {object} params all the keys and the values to be updated\n   * @return {SearchParameters} a new updated instance\n   */\n  setQueryParameters: function setQueryParameters(params) {\n    if (!params) return this;\n\n    var error = SearchParameters.validate(this, params);\n\n    if (error) {\n      throw error;\n    }\n\n    var self = this;\n    var nextWithNumbers = SearchParameters._parseNumbers(params);\n    var previousPlainObject = Object.keys(this).reduce(function(acc, key) {\n      acc[key] = self[key];\n      return acc;\n    }, {});\n\n    var nextPlainObject = Object.keys(nextWithNumbers).reduce(\n      function(previous, key) {\n        var isPreviousValueDefined = previous[key] !== undefined;\n        var isNextValueDefined = nextWithNumbers[key] !== undefined;\n\n        if (isPreviousValueDefined && !isNextValueDefined) {\n          return omit(previous, [key]);\n        }\n\n        if (isNextValueDefined) {\n          previous[key] = nextWithNumbers[key];\n        }\n\n        return previous;\n      },\n      previousPlainObject\n    );\n\n    return new this.constructor(nextPlainObject);\n  },\n\n  /**\n   * Returns a new instance with the page reset. Two scenarios possible:\n   * the page is omitted -> return the given instance\n   * the page is set -> return a new instance with a page of 0\n   * @return {SearchParameters} a new updated instance\n   */\n  resetPage: function() {\n    if (this.page === undefined) {\n      return this;\n    }\n\n    return this.setPage(0);\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSortBy: function(hierarchicalFacet) {\n    return hierarchicalFacet.sortBy || ['isRefined:desc', 'name:asc'];\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSeparator: function(hierarchicalFacet) {\n    return hierarchicalFacet.separator || ' > ';\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet prefix path or null\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.rootPath or null as default\n   */\n  _getHierarchicalRootPath: function(hierarchicalFacet) {\n    return hierarchicalFacet.rootPath || null;\n  },\n\n  /**\n   * Helper function to check if we show the parent level of the hierarchicalFacet\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.showParentLevel or true as default\n   */\n  _getHierarchicalShowParentLevel: function(hierarchicalFacet) {\n    if (typeof hierarchicalFacet.showParentLevel === 'boolean') {\n      return hierarchicalFacet.showParentLevel;\n    }\n    return true;\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet by it's name\n   * @param  {string} hierarchicalFacetName\n   * @return {object} a hierarchicalFacet\n   */\n  getHierarchicalFacetByName: function(hierarchicalFacetName) {\n    return find(\n      this.hierarchicalFacets,\n      function(f) {\n        return f.name === hierarchicalFacetName;\n      }\n    );\n  },\n\n  /**\n   * Get the current breadcrumb for a hierarchical facet, as an array\n   * @param  {string} facetName Hierarchical facet name\n   * @return {array.<string>} the path as an array of string\n   */\n  getHierarchicalFacetBreadcrumb: function(facetName) {\n    if (!this.isHierarchicalFacet(facetName)) {\n      return [];\n    }\n\n    var refinement = this.getHierarchicalRefinement(facetName)[0];\n    if (!refinement) return [];\n\n    var separator = this._getHierarchicalFacetSeparator(\n      this.getHierarchicalFacetByName(facetName)\n    );\n    var path = refinement.split(separator);\n    return path.map(function(part) {\n      return part.trim();\n    });\n  },\n\n  toString: function() {\n    return JSON.stringify(this, null, 2);\n  }\n};\n\n/**\n * Callback used for clearRefinement method\n * @callback SearchParameters.clearCallback\n * @param {OperatorList|FacetList} value the value of the filter\n * @param {string} key the current attribute name\n * @param {string} type `numeric`, `disjunctiveFacet`, `conjunctiveFacet`, `hierarchicalFacet` or `exclude`\n * depending on the type of facet\n * @return {boolean} `true` if the element should be removed. `false` otherwise.\n */\nmodule.exports = SearchParameters;\n","'use strict';\n\nmodule.exports = generateTrees;\n\nvar orderBy = require('../functions/orderBy');\nvar find = require('../functions/find');\nvar prepareHierarchicalFacetSortBy = require('../functions/formatSort');\n\nfunction generateTrees(state) {\n  return function generate(hierarchicalFacetResult, hierarchicalFacetIndex) {\n    var hierarchicalFacet = state.hierarchicalFacets[hierarchicalFacetIndex];\n    var hierarchicalFacetRefinement =\n      (state.hierarchicalFacetsRefinements[hierarchicalFacet.name] &&\n        state.hierarchicalFacetsRefinements[hierarchicalFacet.name][0]) ||\n      '';\n    var hierarchicalSeparator = state._getHierarchicalFacetSeparator(\n      hierarchicalFacet\n    );\n    var hierarchicalRootPath = state._getHierarchicalRootPath(\n      hierarchicalFacet\n    );\n    var hierarchicalShowParentLevel = state._getHierarchicalShowParentLevel(\n      hierarchicalFacet\n    );\n    var sortBy = prepareHierarchicalFacetSortBy(\n      state._getHierarchicalFacetSortBy(hierarchicalFacet)\n    );\n\n    var rootExhaustive = hierarchicalFacetResult.every(function(facetResult) {\n      return facetResult.exhaustive;\n    });\n\n    var generateTreeFn = generateHierarchicalTree(\n      sortBy,\n      hierarchicalSeparator,\n      hierarchicalRootPath,\n      hierarchicalShowParentLevel,\n      hierarchicalFacetRefinement\n    );\n\n    var results = hierarchicalFacetResult;\n\n    if (hierarchicalRootPath) {\n      results = hierarchicalFacetResult.slice(\n        hierarchicalRootPath.split(hierarchicalSeparator).length\n      );\n    }\n\n    return results.reduce(generateTreeFn, {\n      name: state.hierarchicalFacets[hierarchicalFacetIndex].name,\n      count: null, // root level, no count\n      isRefined: true, // root level, always refined\n      path: null, // root level, no path\n      exhaustive: rootExhaustive,\n      data: null\n    });\n  };\n}\n\nfunction generateHierarchicalTree(\n  sortBy,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel,\n  currentRefinement\n) {\n  return function generateTree(\n    hierarchicalTree,\n    hierarchicalFacetResult,\n    currentHierarchicalLevel\n  ) {\n    var parent = hierarchicalTree;\n\n    if (currentHierarchicalLevel > 0) {\n      var level = 0;\n\n      parent = hierarchicalTree;\n\n      while (level < currentHierarchicalLevel) {\n        /**\n         * @type {object[]]} hierarchical data\n         */\n        var data = parent && Array.isArray(parent.data) ? parent.data : [];\n        parent = find(data, function(subtree) {\n          return subtree.isRefined;\n        });\n        level++;\n      }\n    }\n\n    // we found a refined parent, let's add current level data under it\n    if (parent) {\n      // filter values in case an object has multiple categories:\n      //   {\n      //     categories: {\n      //       level0: ['beers', 'bires'],\n      //       level1: ['beers > IPA', 'bires > Belges']\n      //     }\n      //   }\n      //\n      // If parent refinement is `beers`, then we do not want to have `bires > Belges`\n      // showing up\n\n      var picked = Object.keys(hierarchicalFacetResult.data)\n        .map(function(facetValue) {\n          return [facetValue, hierarchicalFacetResult.data[facetValue]];\n        })\n        .filter(function(tuple) {\n          var facetValue = tuple[0];\n          return onlyMatchingTree(\n            facetValue,\n            parent.path || hierarchicalRootPath,\n            currentRefinement,\n            hierarchicalSeparator,\n            hierarchicalRootPath,\n            hierarchicalShowParentLevel\n          );\n        });\n\n      parent.data = orderBy(\n        picked.map(function(tuple) {\n          var facetValue = tuple[0];\n          var facetCount = tuple[1];\n\n          return format(\n            facetCount,\n            facetValue,\n            hierarchicalSeparator,\n            currentRefinement,\n            hierarchicalFacetResult.exhaustive\n          );\n        }),\n        sortBy[0],\n        sortBy[1]\n      );\n    }\n\n    return hierarchicalTree;\n  };\n}\n\nfunction onlyMatchingTree(\n  facetValue,\n  parentPath,\n  currentRefinement,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel\n) {\n  // we want the facetValue is a child of hierarchicalRootPath\n  if (\n    hierarchicalRootPath &&\n    (facetValue.indexOf(hierarchicalRootPath) !== 0 ||\n      hierarchicalRootPath === facetValue)\n  ) {\n    return false;\n  }\n\n  // we always want root levels (only when there is no prefix path)\n  return (\n    (!hierarchicalRootPath &&\n      facetValue.indexOf(hierarchicalSeparator) === -1) ||\n    // if there is a rootPath, being root level mean 1 level under rootPath\n    (hierarchicalRootPath &&\n      facetValue.split(hierarchicalSeparator).length -\n        hierarchicalRootPath.split(hierarchicalSeparator).length ===\n        1) ||\n    // if current refinement is a root level and current facetValue is a root level,\n    // keep the facetValue\n    (facetValue.indexOf(hierarchicalSeparator) === -1 &&\n      currentRefinement.indexOf(hierarchicalSeparator) === -1) ||\n    // currentRefinement is a child of the facet value\n    currentRefinement.indexOf(facetValue) === 0 ||\n    // facetValue is a child of the current parent, add it\n    (facetValue.indexOf(parentPath + hierarchicalSeparator) === 0 &&\n      (hierarchicalShowParentLevel ||\n        facetValue.indexOf(currentRefinement) === 0))\n  );\n}\n\nfunction format(\n  facetCount,\n  facetValue,\n  hierarchicalSeparator,\n  currentRefinement,\n  exhaustive\n) {\n  var parts = facetValue.split(hierarchicalSeparator);\n  return {\n    name: parts[parts.length - 1].trim(),\n    path: facetValue,\n    count: facetCount,\n    isRefined:\n      currentRefinement === facetValue ||\n      currentRefinement.indexOf(facetValue + hierarchicalSeparator) === 0,\n    exhaustive: exhaustive,\n    data: null\n  };\n}\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar orderBy = require('../functions/orderBy');\nvar compact = require('../functions/compact');\nvar find = require('../functions/find');\nvar findIndex = require('../functions/findIndex');\nvar formatSort = require('../functions/formatSort');\n\nvar generateHierarchicalTree = require('./generate-hierarchical-tree');\n\n/**\n * @typedef SearchResults.Facet\n * @type {object}\n * @property {string} name name of the attribute in the record\n * @property {object} data the faceting data: value, number of entries\n * @property {object} stats undefined unless facet_stats is retrieved from algolia\n */\n\n/**\n * @typedef SearchResults.HierarchicalFacet\n * @type {object}\n * @property {string} name name of the current value given the hierarchical level, trimmed.\n * If root node, you get the facet name\n * @property {number} count number of objects matching this hierarchical value\n * @property {string} path the current hierarchical value full path\n * @property {boolean} isRefined `true` if the current value was refined, `false` otherwise\n * @property {HierarchicalFacet[]} data sub values for the current level\n */\n\n/**\n * @typedef SearchResults.FacetValue\n * @type {object}\n * @property {string} name the facet value itself\n * @property {number} count times this facet appears in the results\n * @property {boolean} isRefined is the facet currently selected\n * @property {boolean} isExcluded is the facet currently excluded (only for conjunctive facets)\n */\n\n/**\n * @typedef Refinement\n * @type {object}\n * @property {string} type the type of filter used:\n * `numeric`, `facet`, `exclude`, `disjunctive`, `hierarchical`\n * @property {string} attributeName name of the attribute used for filtering\n * @property {string} name the value of the filter\n * @property {number} numericValue the value as a number. Only for numeric filters.\n * @property {string} operator the operator used. Only for numeric filters.\n * @property {number} count the number of computed hits for this filter. Only on facets.\n * @property {boolean} exhaustive if the count is exhaustive\n */\n\n/**\n * @param {string[]} attributes\n */\nfunction getIndices(attributes) {\n  var indices = {};\n\n  attributes.forEach(function(val, idx) {\n    indices[val] = idx;\n  });\n\n  return indices;\n}\n\nfunction assignFacetStats(dest, facetStats, key) {\n  if (facetStats && facetStats[key]) {\n    dest.stats = facetStats[key];\n  }\n}\n\n/**\n * @typedef {Object} HierarchicalFacet\n * @property {string} name\n * @property {string[]} attributes\n */\n\n/**\n * @param {HierarchicalFacet[]} hierarchicalFacets\n * @param {string} hierarchicalAttributeName\n */\nfunction findMatchingHierarchicalFacetFromAttributeName(\n  hierarchicalFacets,\n  hierarchicalAttributeName\n) {\n  return find(hierarchicalFacets, function facetKeyMatchesAttribute(\n    hierarchicalFacet\n  ) {\n    var facetNames = hierarchicalFacet.attributes || [];\n    return facetNames.indexOf(hierarchicalAttributeName) > -1;\n  });\n}\n\n/*eslint-disable */\n/**\n * Constructor for SearchResults\n * @class\n * @classdesc SearchResults contains the results of a query to Algolia using the\n * {@link AlgoliaSearchHelper}.\n * @param {SearchParameters} state state that led to the response\n * @param {array.<object>} results the results from algolia client\n * @example <caption>SearchResults of the first query in\n * <a href=\"http://demos.algolia.com/instant-search-demo\">the instant search demo</a></caption>\n{\n   \"hitsPerPage\": 10,\n   \"processingTimeMS\": 2,\n   \"facets\": [\n      {\n         \"name\": \"type\",\n         \"data\": {\n            \"HardGood\": 6627,\n            \"BlackTie\": 550,\n            \"Music\": 665,\n            \"Software\": 131,\n            \"Game\": 456,\n            \"Movie\": 1571\n         },\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"Free shipping\": 5507\n         },\n         \"name\": \"shipping\"\n      }\n  ],\n   \"hits\": [\n      {\n         \"thumbnailImage\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_54x108_s.gif\",\n         \"_highlightResult\": {\n            \"shortDescription\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n               \"matchedWords\": []\n            },\n            \"category\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Computer Security Software\",\n               \"matchedWords\": []\n            },\n            \"manufacturer\": {\n               \"matchedWords\": [],\n               \"value\": \"Webroot\",\n               \"matchLevel\": \"none\"\n            },\n            \"name\": {\n               \"value\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n               \"matchedWords\": [],\n               \"matchLevel\": \"none\"\n            }\n         },\n         \"image\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_105x210_sc.jpg\",\n         \"shipping\": \"Free shipping\",\n         \"bestSellingRank\": 4,\n         \"shortDescription\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n         \"url\": \"http://www.bestbuy.com/site/webroot-secureanywhere-internet-security-3-devid=1219060687969&skuId=1688832&cmp=RMX&ky=2d3GfEmNIzjA0vkzveHdZEBgpPCyMnLTJ\",\n         \"name\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n         \"category\": \"Computer Security Software\",\n         \"salePrice_range\": \"1 - 50\",\n         \"objectID\": \"1688832\",\n         \"type\": \"Software\",\n         \"customerReviewCount\": 5980,\n         \"salePrice\": 49.99,\n         \"manufacturer\": \"Webroot\"\n      },\n      ....\n  ],\n   \"nbHits\": 10000,\n   \"disjunctiveFacets\": [\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"5\": 183,\n            \"12\": 112,\n            \"7\": 149,\n            ...\n         },\n         \"name\": \"customerReviewCount\",\n         \"stats\": {\n            \"max\": 7461,\n            \"avg\": 157.939,\n            \"min\": 1\n         }\n      },\n      {\n         \"data\": {\n            \"Printer Ink\": 142,\n            \"Wireless Speakers\": 60,\n            \"Point & Shoot Cameras\": 48,\n            ...\n         },\n         \"name\": \"category\",\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"> 5000\": 2,\n            \"1 - 50\": 6524,\n            \"501 - 2000\": 566,\n            \"201 - 500\": 1501,\n            \"101 - 200\": 1360,\n            \"2001 - 5000\": 47\n         },\n         \"name\": \"salePrice_range\"\n      },\n      {\n         \"data\": {\n            \"Dynex\": 202,\n            \"Insignia\": 230,\n            \"PNY\": 72,\n            ...\n         },\n         \"name\": \"manufacturer\",\n         \"exhaustive\": false\n      }\n  ],\n   \"query\": \"\",\n   \"nbPages\": 100,\n   \"page\": 0,\n   \"index\": \"bestbuy\"\n}\n **/\n/*eslint-enable */\nfunction SearchResults(state, results) {\n  var mainSubResponse = results[0];\n\n  this._rawResults = results;\n\n  var self = this;\n\n  // https://www.algolia.com/doc/api-reference/api-methods/search/#response\n  Object.keys(mainSubResponse).forEach(function(key) {\n    self[key] = mainSubResponse[key];\n  });\n\n  /**\n   * query used to generate the results\n   * @name query\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The query as parsed by the engine given all the rules.\n   * @name parsedQuery\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * all the records that match the search parameters. Each record is\n   * augmented with a new attribute `_highlightResult`\n   * which is an object keyed by attribute and with the following properties:\n   *  - `value` : the value of the facet highlighted (html)\n   *  - `matchLevel`: full, partial or none depending on how the query terms match\n   * @name hits\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * index where the results come from\n   * @name index\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * number of hits per page requested\n   * @name hitsPerPage\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of hits of this query on the index\n   * @name nbHits\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of pages with respect to the number of hits per page and the total number of hits\n   * @name nbPages\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * current page\n   * @name page\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The position if the position was guessed by IP.\n   * @name aroundLatLng\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"48.8637,2.3615\",\n   */\n  /**\n   * The radius computed by Algolia.\n   * @name automaticRadius\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"126792922\",\n   */\n  /**\n   * String identifying the server used to serve this request.\n   *\n   * getRankingInfo needs to be set to `true` for this to be returned\n   *\n   * @name serverUsed\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"c7-use-2.algolia.net\",\n   */\n  /**\n   * Boolean that indicates if the computation of the counts did time out.\n   * @deprecated\n   * @name timeoutCounts\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Boolean that indicates if the computation of the hits did time out.\n   * @deprecated\n   * @name timeoutHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the counts of the facets is exhaustive\n   * @name exhaustiveFacetsCount\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the number of hits is exhaustive\n   * @name exhaustiveNbHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Contains the userData if they are set by a [query rule](https://www.algolia.com/doc/guides/query-rules/query-rules-overview/).\n   * @name userData\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * queryID is the unique identifier of the query used to generate the current search results.\n   * This value is only available if the `clickAnalytics` search parameter is set to `true`.\n   * @name queryID\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * sum of the processing time of all the queries\n   * @member {number}\n   */\n  this.processingTimeMS = results.reduce(function(sum, result) {\n    return result.processingTimeMS === undefined\n      ? sum\n      : sum + result.processingTimeMS;\n  }, 0);\n\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.disjunctiveFacets = [];\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.HierarchicalFacet[]}\n   */\n  this.hierarchicalFacets = state.hierarchicalFacets.map(function initFutureTree() {\n    return [];\n  });\n  /**\n   * other facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.facets = [];\n\n  var disjunctiveFacets = state.getRefinedDisjunctiveFacets();\n\n  var facetsIndices = getIndices(state.facets);\n  var disjunctiveFacetsIndices = getIndices(state.disjunctiveFacets);\n  var nextDisjunctiveResult = 1;\n\n  // Since we send request only for disjunctive facets that have been refined,\n  // we get the facets information from the first, general, response.\n\n  var mainFacets = mainSubResponse.facets || {};\n\n  Object.keys(mainFacets).forEach(function(facetKey) {\n    var facetValueObject = mainFacets[facetKey];\n\n    var hierarchicalFacet = findMatchingHierarchicalFacetFromAttributeName(\n      state.hierarchicalFacets,\n      facetKey\n    );\n\n    if (hierarchicalFacet) {\n      // Place the hierarchicalFacet data at the correct index depending on\n      // the attributes order that was defined at the helper initialization\n      var facetIndex = hierarchicalFacet.attributes.indexOf(facetKey);\n      var idxAttributeName = findIndex(state.hierarchicalFacets, function(f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      self.hierarchicalFacets[idxAttributeName][facetIndex] = {\n        attribute: facetKey,\n        data: facetValueObject,\n        exhaustive: mainSubResponse.exhaustiveFacetsCount\n      };\n    } else {\n      var isFacetDisjunctive = state.disjunctiveFacets.indexOf(facetKey) !== -1;\n      var isFacetConjunctive = state.facets.indexOf(facetKey) !== -1;\n      var position;\n\n      if (isFacetDisjunctive) {\n        position = disjunctiveFacetsIndices[facetKey];\n        self.disjunctiveFacets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], mainSubResponse.facets_stats, facetKey);\n      }\n      if (isFacetConjunctive) {\n        position = facetsIndices[facetKey];\n        self.facets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.facets[position], mainSubResponse.facets_stats, facetKey);\n      }\n    }\n  });\n\n  // Make sure we do not keep holes within the hierarchical facets\n  this.hierarchicalFacets = compact(this.hierarchicalFacets);\n\n  // aggregate the refined disjunctive facets\n  disjunctiveFacets.forEach(function(disjunctiveFacet) {\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    var hierarchicalFacet = state.getHierarchicalFacetByName(disjunctiveFacet);\n\n    // There should be only item in facets.\n    Object.keys(facets).forEach(function(dfacet) {\n      var facetResults = facets[dfacet];\n\n      var position;\n\n      if (hierarchicalFacet) {\n        position = findIndex(state.hierarchicalFacets, function(f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n          return f.attribute === dfacet;\n        });\n\n        // previous refinements and no results so not able to find it\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = merge(\n          {},\n          self.hierarchicalFacets[position][attributeIndex].data,\n          facetResults\n        );\n      } else {\n        position = disjunctiveFacetsIndices[dfacet];\n\n        var dataFromMainRequest = mainSubResponse.facets && mainSubResponse.facets[dfacet] || {};\n\n        self.disjunctiveFacets[position] = {\n          name: dfacet,\n          data: defaultsPure({}, facetResults, dataFromMainRequest),\n          exhaustive: result.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], result.facets_stats, dfacet);\n\n        if (state.disjunctiveFacetsRefinements[dfacet]) {\n          state.disjunctiveFacetsRefinements[dfacet].forEach(function(refinementValue) {\n            // add the disjunctive refinements if it is no more retrieved\n            if (!self.disjunctiveFacets[position].data[refinementValue] &&\n              state.disjunctiveFacetsRefinements[dfacet].indexOf(refinementValue) > -1) {\n              self.disjunctiveFacets[position].data[refinementValue] = 0;\n            }\n          });\n        }\n      }\n    });\n    nextDisjunctiveResult++;\n  });\n\n  // if we have some root level values for hierarchical facets, merge them\n  state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n    var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n    // if we are already at a root refinement (or no refinement at all), there is no\n    // root level values request\n    if (currentRefinement.length === 0 || currentRefinement[0].split(separator).length < 2) {\n      return;\n    }\n\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets\n      ? result.facets\n      : {};\n    Object.keys(facets).forEach(function(dfacet) {\n      var facetResults = facets[dfacet];\n      var position = findIndex(state.hierarchicalFacets, function(f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n        return f.attribute === dfacet;\n      });\n\n      // previous refinements and no results so not able to find it\n      if (attributeIndex === -1) {\n        return;\n      }\n\n      // when we always get root levels, if the hits refinement is `beers > IPA` (count: 5),\n      // then the disjunctive values will be `beers` (count: 100),\n      // but we do not want to display\n      //   | beers (100)\n      //     > IPA (5)\n      // We want\n      //   | beers (5)\n      //     > IPA (5)\n      var defaultData = {};\n\n      if (currentRefinement.length > 0) {\n        var root = currentRefinement[0].split(separator)[0];\n        defaultData[root] = self.hierarchicalFacets[position][attributeIndex].data[root];\n      }\n\n      self.hierarchicalFacets[position][attributeIndex].data = defaultsPure(\n        defaultData,\n        facetResults,\n        self.hierarchicalFacets[position][attributeIndex].data\n      );\n    });\n\n    nextDisjunctiveResult++;\n  });\n\n  // add the excludes\n  Object.keys(state.facetsExcludes).forEach(function(facetName) {\n    var excludes = state.facetsExcludes[facetName];\n    var position = facetsIndices[facetName];\n\n    self.facets[position] = {\n      name: facetName,\n      data: mainSubResponse.facets[facetName],\n      exhaustive: mainSubResponse.exhaustiveFacetsCount\n    };\n    excludes.forEach(function(facetValue) {\n      self.facets[position] = self.facets[position] || {name: facetName};\n      self.facets[position].data = self.facets[position].data || {};\n      self.facets[position].data[facetValue] = 0;\n    });\n  });\n\n  /**\n   * @type {Array}\n   */\n  this.hierarchicalFacets = this.hierarchicalFacets.map(generateHierarchicalTree(state));\n\n  /**\n   * @type {Array}\n   */\n  this.facets = compact(this.facets);\n  /**\n   * @type {Array}\n   */\n  this.disjunctiveFacets = compact(this.disjunctiveFacets);\n\n  this._state = state;\n}\n\n/**\n * Get a facet object with its name\n * @deprecated\n * @param {string} name name of the faceted attribute\n * @return {SearchResults.Facet} the facet object\n */\nSearchResults.prototype.getFacetByName = function(name) {\n  function predicate(facet) {\n    return facet.name === name;\n  }\n\n  return find(this.facets, predicate) ||\n    find(this.disjunctiveFacets, predicate) ||\n    find(this.hierarchicalFacets, predicate);\n};\n\n/**\n * Get the facet values of a specified attribute from a SearchResults object.\n * @private\n * @param {SearchResults} results the search results to search in\n * @param {string} attribute name of the faceted attribute to search for\n * @return {array|object} facet values. For the hierarchical facets it is an object.\n */\nfunction extractNormalizedFacetValues(results, attribute) {\n  function predicate(facet) {\n    return facet.name === attribute;\n  }\n\n  if (results._state.isConjunctiveFacet(attribute)) {\n    var facet = find(results.facets, predicate);\n    if (!facet) return [];\n\n    return Object.keys(facet.data).map(function(name) {\n      return {\n        name: name,\n        count: facet.data[name],\n        isRefined: results._state.isFacetRefined(attribute, name),\n        isExcluded: results._state.isExcludeRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isDisjunctiveFacet(attribute)) {\n    var disjunctiveFacet = find(results.disjunctiveFacets, predicate);\n    if (!disjunctiveFacet) return [];\n\n    return Object.keys(disjunctiveFacet.data).map(function(name) {\n      return {\n        name: name,\n        count: disjunctiveFacet.data[name],\n        isRefined: results._state.isDisjunctiveFacetRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isHierarchicalFacet(attribute)) {\n    return find(results.hierarchicalFacets, predicate);\n  }\n}\n\n/**\n * Sort nodes of a hierarchical or disjunctive facet results\n * @private\n * @param {function} sortFn\n * @param {HierarchicalFacet|Array} node node upon which we want to apply the sort\n * @param {string[]} names attribute names\n * @param {number} [level=0] current index in the names array\n */\nfunction recSort(sortFn, node, names, level) {\n  level = level || 0;\n\n  if (Array.isArray(node)) {\n    return sortFn(node, names[level]);\n  }\n\n  if (!node.data || node.data.length === 0) {\n    return node;\n  }\n\n  var children = node.data.map(function(childNode) {\n    return recSort(sortFn, childNode, names, level + 1);\n  });\n  var sortedChildren = sortFn(children, names[level]);\n  var newNode = defaultsPure({data: sortedChildren}, node);\n  return newNode;\n}\n\nSearchResults.DEFAULT_SORT = ['isRefined:desc', 'count:desc', 'name:asc'];\n\nfunction vanillaSortFn(order, data) {\n  return data.sort(order);\n}\n\n/**\n * @typedef FacetOrdering\n * @type {Object}\n * @property {string[]} [order]\n * @property {'count' | 'alpha' | 'hidden'} [sortRemainingBy]\n */\n\n/**\n * Sorts facet arrays via their facet ordering\n * @param {Array} facetValues the values\n * @param {FacetOrdering} facetOrdering the ordering\n * @returns {Array}\n */\nfunction sortViaFacetOrdering(facetValues, facetOrdering) {\n  var orderedFacets = [];\n  var remainingFacets = [];\n\n  var order = facetOrdering.order || [];\n  /**\n   * an object with the keys being the values in order, the values their index:\n   * ['one', 'two'] -> { one: 0, two: 1 }\n   */\n  var reverseOrder = order.reduce(function(acc, name, i) {\n    acc[name] = i;\n    return acc;\n  }, {});\n\n  facetValues.forEach(function(item) {\n    // hierarchical facets get sorted using their raw name\n    var name = item.path || item.name;\n    if (reverseOrder[name] !== undefined) {\n      orderedFacets[reverseOrder[name]] = item;\n    } else {\n      remainingFacets.push(item);\n    }\n  });\n\n  var sortRemainingBy = facetOrdering.sortRemainingBy;\n  var ordering;\n  if (sortRemainingBy === 'hidden') {\n    return orderedFacets;\n  } else if (sortRemainingBy === 'alpha') {\n    ordering = [['path', 'name'], ['asc', 'asc']];\n  } else {\n    ordering = [['count'], ['desc']];\n  }\n\n  return orderedFacets.concat(\n    orderBy(remainingFacets, ordering[0], ordering[1])\n  );\n}\n\n/**\n * @param {SearchResults} results the search results class\n * @param {string} attribute the attribute to retrieve ordering of\n * @returns {FacetOrdering=}\n */\nfunction getFacetOrdering(results, attribute) {\n  return (\n    results.renderingContent &&\n    results.renderingContent.facetOrdering &&\n    results.renderingContent.facetOrdering.values &&\n    results.renderingContent.facetOrdering.values[attribute]\n  );\n}\n\n/**\n * Get a the list of values for a given facet attribute. Those values are sorted\n * refinement first, descending count (bigger value on top), and name ascending\n * (alphabetical order). The sort formula can overridden using either string based\n * predicates or a function.\n *\n * This method will return all the values returned by the Algolia engine plus all\n * the values already refined. This means that it can happen that the\n * `maxValuesPerFacet` [configuration](https://www.algolia.com/doc/rest-api/search#param-maxValuesPerFacet)\n * might not be respected if you have facet values that are already refined.\n * @param {string} attribute attribute name\n * @param {object} opts configuration options.\n * @param {boolean} [opts.facetOrdering]\n * Force the use of facetOrdering from the result if a sortBy is present. If\n * sortBy isn't present, facetOrdering will be used automatically.\n * @param {Array.<string> | function} opts.sortBy\n * When using strings, it consists of\n * the name of the [FacetValue](#SearchResults.FacetValue) or the\n * [HierarchicalFacet](#SearchResults.HierarchicalFacet) attributes with the\n * order (`asc` or `desc`). For example to order the value by count, the\n * argument would be `['count:asc']`.\n *\n * If only the attribute name is specified, the ordering defaults to the one\n * specified in the default value for this attribute.\n *\n * When not specified, the order is\n * ascending.  This parameter can also be a function which takes two facet\n * values and should return a number, 0 if equal, 1 if the first argument is\n * bigger or -1 otherwise.\n *\n * The default value for this attribute `['isRefined:desc', 'count:desc', 'name:asc']`\n * @return {FacetValue[]|HierarchicalFacet|undefined} depending on the type of facet of\n * the attribute requested (hierarchical, disjunctive or conjunctive)\n * @example\n * helper.on('result', function(event){\n *   //get values ordered only by name ascending using the string predicate\n *   event.results.getFacetValues('city', {sortBy: ['name:asc']});\n *   //get values  ordered only by count ascending using a function\n *   event.results.getFacetValues('city', {\n *     // this is equivalent to ['count:asc']\n *     sortBy: function(a, b) {\n *       if (a.count === b.count) return 0;\n *       if (a.count > b.count)   return 1;\n *       if (b.count > a.count)   return -1;\n *     }\n *   });\n * });\n */\nSearchResults.prototype.getFacetValues = function(attribute, opts) {\n  var facetValues = extractNormalizedFacetValues(this, attribute);\n  if (!facetValues) {\n    return undefined;\n  }\n\n  var options = defaultsPure({}, opts, {\n    sortBy: SearchResults.DEFAULT_SORT,\n    // if no sortBy is given, attempt to sort based on facetOrdering\n    // if it is given, we still allow to sort via facet ordering first\n    facetOrdering: !(opts && opts.sortBy)\n  });\n\n  var results = this;\n  var attributes;\n  if (Array.isArray(facetValues)) {\n    attributes = [attribute];\n  } else {\n    var config = results._state.getHierarchicalFacetByName(facetValues.name);\n    attributes = config.attributes;\n  }\n\n  return recSort(function(data, facetName) {\n    if (options.facetOrdering) {\n      var facetOrdering = getFacetOrdering(results, facetName);\n      if (Boolean(facetOrdering)) {\n        return sortViaFacetOrdering(data, facetOrdering);\n      }\n    }\n\n    if (Array.isArray(options.sortBy)) {\n      var order = formatSort(options.sortBy, SearchResults.DEFAULT_SORT);\n      return orderBy(data, order[0], order[1]);\n    } else if (typeof options.sortBy === 'function') {\n      return vanillaSortFn(options.sortBy, data);\n    }\n    throw new Error(\n      'options.sortBy is optional but if defined it must be ' +\n        'either an array of string (predicates) or a sorting function'\n    );\n  }, facetValues, attributes);\n};\n\n/**\n * Returns the facet stats if attribute is defined and the facet contains some.\n * Otherwise returns undefined.\n * @param {string} attribute name of the faceted attribute\n * @return {object} The stats of the facet\n */\nSearchResults.prototype.getFacetStats = function(attribute) {\n  if (this._state.isConjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.facets, attribute);\n  } else if (this._state.isDisjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.disjunctiveFacets, attribute);\n  }\n\n  return undefined;\n};\n\n/**\n * @typedef {Object} FacetListItem\n * @property {string} name\n */\n\n/**\n * @param {FacetListItem[]} facetList (has more items, but enough for here)\n * @param {string} facetName\n */\nfunction getFacetStatsIfAvailable(facetList, facetName) {\n  var data = find(facetList, function(facet) {\n    return facet.name === facetName;\n  });\n  return data && data.stats;\n}\n\n/**\n * Returns all refinements for all filters + tags. It also provides\n * additional information: count and exhaustiveness for each filter.\n *\n * See the [refinement type](#Refinement) for an exhaustive view of the available\n * data.\n *\n * Note that for a numeric refinement, results are grouped per operator, this\n * means that it will return responses for operators which are empty.\n *\n * @return {Array.<Refinement>} all the refinements\n */\nSearchResults.prototype.getRefinements = function() {\n  var state = this._state;\n  var results = this;\n  var res = [];\n\n  Object.keys(state.facetsRefinements).forEach(function(attributeName) {\n    state.facetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'facet', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.facetsExcludes).forEach(function(attributeName) {\n    state.facetsExcludes[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'exclude', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.disjunctiveFacetsRefinements).forEach(function(attributeName) {\n    state.disjunctiveFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'disjunctive', attributeName, name, results.disjunctiveFacets));\n    });\n  });\n\n  Object.keys(state.hierarchicalFacetsRefinements).forEach(function(attributeName) {\n    state.hierarchicalFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getHierarchicalRefinement(state, attributeName, name, results.hierarchicalFacets));\n    });\n  });\n\n\n  Object.keys(state.numericRefinements).forEach(function(attributeName) {\n    var operators = state.numericRefinements[attributeName];\n    Object.keys(operators).forEach(function(operator) {\n      operators[operator].forEach(function(value) {\n        res.push({\n          type: 'numeric',\n          attributeName: attributeName,\n          name: value,\n          numericValue: value,\n          operator: operator\n        });\n      });\n    });\n  });\n\n  state.tagRefinements.forEach(function(name) {\n    res.push({type: 'tag', attributeName: '_tags', name: name});\n  });\n\n  return res;\n};\n\n/**\n * @typedef {Object} Facet\n * @property {string} name\n * @property {Object} data\n * @property {boolean} exhaustive\n */\n\n/**\n * @param {*} state\n * @param {*} type\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getRefinement(state, type, attributeName, name, resultsFacets) {\n  var facet = find(resultsFacets, function(f) {\n    return f.name === attributeName;\n  });\n  var count = facet && facet.data && facet.data[name] ? facet.data[name] : 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n\n  return {\n    type: type,\n    attributeName: attributeName,\n    name: name,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\n/**\n * @param {*} state\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getHierarchicalRefinement(state, attributeName, name, resultsFacets) {\n  var facetDeclaration = state.getHierarchicalFacetByName(attributeName);\n  var separator = state._getHierarchicalFacetSeparator(facetDeclaration);\n  var split = name.split(separator);\n  var rootFacet = find(resultsFacets, function(facet) {\n    return facet.name === attributeName;\n  });\n\n  var facet = split.reduce(function(intermediateFacet, part) {\n    var newFacet =\n      intermediateFacet && find(intermediateFacet.data, function(f) {\n        return f.name === part;\n      });\n    return newFacet !== undefined ? newFacet : intermediateFacet;\n  }, rootFacet);\n\n  var count = (facet && facet.count) || 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n  var path = (facet && facet.path) || '';\n\n  return {\n    type: 'hierarchical',\n    attributeName: attributeName,\n    name: path,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\nmodule.exports = SearchResults;\n","'use strict';\n\nvar SearchParameters = require('./SearchParameters');\nvar SearchResults = require('./SearchResults');\nvar DerivedHelper = require('./DerivedHelper');\nvar requestBuilder = require('./requestBuilder');\n\nvar events = require('events');\nvar inherits = require('./functions/inherits');\nvar objectHasKeys = require('./functions/objectHasKeys');\nvar omit = require('./functions/omit');\nvar merge = require('./functions/merge');\n\nvar version = require('./version');\n\n/**\n * Event triggered when a parameter is set or updated\n * @event AlgoliaSearchHelper#event:change\n * @property {object} event\n * @property {SearchParameters} event.state the current parameters with the latest changes applied\n * @property {SearchResults} event.results the previous results received from Algolia. `null` before the first request\n * @example\n * helper.on('change', function(event) {\n *   console.log('The parameters have changed');\n * });\n */\n\n/**\n * Event triggered when a main search is sent to Algolia\n * @event AlgoliaSearchHelper#event:search\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search\n * @property {SearchResults} event.results the results from the previous search. `null` if it is the first search.\n * @example\n * helper.on('search', function(event) {\n *   console.log('Search sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchForFacetValues` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchForFacetValues\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @property {string} event.facet the facet searched into\n * @property {string} event.query the query used to search in the facets\n * @example\n * helper.on('searchForFacetValues', function(event) {\n *   console.log('searchForFacetValues sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchOnce` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchOnce\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @example\n * helper.on('searchOnce', function(event) {\n *   console.log('searchOnce sent');\n * });\n */\n\n/**\n * Event triggered when the results are retrieved from Algolia\n * @event AlgoliaSearchHelper#event:result\n * @property {object} event\n * @property {SearchResults} event.results the results received from Algolia\n * @property {SearchParameters} event.state the parameters used to query Algolia. Those might be different from the one in the helper instance (for example if the network is unreliable).\n * @example\n * helper.on('result', function(event) {\n *   console.log('Search results received');\n * });\n */\n\n/**\n * Event triggered when Algolia sends back an error. For example, if an unknown parameter is\n * used, the error can be caught using this event.\n * @event AlgoliaSearchHelper#event:error\n * @property {object} event\n * @property {Error} event.error the error returned by the Algolia.\n * @example\n * helper.on('error', function(event) {\n *   console.log('Houston we got a problem.');\n * });\n */\n\n/**\n * Event triggered when the queue of queries have been depleted (with any result or outdated queries)\n * @event AlgoliaSearchHelper#event:searchQueueEmpty\n * @example\n * helper.on('searchQueueEmpty', function() {\n *   console.log('No more search pending');\n *   // This is received before the result event if we're not expecting new results\n * });\n *\n * helper.search();\n */\n\n/**\n * Initialize a new AlgoliaSearchHelper\n * @class\n * @classdesc The AlgoliaSearchHelper is a class that ease the management of the\n * search. It provides an event based interface for search callbacks:\n *  - change: when the internal search state is changed.\n *    This event contains a {@link SearchParameters} object and the\n *    {@link SearchResults} of the last result if any.\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n *  - error: when the response is an error. This event contains the error returned by the server.\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the index name to query\n * @param  {SearchParameters | object} options an object defining the initial\n * config of the search. It doesn't have to be a {SearchParameters},\n * just an object containing the properties you need from it.\n */\nfunction AlgoliaSearchHelper(client, index, options) {\n  if (typeof client.addAlgoliaAgent === 'function') {\n    client.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.setClient(client);\n  var opts = options || {};\n  opts.index = index;\n  this.state = SearchParameters.make(opts);\n  this.lastResults = null;\n  this._queryId = 0;\n  this._lastQueryIdReceived = -1;\n  this.derivedHelpers = [];\n  this._currentNbQueries = 0;\n}\n\ninherits(AlgoliaSearchHelper, events.EventEmitter);\n\n/**\n * Start the search with the parameters set in the state. When the\n * method is called, it triggers a `search` event. The results will\n * be available through the `result` event. If an error occurs, an\n * `error` will be fired instead.\n * @return {AlgoliaSearchHelper}\n * @fires search\n * @fires result\n * @fires error\n * @chainable\n */\nAlgoliaSearchHelper.prototype.search = function() {\n  this._search({onlyWithDerivedHelpers: false});\n  return this;\n};\n\nAlgoliaSearchHelper.prototype.searchOnlyWithDerivedHelpers = function() {\n  this._search({onlyWithDerivedHelpers: true});\n  return this;\n};\n\n/**\n * Gets the search query parameters that would be sent to the Algolia Client\n * for the hits\n * @return {object} Query Parameters\n */\nAlgoliaSearchHelper.prototype.getQuery = function() {\n  var state = this.state;\n  return requestBuilder._getHitsSearchParams(state);\n};\n\n/**\n * Start a search using a modified version of the current state. This method does\n * not trigger the helper lifecycle and does not modify the state kept internally\n * by the helper. This second aspect means that the next search call will be the\n * same as a search call before calling searchOnce.\n * @param {object} options can contain all the parameters that can be set to SearchParameters\n * plus the index\n * @param {function} [callback] optional callback executed when the response from the\n * server is back.\n * @return {promise|undefined} if a callback is passed the method returns undefined\n * otherwise it returns a promise containing an object with two keys :\n *  - content with a SearchResults\n *  - state with the state used for the query as a SearchParameters\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the callback API\n * var state = helper.searchOnce({hitsPerPage: 1},\n *   function(error, content, state) {\n *     // if an error occurred it will be passed in error, otherwise its value is null\n *     // content contains the results formatted as a SearchResults\n *     // state is the instance of SearchParameters used for this search\n *   });\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the promise API\n * var state1 = helper.searchOnce({hitsPerPage: 1})\n *                 .then(promiseHandler);\n *\n * function promiseHandler(res) {\n *   // res contains\n *   // {\n *   //   content : SearchResults\n *   //   state   : SearchParameters (the one used for this specific search)\n *   // }\n * }\n */\nAlgoliaSearchHelper.prototype.searchOnce = function(options, cb) {\n  var tempState = !options ? this.state : this.state.setQueryParameters(options);\n  var queries = requestBuilder._getQueries(tempState.index, tempState);\n  var self = this;\n\n  this._currentNbQueries++;\n\n  this.emit('searchOnce', {\n    state: tempState\n  });\n\n  if (cb) {\n    this.client\n      .search(queries)\n      .then(function(content) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(null, new SearchResults(tempState, content.results), tempState);\n      })\n      .catch(function(err) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(err, null, tempState);\n      });\n\n    return undefined;\n  }\n\n  return this.client.search(queries).then(function(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    return {\n      content: new SearchResults(tempState, content.results),\n      state: tempState,\n      _originalResponse: content\n    };\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n /**\n * Start the search for answers with the parameters set in the state.\n * This method returns a promise.\n * @param {Object} options - the options for answers API call\n * @param {string[]} options.attributesForPrediction - Attributes to use for predictions. If empty, `searchableAttributes` is used instead.\n * @param {string[]} options.queryLanguages - The languages in the query. Currently only supports ['en'].\n * @param {number} options.nbHits - Maximum number of answers to retrieve from the Answers Engine. Cannot be greater than 1000.\n *\n * @return {promise} the answer results\n */\nAlgoliaSearchHelper.prototype.findAnswers = function(options) {\n  var state = this.state;\n  var derivedHelper = this.derivedHelpers[0];\n  if (!derivedHelper) {\n    return Promise.resolve([]);\n  }\n  var derivedState = derivedHelper.getModifiedState(state);\n  var data = merge(\n    {\n      attributesForPrediction: options.attributesForPrediction,\n      nbHits: options.nbHits\n    },\n    {\n      params: omit(requestBuilder._getHitsSearchParams(derivedState), [\n        'attributesToSnippet',\n        'hitsPerPage',\n        'restrictSearchableAttributes',\n        'snippetEllipsisText' // FIXME remove this line once the engine is fixed.\n      ])\n    }\n  );\n\n  var errorMessage = 'search for answers was called, but this client does not have a function client.initIndex(index).findAnswers';\n  if (typeof this.client.initIndex !== 'function') {\n    throw new Error(errorMessage);\n  }\n  var index = this.client.initIndex(derivedState.index);\n  if (typeof index.findAnswers !== 'function') {\n    throw new Error(errorMessage);\n  }\n  return index.findAnswers(derivedState.query, options.queryLanguages, data);\n};\n\n/**\n * Structure of each result when using\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * @typedef FacetSearchHit\n * @type {object}\n * @property {string} value the facet value\n * @property {string} highlighted the facet value highlighted with the query string\n * @property {number} count number of occurrence of this facet value\n * @property {boolean} isRefined true if the value is already refined\n */\n\n/**\n * Structure of the data resolved by the\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * promise.\n * @typedef FacetSearchResult\n * @type {object}\n * @property {FacetSearchHit} facetHits the results for this search for facet values\n * @property {number} processingTimeMS time taken by the query inside the engine\n */\n\n/**\n * Search for facet values based on an query and the name of a faceted attribute. This\n * triggers a search and will return a promise. On top of using the query, it also sends\n * the parameters from the state so that the search is narrowed down to only the possible values.\n *\n * See the description of [FacetSearchResult](reference.html#FacetSearchResult)\n * @param {string} facet the name of the faceted attribute\n * @param {string} query the string query for the search\n * @param {number} [maxFacetHits] the maximum number values returned. Should be > 0 and <= 100\n * @param {object} [userState] the set of custom parameters to use on top of the current state. Setting a property to `undefined` removes\n * it in the generated query.\n * @return {promise.<FacetSearchResult>} the results of the search\n */\nAlgoliaSearchHelper.prototype.searchForFacetValues = function(facet, query, maxFacetHits, userState) {\n  var clientHasSFFV = typeof this.client.searchForFacetValues === 'function';\n  if (\n    !clientHasSFFV &&\n    typeof this.client.initIndex !== 'function'\n  ) {\n    throw new Error(\n      'search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues'\n    );\n  }\n  var state = this.state.setQueryParameters(userState || {});\n  var isDisjunctive = state.isDisjunctiveFacet(facet);\n  var algoliaQuery = requestBuilder.getSearchForFacetQuery(facet, query, maxFacetHits, state);\n\n  this._currentNbQueries++;\n  var self = this;\n\n  this.emit('searchForFacetValues', {\n    state: state,\n    facet: facet,\n    query: query\n  });\n\n  var searchForFacetValuesPromise = clientHasSFFV\n    ? this.client.searchForFacetValues([{indexName: state.index, params: algoliaQuery}])\n    : this.client.initIndex(state.index).searchForFacetValues(algoliaQuery);\n\n  return searchForFacetValuesPromise.then(function addIsRefined(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n\n    content = Array.isArray(content) ? content[0] : content;\n\n    content.facetHits.forEach(function(f) {\n      f.isRefined = isDisjunctive\n        ? state.isDisjunctiveFacetRefined(facet, f.value)\n        : state.isFacetRefined(facet, f.value);\n    });\n\n    return content;\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n/**\n * Sets the text query used for the search.\n *\n * This method resets the current page to 0.\n * @param  {string} q the user query\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setQuery = function(q) {\n  this._change({\n    state: this.state.resetPage().setQuery(q),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the types of refinements except tags. A string can be provided to remove\n * only the refinements of a specific attribute. For more advanced use case, you can\n * provide a function instead. This function should follow the\n * [clearCallback definition](#SearchParameters.clearCallback).\n *\n * This method resets the current page to 0.\n * @param {string} [name] optional name of the facet / attribute on which we want to remove all refinements\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * // Removing all the refinements\n * helper.clearRefinements().search();\n * @example\n * // Removing all the filters on a the category attribute.\n * helper.clearRefinements('category').search();\n * @example\n * // Removing only the exclude filters on the category facet.\n * helper.clearRefinements(function(value, attribute, type) {\n *   return type === 'exclude' && attribute === 'category';\n * }).search();\n */\nAlgoliaSearchHelper.prototype.clearRefinements = function(name) {\n  this._change({\n    state: this.state.resetPage().clearRefinements(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the tag filters.\n *\n * This method resets the current page to 0.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.clearTags = function() {\n  this._change({\n    state: this.state.resetPage().clearTags(),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveRefine = function() {\n  return this.addDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds a refinement on a hierarchical facet. It will throw\n * an exception if the facet is not defined or if the facet\n * is already refined.\n *\n * This method resets the current page to 0.\n * @param {string} facet the facet name\n * @param {string} path the hierarchical facet path\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is refined\n * @chainable\n * @fires change\n */\nAlgoliaSearchHelper.prototype.addHierarchicalFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addHierarchicalFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} operator the operator of the filter\n * @param  {number} value the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().addNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addRefine = function() {\n  return this.addFacetRefinement.apply(this, arguments);\n};\n\n\n/**\n * Adds a an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.addExclude = function() {\n  return this.addFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds a tag filter with the `tag` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag the tag to add to the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().addTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * Some parameters are optional, triggering different behavior:\n *  - if the value is not provided, then all the numeric value will be removed for the\n *  specified attribute/operator couple.\n *  - if the operator is not provided either, then all the numeric filter on this attribute\n *  will be removed.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} [operator] the operator of the filter\n * @param  {number} [value] the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().removeNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveRefine = function() {\n  return this.removeDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes the refinement set on a hierarchical facet.\n * @param {string} facet the facet name\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is not refined\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeHierarchicalFacetRefinement = function(facet) {\n  this._change({\n    state: this.state.resetPage().removeHierarchicalFacetRefinement(facet),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeRefine = function() {\n  return this.removeFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.removeExclude = function() {\n  return this.removeFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Removes a tag filter with the `tag` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove from the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().removeTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds or removes an exclusion filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleExcludeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.toggleExclude = function() {\n  return this.toggleFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n * @deprecated since version 2.19.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefinement = function(facet, value) {\n  return this.toggleFacetRefinement(facet, value);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefine = function() {\n  return this.toggleFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds or removes a tag filter with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove or add\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().toggleTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Increments the page number by one.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setPage(0).nextPage().getPage();\n * // returns 1\n */\nAlgoliaSearchHelper.prototype.nextPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page + 1);\n};\n\n/**\n * Decrements the page number by one.\n * @fires change\n * @return {AlgoliaSearchHelper}\n * @chainable\n * @example\n * helper.setPage(1).previousPage().getPage();\n * // returns 0\n */\nAlgoliaSearchHelper.prototype.previousPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page - 1);\n};\n\n/**\n * @private\n */\nfunction setCurrentPage(page) {\n  if (page < 0) throw new Error('Page requested below 0.');\n\n  this._change({\n    state: this.state.setPage(page),\n    isPageReset: false\n  });\n\n  return this;\n}\n\n/**\n * Change the current page\n * @deprecated\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setCurrentPage = setCurrentPage;\n\n/**\n * Updates the current page.\n * @function\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setPage = setCurrentPage;\n\n/**\n * Updates the name of the index that will be targeted by the query.\n *\n * This method resets the current page to 0.\n * @param {string} name the index name\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setIndex = function(name) {\n  this._change({\n    state: this.state.resetPage().setIndex(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Update a parameter of the search. This method reset the page\n *\n * The complete list of parameters is available on the\n * [Algolia website](https://www.algolia.com/doc/rest#query-an-index).\n * The most commonly used parameters have their own [shortcuts](#query-parameters-shortcuts)\n * or benefit from higher-level APIs (all the kind of filters and facets have their own API)\n *\n * This method resets the current page to 0.\n * @param {string} parameter name of the parameter to update\n * @param {any} value new value of the parameter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setQueryParameter('hitsPerPage', 20).search();\n */\nAlgoliaSearchHelper.prototype.setQueryParameter = function(parameter, value) {\n  this._change({\n    state: this.state.resetPage().setQueryParameter(parameter, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Set the whole state (warning: will erase previous state)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setState = function(newState) {\n  this._change({\n    state: SearchParameters.make(newState),\n    isPageReset: false\n  });\n\n  return this;\n};\n\n/**\n * Override the current state without triggering a change event.\n * Do not use this method unless you know what you are doing. (see the example\n * for a legit use case)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @example\n *  helper.on('change', function(state){\n *    // In this function you might want to find a way to store the state in the url/history\n *    updateYourURL(state)\n *  })\n *  window.onpopstate = function(event){\n *    // This is naive though as you should check if the state is really defined etc.\n *    helper.overrideStateWithoutTriggeringChangeEvent(event.state).search()\n *  }\n * @chainable\n */\nAlgoliaSearchHelper.prototype.overrideStateWithoutTriggeringChangeEvent = function(newState) {\n  this.state = new SearchParameters(newState);\n  return this;\n};\n\n/**\n * Check if an attribute has any numeric, conjunctive, disjunctive or hierarchical filters.\n * @param {string} attribute the name of the attribute\n * @return {boolean} true if the attribute is filtered by at least one value\n * @example\n * // hasRefinements works with numeric, conjunctive, disjunctive and hierarchical filters\n * helper.hasRefinements('price'); // false\n * helper.addNumericRefinement('price', '>', 100);\n * helper.hasRefinements('price'); // true\n *\n * helper.hasRefinements('color'); // false\n * helper.addFacetRefinement('color', 'blue');\n * helper.hasRefinements('color'); // true\n *\n * helper.hasRefinements('material'); // false\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * helper.hasRefinements('material'); // true\n *\n * helper.hasRefinements('categories'); // false\n * helper.toggleFacetRefinement('categories', 'kitchen > knife');\n * helper.hasRefinements('categories'); // true\n *\n */\nAlgoliaSearchHelper.prototype.hasRefinements = function(attribute) {\n  if (objectHasKeys(this.state.getNumericRefinements(attribute))) {\n    return true;\n  } else if (this.state.isConjunctiveFacet(attribute)) {\n    return this.state.isFacetRefined(attribute);\n  } else if (this.state.isDisjunctiveFacet(attribute)) {\n    return this.state.isDisjunctiveFacetRefined(attribute);\n  } else if (this.state.isHierarchicalFacet(attribute)) {\n    return this.state.isHierarchicalFacetRefined(attribute);\n  }\n\n  // there's currently no way to know that the user did call `addNumericRefinement` at some point\n  // thus we cannot distinguish if there once was a numeric refinement that was cleared\n  // so we will return false in every other situations to be consistent\n  // while what we should do here is throw because we did not find the attribute in any type\n  // of refinement\n  return false;\n};\n\n/**\n * Check if a value is excluded for a specific faceted attribute. If the value\n * is omitted then the function checks if there is any excluding refinements.\n *\n * @param  {string}  facet name of the attribute for used for faceting\n * @param  {string}  [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n * @return {boolean} true if refined\n * @example\n * helper.isExcludeRefined('color'); // false\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // false\n *\n * helper.addFacetExclusion('color', 'red');\n *\n * helper.isExcludeRefined('color'); // true\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // true\n */\nAlgoliaSearchHelper.prototype.isExcluded = function(facet, value) {\n  return this.state.isExcludeRefined(facet, value);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasRefinements}\n */\nAlgoliaSearchHelper.prototype.isDisjunctiveRefined = function(facet, value) {\n  return this.state.isDisjunctiveFacetRefined(facet, value);\n};\n\n/**\n * Check if the string is a currently filtering tag.\n * @param {string} tag tag to check\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype.hasTag = function(tag) {\n  return this.state.isTagRefined(tag);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasTag}\n */\nAlgoliaSearchHelper.prototype.isTagRefined = function() {\n  return this.hasTagRefinements.apply(this, arguments);\n};\n\n\n/**\n * Get the name of the currently used index.\n * @return {string}\n * @example\n * helper.setIndex('highestPrice_products').getIndex();\n * // returns 'highestPrice_products'\n */\nAlgoliaSearchHelper.prototype.getIndex = function() {\n  return this.state.index;\n};\n\nfunction getCurrentPage() {\n  return this.state.page;\n}\n\n/**\n * Get the currently selected page\n * @deprecated\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getCurrentPage = getCurrentPage;\n/**\n * Get the currently selected page\n * @function\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getPage = getCurrentPage;\n\n/**\n * Get all the tags currently set to filters the results.\n *\n * @return {string[]} The list of tags currently set.\n */\nAlgoliaSearchHelper.prototype.getTags = function() {\n  return this.state.tagRefinements;\n};\n\n/**\n * Get the list of refinements for a given attribute. This method works with\n * conjunctive, disjunctive, excluding and numerical filters.\n *\n * See also SearchResults#getRefinements\n *\n * @param {string} facetName attribute name used for faceting\n * @return {Array.<FacetRefinement|NumericRefinement>} All Refinement are objects that contain a value, and\n * a type. Numeric also contains an operator.\n * @example\n * helper.addNumericRefinement('price', '>', 100);\n * helper.getRefinements('price');\n * // [\n * //   {\n * //     \"value\": [\n * //       100\n * //     ],\n * //     \"operator\": \">\",\n * //     \"type\": \"numeric\"\n * //   }\n * // ]\n * @example\n * helper.addFacetRefinement('color', 'blue');\n * helper.addFacetExclusion('color', 'red');\n * helper.getRefinements('color');\n * // [\n * //   {\n * //     \"value\": \"blue\",\n * //     \"type\": \"conjunctive\"\n * //   },\n * //   {\n * //     \"value\": \"red\",\n * //     \"type\": \"exclude\"\n * //   }\n * // ]\n * @example\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * // [\n * //   {\n * //     \"value\": \"plastic\",\n * //     \"type\": \"disjunctive\"\n * //   }\n * // ]\n */\nAlgoliaSearchHelper.prototype.getRefinements = function(facetName) {\n  var refinements = [];\n\n  if (this.state.isConjunctiveFacet(facetName)) {\n    var conjRefinements = this.state.getConjunctiveRefinements(facetName);\n\n    conjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'conjunctive'\n      });\n    });\n\n    var excludeRefinements = this.state.getExcludeRefinements(facetName);\n\n    excludeRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'exclude'\n      });\n    });\n  } else if (this.state.isDisjunctiveFacet(facetName)) {\n    var disjRefinements = this.state.getDisjunctiveRefinements(facetName);\n\n    disjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'disjunctive'\n      });\n    });\n  }\n\n  var numericRefinements = this.state.getNumericRefinements(facetName);\n\n  Object.keys(numericRefinements).forEach(function(operator) {\n    var value = numericRefinements[operator];\n\n    refinements.push({\n      value: value,\n      operator: operator,\n      type: 'numeric'\n    });\n  });\n\n  return refinements;\n};\n\n/**\n * Return the current refinement for the (attribute, operator)\n * @param {string} attribute attribute in the record\n * @param {string} operator operator applied on the refined values\n * @return {Array.<number|number[]>} refined values\n */\nAlgoliaSearchHelper.prototype.getNumericRefinement = function(attribute, operator) {\n  return this.state.getNumericRefinement(attribute, operator);\n};\n\n/**\n * Get the current breadcrumb for a hierarchical facet, as an array\n * @param  {string} facetName Hierarchical facet name\n * @return {array.<string>} the path as an array of string\n */\nAlgoliaSearchHelper.prototype.getHierarchicalFacetBreadcrumb = function(facetName) {\n  return this.state.getHierarchicalFacetBreadcrumb(facetName);\n};\n\n// /////////// PRIVATE\n\n/**\n * Perform the underlying queries\n * @private\n * @return {undefined}\n * @fires search\n * @fires result\n * @fires error\n */\nAlgoliaSearchHelper.prototype._search = function(options) {\n  var state = this.state;\n  var states = [];\n  var mainQueries = [];\n\n  if (!options.onlyWithDerivedHelpers) {\n    mainQueries = requestBuilder._getQueries(state.index, state);\n\n    states.push({\n      state: state,\n      queriesCount: mainQueries.length,\n      helper: this\n    });\n\n    this.emit('search', {\n      state: state,\n      results: this.lastResults\n    });\n  }\n\n  var derivedQueries = this.derivedHelpers.map(function(derivedHelper) {\n    var derivedState = derivedHelper.getModifiedState(state);\n    var derivedStateQueries = requestBuilder._getQueries(derivedState.index, derivedState);\n\n    states.push({\n      state: derivedState,\n      queriesCount: derivedStateQueries.length,\n      helper: derivedHelper\n    });\n\n    derivedHelper.emit('search', {\n      state: derivedState,\n      results: derivedHelper.lastResults\n    });\n\n    return derivedStateQueries;\n  });\n\n  var queries = Array.prototype.concat.apply(mainQueries, derivedQueries);\n  var queryId = this._queryId++;\n\n  this._currentNbQueries++;\n\n  try {\n    this.client.search(queries)\n      .then(this._dispatchAlgoliaResponse.bind(this, states, queryId))\n      .catch(this._dispatchAlgoliaError.bind(this, queryId));\n  } catch (error) {\n    // If we reach this part, we're in an internal error state\n    this.emit('error', {\n      error: error\n    });\n  }\n};\n\n/**\n * Transform the responses as sent by the server and transform them into a user\n * usable object that merge the results of all the batch requests. It will dispatch\n * over the different helper + derived helpers (when there are some).\n * @private\n * @param {array.<{SearchParameters, AlgoliaQueries, AlgoliaSearchHelper}>}\n *  state state used for to generate the request\n * @param {number} queryId id of the current request\n * @param {object} content content of the response\n * @return {undefined}\n */\nAlgoliaSearchHelper.prototype._dispatchAlgoliaResponse = function(states, queryId, content) {\n  // FIXME remove the number of outdated queries discarded instead of just one\n\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= (queryId - this._lastQueryIdReceived);\n  this._lastQueryIdReceived = queryId;\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n\n  var results = content.results.slice();\n\n  states.forEach(function(s) {\n    var state = s.state;\n    var queriesCount = s.queriesCount;\n    var helper = s.helper;\n    var specificResults = results.splice(0, queriesCount);\n\n    var formattedResponse = helper.lastResults = new SearchResults(state, specificResults);\n\n    helper.emit('result', {\n      results: formattedResponse,\n      state: state\n    });\n  });\n};\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaError = function(queryId, error) {\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n\n  this.emit('error', {\n    error: error\n  });\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n};\n\nAlgoliaSearchHelper.prototype.containsRefinement = function(query, facetFilters, numericFilters, tagFilters) {\n  return query ||\n    facetFilters.length !== 0 ||\n    numericFilters.length !== 0 ||\n    tagFilters.length !== 0;\n};\n\n/**\n * Test if there are some disjunctive refinements on the facet\n * @private\n * @param {string} facet the attribute to test\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype._hasDisjunctiveRefinements = function(facet) {\n  return this.state.disjunctiveRefinements[facet] &&\n    this.state.disjunctiveRefinements[facet].length > 0;\n};\n\nAlgoliaSearchHelper.prototype._change = function(event) {\n  var state = event.state;\n  var isPageReset = event.isPageReset;\n\n  if (state !== this.state) {\n    this.state = state;\n\n    this.emit('change', {\n      state: this.state,\n      results: this.lastResults,\n      isPageReset: isPageReset\n    });\n  }\n};\n\n/**\n * Clears the cache of the underlying Algolia client.\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.clearCache = function() {\n  this.client.clearCache && this.client.clearCache();\n  return this;\n};\n\n/**\n * Updates the internal client instance. If the reference of the clients\n * are equal then no update is actually done.\n * @param  {AlgoliaSearch} newClient an AlgoliaSearch client\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.setClient = function(newClient) {\n  if (this.client === newClient) return this;\n\n  if (typeof newClient.addAlgoliaAgent === 'function') {\n    newClient.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n  this.client = newClient;\n\n  return this;\n};\n\n/**\n * Gets the instance of the currently used client.\n * @return {AlgoliaSearch}\n */\nAlgoliaSearchHelper.prototype.getClient = function() {\n  return this.client;\n};\n\n/**\n * Creates an derived instance of the Helper. A derived helper\n * is a way to request other indices synchronised with the lifecycle\n * of the main Helper. This mechanism uses the multiqueries feature\n * of Algolia to aggregate all the requests in a single network call.\n *\n * This method takes a function that is used to create a new SearchParameter\n * that will be used to create requests to Algolia. Those new requests\n * are created just before the `search` event. The signature of the function\n * is `SearchParameters -> SearchParameters`.\n *\n * This method returns a new DerivedHelper which is an EventEmitter\n * that fires the same `search`, `result` and `error` events. Those\n * events, however, will receive data specific to this DerivedHelper\n * and the SearchParameters that is returned by the call of the\n * parameter function.\n * @param {function} fn SearchParameters -> SearchParameters\n * @return {DerivedHelper}\n */\nAlgoliaSearchHelper.prototype.derive = function(fn) {\n  var derivedHelper = new DerivedHelper(this, fn);\n  this.derivedHelpers.push(derivedHelper);\n  return derivedHelper;\n};\n\n/**\n * This method detaches a derived Helper from the main one. Prefer using the one from the\n * derived helper itself, to remove the event listeners too.\n * @private\n * @return {undefined}\n * @throws Error\n */\nAlgoliaSearchHelper.prototype.detachDerivedHelper = function(derivedHelper) {\n  var pos = this.derivedHelpers.indexOf(derivedHelper);\n  if (pos === -1) throw new Error('Derived helper already detached');\n  this.derivedHelpers.splice(pos, 1);\n};\n\n/**\n * This method returns true if there is currently at least one on-going search.\n * @return {boolean} true if there is a search pending\n */\nAlgoliaSearchHelper.prototype.hasPendingRequests = function() {\n  return this._currentNbQueries > 0;\n};\n\n/**\n * @typedef AlgoliaSearchHelper.NumericRefinement\n * @type {object}\n * @property {number[]} value the numbers that are used for filtering this attribute with\n * the operator specified.\n * @property {string} operator the faceting data: value, number of entries\n * @property {string} type will be 'numeric'\n */\n\n/**\n * @typedef AlgoliaSearchHelper.FacetRefinement\n * @type {object}\n * @property {string} value the string use to filter the attribute\n * @property {string} type the type of filter: 'conjunctive', 'disjunctive', 'exclude'\n */\n\nmodule.exports = AlgoliaSearchHelper;\n","'use strict';\n\nmodule.exports = function compact(array) {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n\n  return array.filter(Boolean);\n};\n","'use strict';\n\n// NOTE: this behaves like lodash/defaults, but doesn't mutate the target\n// it also preserve keys order\nmodule.exports = function defaultsPure() {\n  var sources = Array.prototype.slice.call(arguments);\n\n  return sources.reduceRight(function(acc, source) {\n    Object.keys(Object(source)).forEach(function(key) {\n      if (source[key] === undefined) {\n        return;\n      }\n      if (acc[key] !== undefined) {\n        // remove if already added, so that we can add it in correct order\n        delete acc[key];\n      }\n      acc[key] = source[key];\n    });\n    return acc;\n  }, {});\n};\n","'use strict';\n\n// @MAJOR can be replaced by native Array#find when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n};\n","'use strict';\n\n// @MAJOR can be replaced by native Array#findIndex when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n};\n","'use strict';\n\nvar find = require('./find');\n\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function(sort) {\n    return sort.split(':');\n  });\n\n  return sortBy.reduce(\n    function preparePredicate(out, sort) {\n      var sortInstruction = sort.split(':');\n\n      var matchingDefault = find(defaultInstructions, function(\n        defaultInstruction\n      ) {\n        return defaultInstruction[0] === sortInstruction[0];\n      });\n\n      if (sortInstruction.length > 1 || !matchingDefault) {\n        out[0].push(sortInstruction[0]);\n        out[1].push(sortInstruction[1]);\n        return out;\n      }\n\n      out[0].push(matchingDefault[0]);\n      out[1].push(matchingDefault[1]);\n      return out;\n    },\n    [[], []]\n  );\n};\n","'use strict';\n\nfunction inherits(ctor, superCtor) {\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nmodule.exports = inherits;\n","'use strict';\n\nfunction intersection(arr1, arr2) {\n  return arr1.filter(function(value, index) {\n    return (\n      arr2.indexOf(value) > -1 &&\n      arr1.indexOf(value) === index /* skips duplicates */\n    );\n  });\n}\n\nmodule.exports = intersection;\n","'use strict';\n\nfunction clone(value) {\n  if (typeof value === 'object' && value !== null) {\n    return _merge(Array.isArray(value) ? [] : {}, value);\n  }\n  return value;\n}\n\nfunction isObjectOrArrayOrFunction(value) {\n  return (\n    typeof value === 'function' ||\n    Array.isArray(value) ||\n    Object.prototype.toString.call(value) === '[object Object]'\n  );\n}\n\nfunction _merge(target, source) {\n  if (target === source) {\n    return target;\n  }\n\n  for (var key in source) {\n    if (!Object.prototype.hasOwnProperty.call(source, key)) {\n      continue;\n    }\n\n    var sourceVal = source[key];\n    var targetVal = target[key];\n\n    if (typeof targetVal !== 'undefined' && typeof sourceVal === 'undefined') {\n      continue;\n    }\n\n    if (isObjectOrArrayOrFunction(targetVal) && isObjectOrArrayOrFunction(sourceVal)) {\n      target[key] = _merge(targetVal, sourceVal);\n    } else {\n      target[key] = clone(sourceVal);\n    }\n  }\n  return target;\n}\n\n/**\n * This method is like Object.assign, but recursively merges own and inherited\n * enumerable keyed properties of source objects into the destination object.\n *\n * NOTE: this behaves like lodash/merge, but:\n * - does mutate functions if they are a source\n * - treats non-plain objects as plain\n * - does not work for circular objects\n * - treats sparse arrays as sparse\n * - does not convert Array-like objects (Arguments, NodeLists, etc.) to arrays\n *\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n */\n\nfunction merge(target) {\n  if (!isObjectOrArrayOrFunction(target)) {\n    target = {};\n  }\n\n  for (var i = 1, l = arguments.length; i < l; i++) {\n    var source = arguments[i];\n\n    if (isObjectOrArrayOrFunction(source)) {\n      _merge(target, source);\n    }\n  }\n  return target;\n}\n\nmodule.exports = merge;\n","'use strict';\n\nfunction objectHasKeys(obj) {\n  return obj && Object.keys(obj).length > 0;\n}\n\nmodule.exports = objectHasKeys;\n","'use strict';\n\n// https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source === null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key;\n  var i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n","'use strict';\n\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined;\n    var valIsNull = value === null;\n\n    var othIsDefined = other !== undefined;\n    var othIsNull = other === null;\n\n    if (\n      (!othIsNull && value > other) ||\n      (valIsNull && othIsDefined) ||\n      !valIsDefined\n    ) {\n      return 1;\n    }\n    if (\n      (!valIsNull && value < other) ||\n      (othIsNull && valIsDefined) ||\n      !othIsDefined\n    ) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\n/**\n * @param {Array<object>} collection object with keys in attributes\n * @param {Array<string>} iteratees attributes\n * @param {Array<string>} orders asc | desc\n */\nfunction orderBy(collection, iteratees, orders) {\n  if (!Array.isArray(collection)) {\n    return [];\n  }\n\n  if (!Array.isArray(orders)) {\n    orders = [];\n  }\n\n  var result = collection.map(function(value, index) {\n    return {\n      criteria: iteratees.map(function(iteratee) {\n        return value[iteratee];\n      }),\n      index: index,\n      value: value\n    };\n  });\n\n  result.sort(function comparer(object, other) {\n    var index = -1;\n\n    while (++index < object.criteria.length) {\n      var res = compareAscending(object.criteria[index], other.criteria[index]);\n      if (res) {\n        if (index >= orders.length) {\n          return res;\n        }\n        if (orders[index] === 'desc') {\n          return -res;\n        }\n        return res;\n      }\n    }\n\n    // This ensures a stable sort in V8 and other engines.\n    // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  });\n\n  return result.map(function(res) {\n    return res.value;\n  });\n}\n\nmodule.exports = orderBy;\n","'use strict';\n\nfunction valToNumber(v) {\n  if (typeof v === 'number') {\n    return v;\n  } else if (typeof v === 'string') {\n    return parseFloat(v);\n  } else if (Array.isArray(v)) {\n    return v.map(valToNumber);\n  }\n\n  throw new Error('The value should be a number, a parsable string or an array of those.');\n}\n\nmodule.exports = valToNumber;\n","'use strict';\n\nvar merge = require('./functions/merge');\n\nvar requestBuilder = {\n  /**\n   * Get all the queries to send to the client, those queries can used directly\n   * with the Algolia client.\n   * @private\n   * @return {object[]} The queries\n   */\n  _getQueries: function getQueries(index, state) {\n    var queries = [];\n\n    // One query for the hits\n    queries.push({\n      indexName: index,\n      params: requestBuilder._getHitsSearchParams(state)\n    });\n\n    // One for each disjunctive facets\n    state.getRefinedDisjunctiveFacets().forEach(function(refinedFacet) {\n      queries.push({\n        indexName: index,\n        params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet)\n      });\n    });\n\n    // maybe more to get the root level of hierarchical facets when activated\n    state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n      var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n\n      var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n      // if we are deeper than level 0 (starting from `beer > IPA`)\n      // we want to get the root values\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n      if (currentRefinement.length > 0 && currentRefinement[0].split(separator).length > 1) {\n        queries.push({\n          indexName: index,\n          params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet, true)\n        });\n      }\n    });\n\n    return queries;\n  },\n\n  /**\n   * Build search parameters used to fetch hits\n   * @private\n   * @return {object.<string, any>}\n   */\n  _getHitsSearchParams: function(state) {\n    var facets = state.facets\n      .concat(state.disjunctiveFacets)\n      .concat(requestBuilder._getHitsHierarchicalFacetsAttributes(state));\n\n\n    var facetFilters = requestBuilder._getFacetFilters(state);\n    var numericFilters = requestBuilder._getNumericFilters(state);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      facets: facets,\n      tagFilters: tagFilters\n    };\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Build search parameters used to fetch a disjunctive facet\n   * @private\n   * @param  {string} facet the associated facet name\n   * @param  {boolean} hierarchicalRootLevel ?? FIXME\n   * @return {object}\n   */\n  _getDisjunctiveFacetSearchParams: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = requestBuilder._getFacetFilters(state, facet, hierarchicalRootLevel);\n    var numericFilters = requestBuilder._getNumericFilters(state, facet);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      hitsPerPage: 1,\n      page: 0,\n      attributesToRetrieve: [],\n      attributesToHighlight: [],\n      attributesToSnippet: [],\n      tagFilters: tagFilters,\n      analytics: false,\n      clickAnalytics: false\n    };\n\n    var hierarchicalFacet = state.getHierarchicalFacetByName(facet);\n\n    if (hierarchicalFacet) {\n      additionalParams.facets = requestBuilder._getDisjunctiveHierarchicalFacetAttribute(\n        state,\n        hierarchicalFacet,\n        hierarchicalRootLevel\n      );\n    } else {\n      additionalParams.facets = facet;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Return the numeric filters in an algolia request fashion\n   * @private\n   * @param {string} [facetName] the name of the attribute for which the filters should be excluded\n   * @return {string[]} the numeric filters in the algolia format\n   */\n  _getNumericFilters: function(state, facetName) {\n    if (state.numericFilters) {\n      return state.numericFilters;\n    }\n\n    var numericFilters = [];\n\n    Object.keys(state.numericRefinements).forEach(function(attribute) {\n      var operators = state.numericRefinements[attribute] || {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator] || [];\n        if (facetName !== attribute) {\n          values.forEach(function(value) {\n            if (Array.isArray(value)) {\n              var vs = value.map(function(v) {\n                return attribute + operator + v;\n              });\n              numericFilters.push(vs);\n            } else {\n              numericFilters.push(attribute + operator + value);\n            }\n          });\n        }\n      });\n    });\n\n    return numericFilters;\n  },\n\n  /**\n   * Return the tags filters depending\n   * @private\n   * @return {string}\n   */\n  _getTagFilters: function(state) {\n    if (state.tagFilters) {\n      return state.tagFilters;\n    }\n\n    return state.tagRefinements.join(',');\n  },\n\n\n  /**\n   * Build facetFilters parameter based on current refinements. The array returned\n   * contains strings representing the facet filters in the algolia format.\n   * @private\n   * @param  {string} [facet] if set, the current disjunctive facet\n   * @return {array.<string>}\n   */\n  _getFacetFilters: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = [];\n\n    var facetsRefinements = state.facetsRefinements || {};\n    Object.keys(facetsRefinements).forEach(function(facetName) {\n      var facetValues = facetsRefinements[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':' + facetValue);\n      });\n    });\n\n    var facetsExcludes = state.facetsExcludes || {};\n    Object.keys(facetsExcludes).forEach(function(facetName) {\n      var facetValues = facetsExcludes[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':-' + facetValue);\n      });\n    });\n\n    var disjunctiveFacetsRefinements = state.disjunctiveFacetsRefinements || {};\n    Object.keys(disjunctiveFacetsRefinements).forEach(function(facetName) {\n      var facetValues = disjunctiveFacetsRefinements[facetName] || [];\n      if (facetName === facet || !facetValues || facetValues.length === 0) {\n        return;\n      }\n      var orFilters = [];\n\n      facetValues.forEach(function(facetValue) {\n        orFilters.push(facetName + ':' + facetValue);\n      });\n\n      facetFilters.push(orFilters);\n    });\n\n    var hierarchicalFacetsRefinements = state.hierarchicalFacetsRefinements || {};\n    Object.keys(hierarchicalFacetsRefinements).forEach(function(facetName) {\n      var facetValues = hierarchicalFacetsRefinements[facetName] || [];\n      var facetValue = facetValues[0];\n\n      if (facetValue === undefined) {\n        return;\n      }\n\n      var hierarchicalFacet = state.getHierarchicalFacetByName(facetName);\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeToRefine;\n      var attributesIndex;\n\n      // we ask for parent facet values only when the `facet` is the current hierarchical facet\n      if (facet === facetName) {\n        // if we are at the root level already, no need to ask for facet values, we get them from\n        // the hits query\n        if (facetValue.indexOf(separator) === -1 || (!rootPath && hierarchicalRootLevel === true) ||\n          (rootPath && rootPath.split(separator).length === facetValue.split(separator).length)) {\n          return;\n        }\n\n        if (!rootPath) {\n          attributesIndex = facetValue.split(separator).length - 2;\n          facetValue = facetValue.slice(0, facetValue.lastIndexOf(separator));\n        } else {\n          attributesIndex = rootPath.split(separator).length - 1;\n          facetValue = rootPath;\n        }\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      } else {\n        attributesIndex = facetValue.split(separator).length - 1;\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      }\n\n      if (attributeToRefine) {\n        facetFilters.push([attributeToRefine + ':' + facetValue]);\n      }\n    });\n\n    return facetFilters;\n  },\n\n  _getHitsHierarchicalFacetsAttributes: function(state) {\n    var out = [];\n\n    return state.hierarchicalFacets.reduce(\n      // ask for as much levels as there's hierarchical refinements\n      function getHitsAttributesForHierarchicalFacet(allAttributes, hierarchicalFacet) {\n        var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0];\n\n        // if no refinement, ask for root level\n        if (!hierarchicalRefinement) {\n          allAttributes.push(hierarchicalFacet.attributes[0]);\n          return allAttributes;\n        }\n\n        var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        var level = hierarchicalRefinement.split(separator).length;\n        var newAttributes = hierarchicalFacet.attributes.slice(0, level + 1);\n\n        return allAttributes.concat(newAttributes);\n      }, out);\n  },\n\n  _getDisjunctiveHierarchicalFacetAttribute: function(state, hierarchicalFacet, rootLevel) {\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n    if (rootLevel === true) {\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeIndex = 0;\n\n      if (rootPath) {\n        attributeIndex = rootPath.split(separator).length;\n      }\n      return [hierarchicalFacet.attributes[attributeIndex]];\n    }\n\n    var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0] || '';\n    // if refinement is 'beers > IPA > Flying dog',\n    // then we want `facets: ['beers > IPA']` as disjunctive facet (parent level values)\n\n    var parentLevel = hierarchicalRefinement.split(separator).length - 1;\n    return hierarchicalFacet.attributes.slice(0, parentLevel + 1);\n  },\n\n  getSearchForFacetQuery: function(facetName, query, maxFacetHits, state) {\n    var stateForSearchForFacetValues = state.isDisjunctiveFacet(facetName) ?\n      state.clearRefinements(facetName) :\n      state;\n    var searchForFacetSearchParameters = {\n      facetQuery: query,\n      facetName: facetName\n    };\n    if (typeof maxFacetHits === 'number') {\n      searchForFacetSearchParameters.maxFacetHits = maxFacetHits;\n    }\n    return merge(\n      {},\n      requestBuilder._getHitsSearchParams(stateForSearchForFacetValues),\n      searchForFacetSearchParameters\n    );\n  }\n};\n\nmodule.exports = requestBuilder;\n","'use strict';\n\nmodule.exports = function isValidUserToken(userToken) {\n  if (userToken === null) {\n    return false;\n  }\n  return /^[a-zA-Z0-9_-]{1,64}$/.test(userToken);\n};\n","'use strict';\n\nmodule.exports = '3.5.5';\n","/*! algoliasearch-lite.umd.js | 4.10.3 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).algoliasearch=t()}(this,(function(){\"use strict\";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function u(e){var t,r=\"algoliasearch-client-js-\".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(n().getItem(r)||\"{}\")};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var r=JSON.stringify(e),n=a()[r];return Promise.all([n||t(),void 0!==n])})).then((function(e){var t=o(e,2),n=t[0],a=t[1];return Promise.all([n,a||r.miss(n)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var o=a();return o[JSON.stringify(e)]=t,n().setItem(r,JSON.stringify(o)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],n().setItem(r,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(r)}))}}}function i(e){var t=a(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},n=t();return n.then((function(e){return Promise.all([e,r.miss(e)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,o).catch((function(){return i({caches:t}).get(e,n,o)}))},set:function(e,n){return r.set(e,n).catch((function(){return i({caches:t}).set(e,n)}))},delete:function(e){return r.delete(e).catch((function(){return i({caches:t}).delete(e)}))},clear:function(){return r.clear().catch((function(){return i({caches:t}).clear()}))}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var u=n(),i=o&&o.miss||function(){return Promise.resolve()};return u.then((function(e){return i(e)})).then((function(){return u}))},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e,t){return t?(Object.keys(t).forEach((function(r){e[r]=t[r](e)})),e):e}function f(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[o++])}))}var h={WithinQueryParameters:0,WithinHeaders:1};function d(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach((function(e){-1===[\"timeout\",\"headers\",\"queryParameters\",\"data\",\"cacheable\"].indexOf(e)&&(n[e]=r[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var m={Read:1,Write:2,Any:3},p=1,v=2,y=3;function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return\"string\"==typeof e?{protocol:\"https\",url:e,accept:m.Any}:{protocol:e.protocol||\"https\",url:e.url,accept:e.accept||m.Any}}var O=\"GET\",P=\"POST\";function q(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(g(t))}))}))).then((function(e){var r=e.filter((function(e){return function(e){return e.status===p||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===y&&Date.now()-e.lastUpdate<=12e4}(e)})),o=[].concat(a(r),a(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:o.length>0?o.map((function(e){return b(e)})):t}}))}function j(e,t,n,o){var u=[],i=function(e,t){if(e.method===O||void 0===e.data&&void 0===t.data)return;var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}(n,o),s=function(e,t){var n=r(r({},e.headers),t.headers),o={};return Object.keys(n).forEach((function(e){var t=n[e];o[e.toLowerCase()]=t})),o}(e,o),c=n.method,l=n.method!==O?{}:r(r({},n.data),o.data),f=r(r(r({\"x-algolia-agent\":e.userAgent.value},e.queryParameters),l),o.queryParameters),h=0,d=function t(r,a){var l=r.pop();if(void 0===l)throw{name:\"RetryError\",message:\"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",transporterStackTrace:A(u)};var d={data:i,headers:s,method:c,url:S(l,n.path,f),connectTimeout:a(h,e.timeouts.connect),responseTimeout:a(h,o.timeout)},m=function(e){var t={request:d,response:e,host:l,triesLeft:r.length};return u.push(t),t},p={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:\"DeserializationError\",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var o=m(n);return n.isTimedOut&&h++,Promise.all([e.logger.info(\"Retryable failure\",x(o)),e.hostsCache.set(l,g(l,n.isTimedOut?y:v))]).then((function(){return t(r,a)}))},onFail:function(e){throw m(e),function(e,t){var r=e.content,n=e.status,o=r;try{o=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:\"ApiError\",message:e,status:t,transporterStackTrace:r}}(o,n,t)}(e,A(u))}};return e.requester.send(d).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,p)}))};return q(e.hostsCache,t).then((function(e){return d(a(e.statelessHosts).reverse(),e.getTimeout)}))}function w(e){var t={value:\"Algolia for JavaScript (\".concat(e,\")\"),add:function(e){var r=\"; \".concat(e.segment).concat(void 0!==e.version?\" (\".concat(e.version,\")\"):\"\");return-1===t.value.indexOf(r)&&(t.value=\"\".concat(t.value).concat(r)),t}};return t}function S(e,t,r){var n=T(r),o=\"\".concat(e.protocol,\"://\").concat(e.url,\"/\").concat(\"/\"===t.charAt(0)?t.substr(1):t);return n.length&&(o+=\"?\".concat(n)),o}function T(e){return Object.keys(e).map((function(t){return f(\"%s=%s\",t,(r=e[t],\"[object Object]\"===Object.prototype.toString.call(r)||\"[object Array]\"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join(\"&\")}function A(e){return e.map((function(e){return x(e)}))}function x(e){var t=e.request.headers[\"x-algolia-api-key\"]?{\"x-algolia-api-key\":\"*****\"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var N=function(e){var t=e.appId,n=function(e,t,r){var n={\"x-algolia-api-key\":r,\"x-algolia-application-id\":t};return{headers:function(){return e===h.WithinHeaders?n:{}},queryParameters:function(){return e===h.WithinQueryParameters?n:{}}}}(void 0!==e.authMode?e.authMode:h.WithinHeaders,t,e.apiKey),a=function(e){var t=e.hostsCache,r=e.logger,n=e.requester,a=e.requestsCache,u=e.responsesCache,i=e.timeouts,s=e.userAgent,c=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:r,requester:n,requestsCache:a,responsesCache:u,timeouts:i,userAgent:s,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return b(e)})),read:function(e,t){var r=d(t,f.timeouts.read),n=function(){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Read)})),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return n();var a={request:e,mappedRequestOptions:r,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(a,(function(){return f.requestsCache.get(a,(function(){return f.requestsCache.set(a,n()).then((function(e){return Promise.all([f.requestsCache.delete(a),e])}),(function(e){return Promise.all([f.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=o(e,2);t[0];return t[1]}))}))}),{miss:function(e){return f.responsesCache.set(a,e)}})},write:function(e,t){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Write)})),e,d(t,f.timeouts.write))}};return f}(r(r({hosts:[{url:\"\".concat(t,\"-dsn.algolia.net\"),accept:m.Read},{url:\"\".concat(t,\".algolia.net\"),accept:m.Write}].concat(c([{url:\"\".concat(t,\"-1.algolianet.com\")},{url:\"\".concat(t,\"-2.algolianet.com\")},{url:\"\".concat(t,\"-3.algolianet.com\")}]))},e),{},{headers:r(r(r({},n.headers()),{\"content-type\":\"application/x-www-form-urlencoded\"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return l({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then((function(){}))}},e.methods)},C=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={transporter:e.transporter,appId:e.appId,indexName:t};return l(n,r.methods)}},k=function(e){return function(t,n){var o=t.map((function(e){return r(r({},e),{},{params:T(e.params||{})})}));return e.transporter.read({method:P,path:\"1/indexes/*/queries\",data:{requests:o},cacheable:!0},n)}},J=function(e){return function(t,o){return Promise.all(t.map((function(t){var a=t.params,u=a.facetName,i=a.facetQuery,s=n(a,[\"facetName\",\"facetQuery\"]);return C(e)(t.indexName,{methods:{searchForFacetValues:F}}).searchForFacetValues(u,i,r(r({},o),s))})))}},E=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/answers/%s/prediction\",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},I=function(e){return function(t,r){return e.transporter.read({method:P,path:f(\"1/indexes/%s/query\",e.indexName),data:{query:t},cacheable:!0},r)}},F=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/indexes/%s/facets/%s/query\",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},R=1,D=2,W=3;function H(e,t,n){var o,a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return r.setRequestHeader(t,e.headers[t])}));var n,o=function(e,n){return setTimeout((function(){r.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},a=o(e.connectTimeout,\"Connection timeout\");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(a),n=o(e.responseTimeout,\"Socket timeout\"))},r.onerror=function(){0===r.status&&(clearTimeout(a),clearTimeout(n),t({content:r.responseText||\"Network request failed\",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(a),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)}))}},logger:(o=W,{debug:function(e,t){return R>=o&&console.debug(e,t),Promise.resolve()},info:function(e,t){return D>=o&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:s(),requestsCache:s({serializable:!1}),hostsCache:i({caches:[u({key:\"\".concat(\"4.10.3\",\"-\").concat(e)}),s()]}),userAgent:w(\"4.10.3\").add({segment:\"Browser\",version:\"lite\"}),authMode:h.WithinQueryParameters};return N(r(r(r({},a),n),{},{methods:{search:k,searchForFacetValues:J,multipleQueries:k,multipleSearchForFacetValues:J,initIndex:function(e){return function(t){return C(e)(t,{methods:{search:I,searchForFacetValues:F,findAnswers:E}})}}}}))}return H.version=\"4.10.3\",H}));\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_REJECT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","var arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return typeof $Symbol == 'function' && Object(it) instanceof $Symbol;\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isObject = require('../internals/is-object');\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (pref !== 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeExec = RegExp.prototype.exec;\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  // eslint-disable-next-line max-statements -- TODO\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = patchedExec.call(raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = str.slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str.charAt(re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nexports.UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","var fails = require('./fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('./fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (key, value) {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.16.2',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('../internals/to-integer');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.codePointAt` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = input[TO_PRIMITIVE];\n  var result;\n  if (exoticToPrim !== undefined) {\n    if (pref === undefined) pref = 'default';\n    result = exoticToPrim.call(input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : String(key);\n};\n","var isSymbol = require('../internals/is-symbol');\n\nmodule.exports = function (argument) {\n  if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar toString = require('../internals/to-string');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\n// TODO: Use only propper RegExpIdentifierName\nvar IS_NCG = /^\\?<[^\\s\\d!#%&*+<=>@^][^\\s!#%&*+<=>@^]*>/;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar BASE_FORCED = DESCRIPTORS &&\n  (!CORRECT_NEW || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG || fails(function () {\n    re2[MATCH] = false;\n    // RegExp constructor can alter flags and IsRegExp works correct with @@match\n    return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n  }));\n\nvar handleDotAll = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var brackets = false;\n  var chr;\n  for (; index <= length; index++) {\n    chr = string.charAt(index);\n    if (chr === '\\\\') {\n      result += chr + string.charAt(++index);\n      continue;\n    }\n    if (!brackets && chr === '.') {\n      result += '[\\\\s\\\\S]';\n    } else {\n      if (chr === '[') {\n        brackets = true;\n      } else if (chr === ']') {\n        brackets = false;\n      } result += chr;\n    }\n  } return result;\n};\n\nvar handleNCG = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var named = [];\n  var names = {};\n  var brackets = false;\n  var ncg = false;\n  var groupid = 0;\n  var groupname = '';\n  var chr;\n  for (; index <= length; index++) {\n    chr = string.charAt(index);\n    if (chr === '\\\\') {\n      chr = chr + string.charAt(++index);\n    } else if (chr === ']') {\n      brackets = false;\n    } else if (!brackets) switch (true) {\n      case chr === '[':\n        brackets = true;\n        break;\n      case chr === '(':\n        if (IS_NCG.test(string.slice(index + 1))) {\n          index += 2;\n          ncg = true;\n        }\n        result += chr;\n        groupid++;\n        continue;\n      case chr === '>' && ncg:\n        if (groupname === '' || has(names, groupname)) {\n          throw new SyntaxError('Invalid capture group name');\n        }\n        names[groupname] = true;\n        named.push([groupname, groupid]);\n        ncg = false;\n        groupname = '';\n        continue;\n    }\n    if (ncg) groupname += chr;\n    else result += chr;\n  } return [result, named];\n};\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (isForced('RegExp', BASE_FORCED)) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var groups = [];\n    var rawPattern = pattern;\n    var rawFlags, dotAll, sticky, handled, result, state;\n\n    if (!thisIsRegExp && patternIsRegExp && flagsAreUndefined && pattern.constructor === RegExpWrapper) {\n      return pattern;\n    }\n\n    if (patternIsRegExp || pattern instanceof RegExpWrapper) {\n      pattern = pattern.source;\n      if (flagsAreUndefined) flags = 'flags' in rawPattern ? rawPattern.flags : getFlags.call(rawPattern);\n    }\n\n    pattern = pattern === undefined ? '' : toString(pattern);\n    flags = flags === undefined ? '' : toString(flags);\n    rawPattern = pattern;\n\n    if (UNSUPPORTED_DOT_ALL && 'dotAll' in re1) {\n      dotAll = !!flags && flags.indexOf('s') > -1;\n      if (dotAll) flags = flags.replace(/s/g, '');\n    }\n\n    rawFlags = flags;\n\n    if (UNSUPPORTED_Y && 'sticky' in re1) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    if (UNSUPPORTED_NCG) {\n      handled = handleNCG(pattern);\n      pattern = handled[0];\n      groups = handled[1];\n    }\n\n    result = inheritIfRequired(NativeRegExp(pattern, flags), thisIsRegExp ? this : RegExpPrototype, RegExpWrapper);\n\n    if (dotAll || sticky || groups.length) {\n      state = enforceInternalState(result);\n      if (dotAll) {\n        state.dotAll = true;\n        state.raw = RegExpWrapper(handleDotAll(pattern), rawFlags);\n      }\n      if (sticky) state.sticky = true;\n      if (groups.length) state.groups = groups;\n    }\n\n    if (pattern !== rawPattern) try {\n      // fails in old engines, but we have no alternatives for unsupported regex syntax\n      createNonEnumerableProperty(result, 'source', rawPattern === '' ? '(?:)' : rawPattern);\n    } catch (error) { /* empty */ }\n\n    return result;\n  };\n\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n\n  for (var keys = getOwnPropertyNames(NativeRegExp), index = 0; keys.length > index;) {\n    proxy(keys[index++]);\n  }\n\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue === 'string' &&\n        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&\n        replaceValue.indexOf('$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = toString(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar toString = require('../internals/to-string');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](toString(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeSearch, rx, S);\n\n      if (res.done) return res.value;\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = typeof key === 'object' && key.value !== undefined ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export var createDocumentationLink = function createDocumentationLink(_ref) {\n  var name = _ref.name,\n      _ref$connector = _ref.connector,\n      connector = _ref$connector === void 0 ? false : _ref$connector;\n  return ['https://www.algolia.com/doc/api-reference/widgets/', name, '/js/', connector ? '#connector' : ''].join('');\n};\nexport var createDocumentationMessageGenerator = function createDocumentationMessageGenerator() {\n  for (var _len = arguments.length, widgets = new Array(_len), _key = 0; _key < _len; _key++) {\n    widgets[_key] = arguments[_key];\n  }\n\n  var links = widgets.map(function (widget) {\n    return createDocumentationLink(widget);\n  }).join(', ');\n  return function (message) {\n    return [message, \"See documentation: \".concat(links)].filter(Boolean).join('\\n\\n');\n  };\n};","// We aren't using the native `Array.prototype.findIndex` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `findIndex` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.findIndex` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\nfunction findIndex(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nexport default findIndex;","function uniq(array) {\n  return array.filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n}\n\nexport default uniq;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport findIndex from './findIndex';\nimport uniq from './uniq';\n\nvar mergeWithRest = function mergeWithRest(left, right) {\n  var facets = right.facets,\n      disjunctiveFacets = right.disjunctiveFacets,\n      facetsRefinements = right.facetsRefinements,\n      facetsExcludes = right.facetsExcludes,\n      disjunctiveFacetsRefinements = right.disjunctiveFacetsRefinements,\n      numericRefinements = right.numericRefinements,\n      tagRefinements = right.tagRefinements,\n      hierarchicalFacets = right.hierarchicalFacets,\n      hierarchicalFacetsRefinements = right.hierarchicalFacetsRefinements,\n      ruleContexts = right.ruleContexts,\n      rest = _objectWithoutProperties(right, [\"facets\", \"disjunctiveFacets\", \"facetsRefinements\", \"facetsExcludes\", \"disjunctiveFacetsRefinements\", \"numericRefinements\", \"tagRefinements\", \"hierarchicalFacets\", \"hierarchicalFacetsRefinements\", \"ruleContexts\"]);\n\n  return left.setQueryParameters(rest);\n}; // Merge facets\n\n\nvar mergeFacets = function mergeFacets(left, right) {\n  return right.facets.reduce(function (_, name) {\n    return _.addFacet(name);\n  }, left);\n};\n\nvar mergeDisjunctiveFacets = function mergeDisjunctiveFacets(left, right) {\n  return right.disjunctiveFacets.reduce(function (_, name) {\n    return _.addDisjunctiveFacet(name);\n  }, left);\n};\n\nvar mergeHierarchicalFacets = function mergeHierarchicalFacets(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacets: right.hierarchicalFacets.reduce(function (facets, facet) {\n      var index = findIndex(facets, function (_) {\n        return _.name === facet.name;\n      });\n\n      if (index === -1) {\n        return facets.concat(facet);\n      }\n\n      var nextFacets = facets.slice();\n      nextFacets.splice(index, 1, facet);\n      return nextFacets;\n    }, left.hierarchicalFacets)\n  });\n}; // Merge facet refinements\n\n\nvar mergeTagRefinements = function mergeTagRefinements(left, right) {\n  return right.tagRefinements.reduce(function (_, value) {\n    return _.addTagRefinement(value);\n  }, left);\n};\n\nvar mergeFacetRefinements = function mergeFacetRefinements(left, right) {\n  return left.setQueryParameters({\n    facetsRefinements: _objectSpread(_objectSpread({}, left.facetsRefinements), right.facetsRefinements)\n  });\n};\n\nvar mergeFacetsExcludes = function mergeFacetsExcludes(left, right) {\n  return left.setQueryParameters({\n    facetsExcludes: _objectSpread(_objectSpread({}, left.facetsExcludes), right.facetsExcludes)\n  });\n};\n\nvar mergeDisjunctiveFacetsRefinements = function mergeDisjunctiveFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    disjunctiveFacetsRefinements: _objectSpread(_objectSpread({}, left.disjunctiveFacetsRefinements), right.disjunctiveFacetsRefinements)\n  });\n};\n\nvar mergeNumericRefinements = function mergeNumericRefinements(left, right) {\n  return left.setQueryParameters({\n    numericRefinements: _objectSpread(_objectSpread({}, left.numericRefinements), right.numericRefinements)\n  });\n};\n\nvar mergeHierarchicalFacetsRefinements = function mergeHierarchicalFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacetsRefinements: _objectSpread(_objectSpread({}, left.hierarchicalFacetsRefinements), right.hierarchicalFacetsRefinements)\n  });\n};\n\nvar mergeRuleContexts = function mergeRuleContexts(left, right) {\n  var ruleContexts = uniq([].concat(left.ruleContexts).concat(right.ruleContexts).filter(Boolean));\n\n  if (ruleContexts.length > 0) {\n    return left.setQueryParameters({\n      ruleContexts: ruleContexts\n    });\n  }\n\n  return left;\n};\n\nvar merge = function merge() {\n  for (var _len = arguments.length, parameters = new Array(_len), _key = 0; _key < _len; _key++) {\n    parameters[_key] = arguments[_key];\n  }\n\n  return parameters.reduce(function (left, right) {\n    var hierarchicalFacetsRefinementsMerged = mergeHierarchicalFacetsRefinements(left, right);\n    var hierarchicalFacetsMerged = mergeHierarchicalFacets(hierarchicalFacetsRefinementsMerged, right);\n    var tagRefinementsMerged = mergeTagRefinements(hierarchicalFacetsMerged, right);\n    var numericRefinementsMerged = mergeNumericRefinements(tagRefinementsMerged, right);\n    var disjunctiveFacetsRefinementsMerged = mergeDisjunctiveFacetsRefinements(numericRefinementsMerged, right);\n    var facetsExcludesMerged = mergeFacetsExcludes(disjunctiveFacetsRefinementsMerged, right);\n    var facetRefinementsMerged = mergeFacetRefinements(facetsExcludesMerged, right);\n    var disjunctiveFacetsMerged = mergeDisjunctiveFacets(facetRefinementsMerged, right);\n    var ruleContextsMerged = mergeRuleContexts(disjunctiveFacetsMerged, right);\n    var facetsMerged = mergeFacets(ruleContextsMerged, right);\n    return mergeWithRest(facetsMerged, right);\n  });\n};\n\nexport default merge;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { checkIndexUiState, createDocumentationMessageGenerator, resolveSearchParameters, mergeSearchParameters, warning } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'index-widget'\n});\nexport function isIndexWidget(widget) {\n  return widget.$$type === 'ais.index';\n}\n/**\n * This is the same content as helper._change / setState, but allowing for extra\n * UiState to be synchronized.\n * see: https://github.com/algolia/algoliasearch-helper-js/blob/6b835ffd07742f2d6b314022cce6848f5cfecd4a/src/algoliasearch.helper.js#L1311-L1324\n */\n\nfunction privateHelperSetState(helper, _ref) {\n  var state = _ref.state,\n      isPageReset = _ref.isPageReset,\n      _uiState = _ref._uiState;\n\n  if (state !== helper.state) {\n    helper.state = state;\n    helper.emit('change', {\n      state: helper.state,\n      results: helper.lastResults,\n      isPageReset: isPageReset,\n      _uiState: _uiState\n    });\n  }\n}\n\nfunction getLocalWidgetsUiState(widgets, widgetStateOptions) {\n  var initialUiState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return widgets.reduce(function (uiState, widget) {\n    if (isIndexWidget(widget)) {\n      return uiState;\n    }\n\n    if (!widget.getWidgetUiState && !widget.getWidgetState) {\n      return uiState;\n    }\n\n    if (widget.getWidgetUiState) {\n      return widget.getWidgetUiState(uiState, widgetStateOptions);\n    }\n\n    return widget.getWidgetState(uiState, widgetStateOptions);\n  }, initialUiState);\n}\n\nfunction getLocalWidgetsSearchParameters(widgets, widgetSearchParametersOptions) {\n  var initialSearchParameters = widgetSearchParametersOptions.initialSearchParameters,\n      rest = _objectWithoutProperties(widgetSearchParametersOptions, [\"initialSearchParameters\"]);\n\n  return widgets.filter(function (widget) {\n    return !isIndexWidget(widget);\n  }).reduce(function (state, widget) {\n    if (!widget.getWidgetSearchParameters) {\n      return state;\n    }\n\n    return widget.getWidgetSearchParameters(state, rest);\n  }, initialSearchParameters);\n}\n\nfunction resetPageFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n\n  if (indexWidgets.length === 0) {\n    return;\n  }\n\n  indexWidgets.forEach(function (widget) {\n    var widgetHelper = widget.getHelper();\n    privateHelperSetState(widgetHelper, {\n      state: widgetHelper.state.resetPage(),\n      isPageReset: true\n    });\n    resetPageFromWidgets(widget.getWidgets());\n  });\n}\n\nfunction resolveScopedResultsFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n  return indexWidgets.reduce(function (scopedResults, current) {\n    return scopedResults.concat.apply(scopedResults, [{\n      indexId: current.getIndexId(),\n      results: current.getResults(),\n      helper: current.getHelper()\n    }].concat(_toConsumableArray(resolveScopedResultsFromWidgets(current.getWidgets()))));\n  }, []);\n}\n\nvar index = function index(widgetParams) {\n  if (widgetParams === undefined || widgetParams.indexName === undefined) {\n    throw new Error(withUsage('The `indexName` option is required.'));\n  }\n\n  var indexName = widgetParams.indexName,\n      _widgetParams$indexId = widgetParams.indexId,\n      indexId = _widgetParams$indexId === void 0 ? indexName : _widgetParams$indexId;\n  var localWidgets = [];\n  var localUiState = {};\n  var localInstantSearchInstance = null;\n  var localParent = null;\n  var helper = null;\n  var derivedHelper = null;\n  return {\n    $$type: 'ais.index',\n    $$widgetType: 'ais.index',\n    getIndexName: function getIndexName() {\n      return indexName;\n    },\n    getIndexId: function getIndexId() {\n      return indexId;\n    },\n    getHelper: function getHelper() {\n      return helper;\n    },\n    getResults: function getResults() {\n      return derivedHelper && derivedHelper.lastResults;\n    },\n    getScopedResults: function getScopedResults() {\n      var widgetParent = this.getParent(); // If the widget is the root, we consider itself as the only sibling.\n\n      var widgetSiblings = widgetParent ? widgetParent.getWidgets() : [this];\n      return resolveScopedResultsFromWidgets(widgetSiblings);\n    },\n    getParent: function getParent() {\n      return localParent;\n    },\n    createURL: function createURL(nextState) {\n      return localInstantSearchInstance._createURL(_defineProperty({}, indexId, getLocalWidgetsUiState(localWidgets, {\n        searchParameters: nextState,\n        helper: helper\n      })));\n    },\n    getWidgets: function getWidgets() {\n      return localWidgets;\n    },\n    addWidgets: function addWidgets(widgets) {\n      var _this = this;\n\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n\n      localWidgets = localWidgets.concat(widgets);\n\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        privateHelperSetState(helper, {\n          state: getLocalWidgetsSearchParameters(localWidgets, {\n            uiState: localUiState,\n            initialSearchParameters: helper.state\n          }),\n          _uiState: localUiState\n        }); // We compute the render state before calling `init` in a separate loop\n        // to construct the whole render state object that is then passed to\n        // `init`.\n\n        widgets.forEach(function (widget) {\n          if (widget.getRenderState) {\n            var renderState = widget.getRenderState(localInstantSearchInstance.renderState[_this.getIndexId()] || {}, {\n              uiState: localInstantSearchInstance._initialUiState,\n              helper: _this.getHelper(),\n              parent: _this,\n              instantSearchInstance: localInstantSearchInstance,\n              state: helper.state,\n              renderState: localInstantSearchInstance.renderState,\n              templatesConfig: localInstantSearchInstance.templatesConfig,\n              createURL: _this.createURL,\n              scopedResults: [],\n              searchMetadata: {\n                isSearchStalled: localInstantSearchInstance._isSearchStalled\n              }\n            });\n            storeRenderState({\n              renderState: renderState,\n              instantSearchInstance: localInstantSearchInstance,\n              parent: _this\n            });\n          }\n        });\n        widgets.forEach(function (widget) {\n          if (widget.init) {\n            widget.init({\n              helper: helper,\n              parent: _this,\n              uiState: localInstantSearchInstance._initialUiState,\n              instantSearchInstance: localInstantSearchInstance,\n              state: helper.state,\n              renderState: localInstantSearchInstance.renderState,\n              templatesConfig: localInstantSearchInstance.templatesConfig,\n              createURL: _this.createURL,\n              scopedResults: [],\n              searchMetadata: {\n                isSearchStalled: localInstantSearchInstance._isSearchStalled\n              }\n            });\n          }\n        });\n        localInstantSearchInstance.scheduleSearch();\n      }\n\n      return this;\n    },\n    removeWidgets: function removeWidgets(widgets) {\n      var _this2 = this;\n\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n\n      localWidgets = localWidgets.filter(function (widget) {\n        return widgets.indexOf(widget) === -1;\n      });\n\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        var nextState = widgets.reduce(function (state, widget) {\n          // the `dispose` method exists at this point we already assert it\n          var next = widget.dispose({\n            helper: helper,\n            state: state,\n            parent: _this2\n          });\n          return next || state;\n        }, helper.state);\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: nextState,\n          helper: helper\n        });\n        helper.setState(getLocalWidgetsSearchParameters(localWidgets, {\n          uiState: localUiState,\n          initialSearchParameters: nextState\n        }));\n\n        if (localWidgets.length) {\n          localInstantSearchInstance.scheduleSearch();\n        }\n      }\n\n      return this;\n    },\n    init: function init(_ref2) {\n      var _this3 = this;\n\n      var instantSearchInstance = _ref2.instantSearchInstance,\n          parent = _ref2.parent,\n          uiState = _ref2.uiState;\n\n      if (helper !== null) {\n        // helper is already initialized, therefore we do not need to set up\n        // any listeners\n        return;\n      }\n\n      localInstantSearchInstance = instantSearchInstance;\n      localParent = parent;\n      localUiState = uiState[indexId] || {}; // The `mainHelper` is already defined at this point. The instance is created\n      // inside InstantSearch at the `start` method, which occurs before the `init`\n      // step.\n\n      var mainHelper = instantSearchInstance.mainHelper;\n      var parameters = getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: localUiState,\n        initialSearchParameters: new algoliasearchHelper.SearchParameters({\n          index: indexName\n        })\n      }); // This Helper is only used for state management we do not care about the\n      // `searchClient`. Only the \"main\" Helper created at the `InstantSearch`\n      // level is aware of the client.\n\n      helper = algoliasearchHelper({}, parameters.index, parameters); // We forward the call to `search` to the \"main\" instance of the Helper\n      // which is responsible for managing the queries (it's the only one that is\n      // aware of the `searchClient`).\n\n      helper.search = function () {\n        if (instantSearchInstance.onStateChange) {\n          instantSearchInstance.onStateChange({\n            uiState: instantSearchInstance.mainIndex.getWidgetUiState({}),\n            setUiState: instantSearchInstance.setUiState.bind(instantSearchInstance)\n          }); // We don't trigger a search when controlled because it becomes the\n          // responsibility of `setUiState`.\n\n          return mainHelper;\n        }\n\n        return mainHelper.search();\n      };\n\n      helper.searchWithoutTriggeringOnStateChange = function () {\n        return mainHelper.search();\n      }; // We use the same pattern for the `searchForFacetValues`.\n\n\n      helper.searchForFacetValues = function (facetName, facetValue, maxFacetHits, userState) {\n        var state = helper.state.setQueryParameters(userState);\n        return mainHelper.searchForFacetValues(facetName, facetValue, maxFacetHits, state);\n      };\n\n      derivedHelper = mainHelper.derive(function () {\n        return mergeSearchParameters.apply(void 0, _toConsumableArray(resolveSearchParameters(_this3)));\n      }); // Subscribe to the Helper state changes for the page before widgets\n      // are initialized. This behavior mimics the original one of the Helper.\n      // It makes sense to replicate it at the `init` step. We have another\n      // listener on `change` below, once `init` is done.\n\n      helper.on('change', function (_ref3) {\n        var isPageReset = _ref3.isPageReset;\n\n        if (isPageReset) {\n          resetPageFromWidgets(localWidgets);\n        }\n      });\n      derivedHelper.on('search', function () {\n        // The index does not manage the \"staleness\" of the search. This is the\n        // responsibility of the main instance. It does not make sense to manage\n        // it at the index level because it's either: all of them or none of them\n        // that are stalled. The queries are performed into a single network request.\n        instantSearchInstance.scheduleStalledRender();\n\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: _this3,\n            indexUiState: localUiState\n          });\n        }\n      });\n      derivedHelper.on('result', function (_ref4) {\n        var results = _ref4.results;\n        // The index does not render the results it schedules a new render\n        // to let all the other indices emit their own results. It allows us to\n        // run the render process in one pass.\n        instantSearchInstance.scheduleRender(); // the derived helper is the one which actually searches, but the helper\n        // which is exposed e.g. via instance.helper, doesn't search, and thus\n        // does not have access to lastResults, which it used to in pre-federated\n        // search behavior.\n\n        helper.lastResults = results;\n      }); // We compute the render state before calling `init` in a separate loop\n      // to construct the whole render state object that is then passed to\n      // `init`.\n\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this3.getIndexId()] || {}, {\n            uiState: uiState,\n            helper: helper,\n            parent: _this3,\n            instantSearchInstance: instantSearchInstance,\n            state: helper.state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this3.createURL,\n            scopedResults: [],\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this3\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        process.env.NODE_ENV === 'development' ? warning( // if it has NO getWidgetState or if it has getWidgetUiState, we don't warn\n        // aka we warn if there's _only_ getWidgetState\n        !widget.getWidgetState || Boolean(widget.getWidgetUiState), 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n\n        if (widget.init) {\n          widget.init({\n            uiState: uiState,\n            helper: helper,\n            parent: _this3,\n            instantSearchInstance: instantSearchInstance,\n            state: helper.state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this3.createURL,\n            scopedResults: [],\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n        }\n      }); // Subscribe to the Helper state changes for the `uiState` once widgets\n      // are initialized. Until the first render, state changes are part of the\n      // configuration step. This is mainly for backward compatibility with custom\n      // widgets. When the subscription happens before the `init` step, the (static)\n      // configuration of the widget is pushed in the URL. That's what we want to avoid.\n      // https://github.com/algolia/instantsearch.js/pull/994/commits/4a672ae3fd78809e213de0368549ef12e9dc9454\n\n      helper.on('change', function (event) {\n        var state = event.state;\n        var _uiState = event._uiState;\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: state,\n          helper: helper\n        }, _uiState || {}); // We don't trigger an internal change when controlled because it\n        // becomes the responsibility of `setUiState`.\n\n        if (!instantSearchInstance.onStateChange) {\n          instantSearchInstance.onInternalStateChange();\n        }\n      });\n    },\n    render: function render(_ref5) {\n      var _this4 = this;\n\n      var instantSearchInstance = _ref5.instantSearchInstance;\n\n      if (!this.getResults()) {\n        return;\n      }\n\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this4.getIndexId()] || {}, {\n            helper: _this4.getHelper(),\n            parent: _this4,\n            instantSearchInstance: instantSearchInstance,\n            results: _this4.getResults(),\n            scopedResults: _this4.getScopedResults(),\n            state: _this4.getResults()._state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this4.createURL,\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this4\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        // At this point, all the variables used below are set. Both `helper`\n        // and `derivedHelper` have been created at the `init` step. The attribute\n        // `lastResults` might be `null` though. It's possible that a stalled render\n        // happens before the result e.g with a dynamically added index the request might\n        // be delayed. The render is triggered for the complete tree but some parts do\n        // not have results yet.\n        if (widget.render) {\n          widget.render({\n            helper: helper,\n            parent: _this4,\n            instantSearchInstance: instantSearchInstance,\n            results: _this4.getResults(),\n            scopedResults: _this4.getScopedResults(),\n            state: _this4.getResults()._state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this4.createURL,\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n        }\n      });\n    },\n    dispose: function dispose() {\n      var _this5 = this;\n\n      localWidgets.forEach(function (widget) {\n        if (widget.dispose) {\n          // The dispose function is always called once the instance is started\n          // (it's an effect of `removeWidgets`). The index is initialized and\n          // the Helper is available. We don't care about the return value of\n          // `dispose` because the index is removed. We can't call `removeWidgets`\n          // because we want to keep the widgets on the instance, to allow idempotent\n          // operations on `add` & `remove`.\n          widget.dispose({\n            helper: helper,\n            state: helper.state,\n            parent: _this5\n          });\n        }\n      });\n      localInstantSearchInstance = null;\n      localParent = null;\n      helper.removeAllListeners();\n      helper = null;\n      derivedHelper.detach();\n      derivedHelper = null;\n    },\n    getWidgetUiState: function getWidgetUiState(uiState) {\n      return localWidgets.filter(isIndexWidget).reduce(function (previousUiState, innerIndex) {\n        return innerIndex.getWidgetUiState(previousUiState);\n      }, _objectSpread(_objectSpread({}, uiState), {}, _defineProperty({}, this.getIndexId(), localUiState)));\n    },\n    getWidgetState: function getWidgetState(uiState) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n      return this.getWidgetUiState(uiState);\n    },\n    getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n      var uiState = _ref6.uiState;\n      return getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: uiState,\n        initialSearchParameters: searchParameters\n      });\n    },\n    refreshUiState: function refreshUiState() {\n      localUiState = getLocalWidgetsUiState(localWidgets, {\n        searchParameters: this.getHelper().state,\n        helper: this.getHelper()\n      });\n    }\n  };\n};\n\nexport default index;\n\nfunction storeRenderState(_ref7) {\n  var renderState = _ref7.renderState,\n      instantSearchInstance = _ref7.instantSearchInstance,\n      parent = _ref7.parent;\n  var parentIndexName = parent ? parent.getIndexId() : instantSearchInstance.mainIndex.getIndexId();\n  instantSearchInstance.renderState = _objectSpread(_objectSpread({}, instantSearchInstance.renderState), {}, _defineProperty({}, parentIndexName, _objectSpread(_objectSpread({}, instantSearchInstance.renderState[parentIndexName]), renderState)));\n}","var resolveSearchParameters = function resolveSearchParameters(current) {\n  var parent = current.getParent();\n  var states = [current.getHelper().state];\n\n  while (parent !== null) {\n    states = [parent.getHelper().state].concat(states);\n    parent = parent.getParent();\n  }\n\n  return states;\n};\n\nexport default resolveSearchParameters;","export default '4.27.2';","var NAMESPACE = 'ais';\nexport var component = function component(componentName) {\n  return function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        descendantName = _ref.descendantName,\n        modifierName = _ref.modifierName;\n\n    var descendent = descendantName ? \"-\".concat(descendantName) : '';\n    var modifier = modifierName ? \"--\".concat(modifierName) : '';\n    return \"\".concat(NAMESPACE, \"-\").concat(componentName).concat(descendent).concat(modifier);\n  };\n};","function getPropertyByPath(object, path) {\n  var parts = Array.isArray(path) ? path : path.split('.');\n  return parts.reduce(function (current, key) {\n    return current && current[key];\n  }, object);\n}\n\nexport default getPropertyByPath;","/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/escape.js\n */\n// Used to map characters to HTML entities.\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n}; // Used to match HTML entities and HTML characters.\n\nvar regexUnescapedHtml = /[&<>\"']/g;\nvar regexHasUnescapedHtml = RegExp(regexUnescapedHtml.source);\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n */\n\nfunction escape(value) {\n  return value && regexHasUnescapedHtml.test(value) ? value.replace(regexUnescapedHtml, function (character) {\n    return htmlEscapes[character];\n  }) : value;\n}\n\nexport default escape;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/master/isPlainObject.js\n */\nfunction getTag(value) {\n  if (value === null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n\n  return Object.prototype.toString.call(value);\n}\n\nfunction isObjectLike(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\n/**\n * Checks if `value` is a plain object.\n *\n * A plain object is an object created by the `Object`\n * constructor or with a `[[Prototype]]` of `null`.\n */\n\n\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || getTag(value) !== '[object Object]') {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n}\n\nexport default isPlainObject;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport escape from './escape';\nimport isPlainObject from './isPlainObject';\nexport var TAG_PLACEHOLDER = {\n  highlightPreTag: '__ais-highlight__',\n  highlightPostTag: '__/ais-highlight__'\n};\nexport var TAG_REPLACEMENT = {\n  highlightPreTag: '<mark>',\n  highlightPostTag: '</mark>'\n};\n\nfunction replaceTagsAndEscape(value) {\n  return escape(value).replace(new RegExp(TAG_PLACEHOLDER.highlightPreTag, 'g'), TAG_REPLACEMENT.highlightPreTag).replace(new RegExp(TAG_PLACEHOLDER.highlightPostTag, 'g'), TAG_REPLACEMENT.highlightPostTag);\n}\n\nfunction recursiveEscape(input) {\n  if (isPlainObject(input) && typeof input.value !== 'string') {\n    return Object.keys(input).reduce(function (acc, key) {\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, recursiveEscape(input[key])));\n    }, {});\n  }\n\n  if (Array.isArray(input)) {\n    return input.map(recursiveEscape);\n  }\n\n  return _objectSpread(_objectSpread({}, input), {}, {\n    value: replaceTagsAndEscape(input.value)\n  });\n}\n\nexport function escapeHits(hits) {\n  if (hits.__escaped === undefined) {\n    // We don't override the value on hit because it will mutate the raw results\n    // instead we make a shallow copy and we assign the escaped values on it.\n    hits = hits.map(function (_ref) {\n      var hit = _extends({}, _ref);\n\n      if (hit._highlightResult) {\n        hit._highlightResult = recursiveEscape(hit._highlightResult);\n      }\n\n      if (hit._snippetResult) {\n        hit._snippetResult = recursiveEscape(hit._snippetResult);\n      }\n\n      return hit;\n    });\n    hits.__escaped = true;\n  }\n\n  return hits;\n}\nexport function escapeFacets(facetHits) {\n  return facetHits.map(function (h) {\n    return _objectSpread(_objectSpread({}, h), {}, {\n      highlighted: replaceTagsAndEscape(h.highlighted)\n    });\n  });\n}","import { component } from '../lib/suit';\nimport { getPropertyByPath, TAG_REPLACEMENT } from '../lib/utils';\nvar suit = component('Highlight');\nexport default function highlight(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._highlightResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { TAG_REPLACEMENT } from './escape-highlight';\nexport default function concatHighlightedParts(parts) {\n  var highlightPreTag = TAG_REPLACEMENT.highlightPreTag,\n      highlightPostTag = TAG_REPLACEMENT.highlightPostTag;\n  return parts.map(function (part) {\n    return part.isHighlighted ? highlightPreTag + part.value + highlightPostTag : part.value;\n  }).join('');\n}","/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/unescape.js\n */\n// Used to map HTML entities to characters.\nvar htmlEscapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n}; // Used to match HTML entities and HTML characters.\n\nvar regexEscapedHtml = /&(amp|quot|lt|gt|#39);/g;\nvar regexHasEscapedHtml = RegExp(regexEscapedHtml.source);\n/**\n * Converts the HTML entities \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * characters.\n */\n\nexport default function unescape(value) {\n  return value && regexHasEscapedHtml.test(value) ? value.replace(regexEscapedHtml, function (character) {\n    return htmlEscapes[character];\n  }) : value;\n}","import unescape from './unescape';\nvar hasAlphanumeric = new RegExp(/\\w/i);\nexport default function getHighlightFromSiblings(parts, i) {\n  var _parts, _parts2;\n\n  var current = parts[i];\n  var isNextHighlighted = ((_parts = parts[i + 1]) === null || _parts === void 0 ? void 0 : _parts.isHighlighted) || true;\n  var isPreviousHighlighted = ((_parts2 = parts[i - 1]) === null || _parts2 === void 0 ? void 0 : _parts2.isHighlighted) || true;\n\n  if (!hasAlphanumeric.test(unescape(current.value)) && isPreviousHighlighted === isNextHighlighted) {\n    return isPreviousHighlighted;\n  }\n\n  return current.isHighlighted;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport getHighlightFromSiblings from './getHighlightFromSiblings';\nexport default function reverseHighlightedParts(parts) {\n  if (!parts.some(function (part) {\n    return part.isHighlighted;\n  })) {\n    return parts.map(function (part) {\n      return _objectSpread(_objectSpread({}, part), {}, {\n        isHighlighted: false\n      });\n    });\n  }\n\n  return parts.map(function (part, i) {\n    return _objectSpread(_objectSpread({}, part), {}, {\n      isHighlighted: !getHighlightFromSiblings(parts, i)\n    });\n  });\n}","import { TAG_REPLACEMENT } from './escape-highlight';\nexport default function getHighlightedParts(highlightedValue) {\n  var highlightPostTag = TAG_REPLACEMENT.highlightPostTag,\n      highlightPreTag = TAG_REPLACEMENT.highlightPreTag;\n  var splitByPreTag = highlightedValue.split(highlightPreTag);\n  var firstValue = splitByPreTag.shift();\n  var elements = !firstValue ? [] : [{\n    value: firstValue,\n    isHighlighted: false\n  }];\n  splitByPreTag.forEach(function (split) {\n    var splitByPostTag = split.split(highlightPostTag);\n    elements.push({\n      value: splitByPostTag[0],\n      isHighlighted: true\n    });\n\n    if (splitByPostTag[1] !== '') {\n      elements.push({\n        value: splitByPostTag[1],\n        isHighlighted: false\n      });\n    }\n  });\n  return elements;\n}","import { TAG_REPLACEMENT, getPropertyByPath, getHighlightedParts, reverseHighlightedParts, concatHighlightedParts } from '../lib/utils';\nimport { component } from '../lib/suit';\nvar suit = component('ReverseHighlight');\nexport default function reverseHighlight(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._highlightResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = concatHighlightedParts(reverseHighlightedParts(getHighlightedParts(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { component } from '../lib/suit';\nimport { TAG_REPLACEMENT, getPropertyByPath } from '../lib/utils';\nvar suit = component('Snippet');\nexport default function snippet(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._snippetResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { TAG_REPLACEMENT, getPropertyByPath, getHighlightedParts, reverseHighlightedParts, concatHighlightedParts } from '../lib/utils';\nimport { component } from '../lib/suit';\nvar suit = component('ReverseSnippet');\nexport default function reverseSnippet(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._snippetResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = concatHighlightedParts(reverseHighlightedParts(getHighlightedParts(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","export function serializePayload(payload) {\n  return btoa(encodeURIComponent(JSON.stringify(payload)));\n}\nexport function deserializePayload(payload) {\n  return JSON.parse(decodeURIComponent(atob(payload)));\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { warning, serializePayload, deserializePayload } from '../lib/utils';\nexport function readDataAttributes(domElement) {\n  var method = domElement.getAttribute('data-insights-method');\n  var serializedPayload = domElement.getAttribute('data-insights-payload');\n\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.');\n  }\n\n  try {\n    var payload = deserializePayload(serializedPayload);\n    return {\n      method: method,\n      payload: payload\n    };\n  } catch (error) {\n    throw new Error('The insights helper was unable to parse `data-insights-payload`.');\n  }\n}\nexport function hasDataAttributes(domElement) {\n  return domElement.hasAttribute('data-insights-method');\n}\nexport function writeDataAttributes(_ref) {\n  var method = _ref.method,\n      payload = _ref.payload;\n\n  if (_typeof(payload) !== 'object') {\n    throw new Error(\"The insights helper expects the payload to be an object.\");\n  }\n\n  var serializedPayload;\n\n  try {\n    serializedPayload = serializePayload(payload);\n  } catch (error) {\n    throw new Error(\"Could not JSON serialize the payload object.\");\n  }\n\n  return \"data-insights-method=\\\"\".concat(method, \"\\\" data-insights-payload=\\\"\").concat(serializedPayload, \"\\\"\");\n}\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\n\nexport default function insights(method, payload) {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return writeDataAttributes({\n    method: method,\n    payload: payload\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { highlight as _highlight, reverseHighlight as _reverseHighlight, snippet as _snippet, reverseSnippet as _reverseSnippet, insights as _insights } from '../helpers';\nexport default function hoganHelpers(_ref) {\n  var numberLocale = _ref.numberLocale;\n  return {\n    formatNumber: function formatNumber(value, render) {\n      return Number(render(value)).toLocaleString(numberLocale);\n    },\n    highlight: function highlight(options, render) {\n      try {\n        var highlightOptions = JSON.parse(options);\n        return render(_highlight(_objectSpread(_objectSpread({}, highlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe highlight helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseHighlight: function reverseHighlight(options, render) {\n      try {\n        var reverseHighlightOptions = JSON.parse(options);\n        return render(_reverseHighlight(_objectSpread(_objectSpread({}, reverseHighlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseHighlight helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    snippet: function snippet(options, render) {\n      try {\n        var snippetOptions = JSON.parse(options);\n        return render(_snippet(_objectSpread(_objectSpread({}, snippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe snippet helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseSnippet: function reverseSnippet(options, render) {\n      try {\n        var reverseSnippetOptions = JSON.parse(options);\n        return render(_reverseSnippet(_objectSpread(_objectSpread({}, reverseSnippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseSnippet helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    insights: function insights(options, render) {\n      try {\n        var _JSON$parse = JSON.parse(options),\n            method = _JSON$parse.method,\n            payload = _JSON$parse.payload;\n\n        return render(_insights(method, _objectSpread({\n          objectIDs: [this.objectID]\n        }, payload)));\n      } catch (error) {\n        throw new Error(\"\\nThe insights helper expects a JSON object of the format:\\n{ \\\"method\\\": \\\"method-name\\\", \\\"payload\\\": { \\\"eventName\\\": \\\"name of the event\\\" } }\");\n      }\n    }\n  };\n}","var nextMicroTask = Promise.resolve();\n\nvar defer = function defer(callback) {\n  var progress = null;\n  var cancelled = false;\n\n  var fn = function fn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (progress !== null) {\n      return;\n    }\n\n    progress = nextMicroTask.then(function () {\n      progress = null;\n\n      if (cancelled) {\n        cancelled = false;\n        return;\n      }\n\n      callback.apply(void 0, args);\n    });\n  };\n\n  fn.wait = function () {\n    if (progress === null) {\n      throw new Error('The deferred function should be called before calling `wait()`');\n    }\n\n    return progress;\n  };\n\n  fn.cancel = function () {\n    if (progress === null) {\n      return;\n    }\n\n    cancelled = true;\n  };\n\n  return fn;\n};\n\nexport default defer;","function noop() {}\n\nexport default noop;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction getIndexStateWithoutConfigure(uiState) {\n  var configure = uiState.configure,\n      trackedUiState = _objectWithoutProperties(uiState, [\"configure\"]);\n\n  return trackedUiState;\n} // technically a URL could contain any key, since users provide it,\n// which is why the input to this function is UiState, not something\n// which excludes \"configure\" as this function does.\n\n\nexport default function simpleStateMapping() {\n  return {\n    stateToRoute: function stateToRoute(uiState) {\n      return Object.keys(uiState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(uiState[indexId])));\n      }, {});\n    },\n    routeToState: function routeToState() {\n      var routeState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.keys(routeState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(routeState[indexId])));\n      }, {});\n    }\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport qs from 'qs';\n\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    window.document.title = title;\n  }\n};\n\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory(_ref) {\n    var windowTitle = _ref.windowTitle,\n        _ref$writeDelay = _ref.writeDelay,\n        writeDelay = _ref$writeDelay === void 0 ? 400 : _ref$writeDelay,\n        createURL = _ref.createURL,\n        parseURL = _ref.parseURL;\n\n    _classCallCheck(this, BrowserHistory);\n\n    _defineProperty(this, \"windowTitle\", void 0);\n\n    _defineProperty(this, \"writeDelay\", void 0);\n\n    _defineProperty(this, \"_createURL\", void 0);\n\n    _defineProperty(this, \"parseURL\", void 0);\n\n    _defineProperty(this, \"writeTimer\", void 0);\n\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    var title = this.windowTitle && this.windowTitle(this.read());\n    setWindowTitle(title);\n  }\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n\n\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: window.location\n      });\n    }\n    /**\n     * Pushes a search state into the URL.\n     */\n\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this = this;\n\n      var url = this.createURL(routeState);\n      var title = this.windowTitle && this.windowTitle(routeState);\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.writeTimer = window.setTimeout(function () {\n        setWindowTitle(title);\n        window.history.pushState(routeState, title || '', url);\n        _this.writeTimer = undefined;\n      }, this.writeDelay);\n    }\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this2 = this;\n\n      this._onPopState = function (event) {\n        if (_this2.writeTimer) {\n          window.clearTimeout(_this2.writeTimer);\n          _this2.writeTimer = undefined;\n        }\n\n        var routeState = event.state; // At initial load, the state is read from the URL without update.\n        // Therefore the state object is not available.\n        // In this case, we fallback and read the URL.\n\n        if (!routeState) {\n          callback(_this2.read());\n        } else {\n          callback(routeState);\n        }\n      };\n\n      window.addEventListener('popstate', this._onPopState);\n    }\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch.js/issues/790\n     */\n\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      return this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: window.location\n      });\n    }\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._onPopState) {\n        window.removeEventListener('popstate', this._onPopState);\n      }\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.write({});\n    }\n  }]);\n\n  return BrowserHistory;\n}();\n\nexport default function historyRouter() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$createURL = _ref2.createURL,\n      createURL = _ref2$createURL === void 0 ? function (_ref3) {\n    var qsModule = _ref3.qsModule,\n        routeState = _ref3.routeState,\n        location = _ref3.location;\n    var protocol = location.protocol,\n        hostname = location.hostname,\n        _location$port = location.port,\n        port = _location$port === void 0 ? '' : _location$port,\n        pathname = location.pathname,\n        hash = location.hash;\n    var queryString = qsModule.stringify(routeState);\n    var portWithPrefix = port === '' ? '' : \":\".concat(port); // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n\n    // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n    if (!queryString) {\n      return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n    }\n\n    return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n  } : _ref2$createURL,\n      _ref2$parseURL = _ref2.parseURL,\n      parseURL = _ref2$parseURL === void 0 ? function (_ref4) {\n    var qsModule = _ref4.qsModule,\n        location = _ref4.location;\n    // `qs` by default converts arrays with more than 20 items to an object.\n    // We want to avoid this because the data structure manipulated can therefore vary.\n    // Setting the limit to `100` seems a good number because the engine's default is 100\n    // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n    //\n    // Using an `arrayLimit` of `n` allows `n + 1` items.\n    //\n    // See:\n    //   - https://github.com/ljharb/qs#parsing-arrays\n    //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n    return qsModule.parse(location.search.slice(1), {\n      arrayLimit: 99\n    });\n  } : _ref2$parseURL,\n      _ref2$writeDelay = _ref2.writeDelay,\n      writeDelay = _ref2$writeDelay === void 0 ? 400 : _ref2$writeDelay,\n      windowTitle = _ref2.windowTitle;\n\n  return new BrowserHistory({\n    createURL: createURL,\n    parseURL: parseURL,\n    writeDelay: writeDelay,\n    windowTitle: windowTitle\n  });\n}","function isPrimitive(obj) {\n  return obj !== Object(obj);\n}\n\nfunction isEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  if (isPrimitive(first) || isPrimitive(second) || typeof first === 'function' || typeof second === 'function') {\n    return first === second;\n  }\n\n  if (Object.keys(first).length !== Object.keys(second).length) {\n    return false;\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(first); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (!(key in second)) {\n      return false;\n    }\n\n    if (!isEqual(first[key], second[key])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isEqual;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport simpleStateMapping from '../lib/stateMappings/simple';\nimport historyRouter from '../lib/routers/history';\nimport { isEqual } from '../lib/utils';\nexport var createRouterMiddleware = function createRouterMiddleware() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _props$router = props.router,\n      router = _props$router === void 0 ? historyRouter() : _props$router,\n      _props$stateMapping = props.stateMapping,\n      stateMapping = _props$stateMapping === void 0 ? simpleStateMapping() : _props$stateMapping;\n  return function (_ref) {\n    var instantSearchInstance = _ref.instantSearchInstance;\n\n    function topLevelCreateURL(nextState) {\n      var uiState = Object.keys(nextState).reduce(function (acc, indexId) {\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, indexId, nextState[indexId]));\n      }, instantSearchInstance.mainIndex.getWidgetUiState({}));\n      var route = stateMapping.stateToRoute(uiState);\n      return router.createURL(route);\n    } // casting to UiState here to keep createURL unaware of custom UiState\n    // (as long as it's an object, it's ok)\n\n\n    instantSearchInstance._createURL = topLevelCreateURL;\n    instantSearchInstance._initialUiState = _objectSpread(_objectSpread({}, instantSearchInstance._initialUiState), stateMapping.routeToState(router.read()));\n    var lastRouteState = undefined;\n    return {\n      onStateChange: function onStateChange(_ref2) {\n        var uiState = _ref2.uiState;\n        var routeState = stateMapping.stateToRoute(uiState);\n\n        if (lastRouteState === undefined || !isEqual(lastRouteState, routeState)) {\n          router.write(routeState);\n          lastRouteState = routeState;\n        }\n      },\n      subscribe: function subscribe() {\n        router.onUpdate(function (route) {\n          instantSearchInstance.setUiState(stateMapping.routeToState(route));\n        });\n      },\n      unsubscribe: function unsubscribe() {\n        router.dispose();\n      }\n    };\n  };\n};","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction extractPayload(widgets, instantSearchInstance, payload) {\n  var parent = instantSearchInstance.mainIndex;\n  var initOptions = {\n    instantSearchInstance: instantSearchInstance,\n    parent: parent,\n    scopedResults: [],\n    state: parent.getHelper().state,\n    helper: parent.getHelper(),\n    createURL: parent.createURL,\n    uiState: instantSearchInstance._initialUiState,\n    renderState: instantSearchInstance.renderState,\n    templatesConfig: instantSearchInstance.templatesConfig,\n    searchMetadata: {\n      isSearchStalled: instantSearchInstance._isSearchStalled\n    }\n  };\n  widgets.forEach(function (widget) {\n    var widgetParams = {};\n\n    if (widget.getWidgetRenderState) {\n      var renderState = widget.getWidgetRenderState(initOptions);\n\n      if (renderState && _typeof(renderState.widgetParams) === 'object') {\n        widgetParams = renderState.widgetParams;\n      }\n    } // since we destructure in all widgets, the parameters with defaults are set to \"undefined\"\n\n\n    var params = Object.keys(widgetParams).filter(function (key) {\n      return widgetParams[key] !== undefined;\n    });\n    payload.widgets.push({\n      type: widget.$$type,\n      widgetType: widget.$$widgetType,\n      params: params\n    });\n\n    if (widget.$$type === 'ais.index') {\n      extractPayload(widget.getWidgets(), instantSearchInstance, payload);\n    }\n  });\n}\n\nexport function isMetadataEnabled() {\n  return typeof window !== 'undefined' && window.navigator.userAgent.indexOf('Algolia Crawler') > -1;\n}\n/**\n * Exposes the metadata of mounted widgets in a custom\n * `<meta name=\"instantsearch:widgets\" />` tag. The metadata per widget is:\n * - applied parameters\n * - widget name\n * - connector name\n */\n\nexport function createMetadataMiddleware() {\n  return function (_ref) {\n    var instantSearchInstance = _ref.instantSearchInstance;\n    var payload = {\n      widgets: []\n    };\n    var payloadContainer = document.createElement('meta');\n    var refNode = document.querySelector('head');\n    payloadContainer.name = 'instantsearch:widgets';\n    return {\n      onStateChange: function onStateChange() {},\n      subscribe: function subscribe() {\n        // using setTimeout here to delay extraction until widgets have been added in a tick (e.g. Vue)\n        setTimeout(function () {\n          var client = instantSearchInstance.client;\n          payload.ua = client.transporter && client.transporter.userAgent ? client.transporter.userAgent.value : client._ua;\n          extractPayload(instantSearchInstance.mainIndex.getWidgets(), instantSearchInstance, payload);\n          payloadContainer.content = JSON.stringify(payload);\n          refNode.appendChild(payloadContainer);\n        }, 0);\n      },\n      unsubscribe: function unsubscribe() {\n        payloadContainer.remove();\n      }\n    };\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport EventEmitter from 'events';\nimport index, { isIndexWidget } from '../widgets/index/index';\nimport version from './version';\nimport createHelpers from './createHelpers';\nimport { createDocumentationMessageGenerator, createDocumentationLink, defer, noop, warning, checkIndexUiState } from './utils';\nimport { createRouterMiddleware } from '../middlewares/createRouterMiddleware';\nimport { createMetadataMiddleware, isMetadataEnabled } from '../middlewares/createMetadataMiddleware';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'instantsearch'\n});\n\nfunction defaultCreateURL() {\n  return '#';\n}\n/**\n * Global options for an InstantSearch instance.\n */\n\n\n/**\n * The actual implementation of the InstantSearch. This is\n * created using the `instantsearch` factory function.\n * It emits the 'render' event every time a search is done\n */\nvar InstantSearch = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(InstantSearch, _EventEmitter);\n\n  var _super = _createSuper(InstantSearch);\n\n  function InstantSearch(options) {\n    var _this;\n\n    _classCallCheck(this, InstantSearch);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"client\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"indexName\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"insightsClient\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onStateChange\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"helper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mainHelper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mainIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"started\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"templatesConfig\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"renderState\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_stalledSearchDelay\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_searchStalledTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isSearchStalled\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_initialUiState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_createURL\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_searchFunction\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mainHelperSearch\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"middleware\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"sendEventToInsights\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"scheduleSearch\", defer(function () {\n      if (_this.started) {\n        _this.mainHelper.search();\n      }\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"scheduleRender\", defer(function () {\n      if (!_this.mainHelper.hasPendingRequests()) {\n        clearTimeout(_this._searchStalledTimer);\n        _this._searchStalledTimer = null;\n        _this._isSearchStalled = false;\n      }\n\n      _this.mainIndex.render({\n        instantSearchInstance: _assertThisInitialized(_this)\n      });\n\n      _this.emit('render');\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"onInternalStateChange\", defer(function () {\n      var nextUiState = _this.mainIndex.getWidgetUiState({});\n\n      _this.middleware.forEach(function (_ref) {\n        var instance = _ref.instance;\n        instance.onStateChange({\n          uiState: nextUiState\n        });\n      });\n    }));\n\n    var _options$indexName = options.indexName,\n        indexName = _options$indexName === void 0 ? null : _options$indexName,\n        numberLocale = options.numberLocale,\n        _options$initialUiSta = options.initialUiState,\n        initialUiState = _options$initialUiSta === void 0 ? {} : _options$initialUiSta,\n        _options$routing = options.routing,\n        routing = _options$routing === void 0 ? null : _options$routing,\n        searchFunction = options.searchFunction,\n        _options$stalledSearc = options.stalledSearchDelay,\n        stalledSearchDelay = _options$stalledSearc === void 0 ? 200 : _options$stalledSearc,\n        _options$searchClient = options.searchClient,\n        searchClient = _options$searchClient === void 0 ? null : _options$searchClient,\n        _options$insightsClie = options.insightsClient,\n        insightsClient = _options$insightsClie === void 0 ? null : _options$insightsClie,\n        _options$onStateChang = options.onStateChange,\n        onStateChange = _options$onStateChang === void 0 ? null : _options$onStateChang;\n\n    if (indexName === null) {\n      throw new Error(withUsage('The `indexName` option is required.'));\n    }\n\n    if (searchClient === null) {\n      throw new Error(withUsage('The `searchClient` option is required.'));\n    }\n\n    if (typeof searchClient.search !== 'function') {\n      throw new Error(\"The `searchClient` must implement a `search` method.\\n\\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/\");\n    }\n\n    if (typeof searchClient.addAlgoliaAgent === 'function') {\n      searchClient.addAlgoliaAgent(\"instantsearch.js (\".concat(version, \")\"));\n    }\n\n    process.env.NODE_ENV === 'development' ? warning(insightsClient === null, \"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n\n    if (insightsClient && typeof insightsClient !== 'function') {\n      throw new Error(withUsage('The `insightsClient` option should be a function.'));\n    }\n\n    process.env.NODE_ENV === 'development' ? warning(!options.searchParameters, \"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\\n\\nYou can replace it with the `configure` widget:\\n\\n```\\nsearch.addWidgets([\\n  configure(\".concat(JSON.stringify(options.searchParameters, null, 2), \")\\n]);\\n```\\n\\nSee \").concat(createDocumentationLink({\n      name: 'configure'\n    }))) : void 0;\n    _this.client = searchClient;\n    _this.insightsClient = insightsClient;\n    _this.indexName = indexName;\n    _this.helper = null;\n    _this.mainHelper = null;\n    _this.mainIndex = index({\n      indexName: indexName\n    });\n    _this.onStateChange = onStateChange;\n    _this.started = false;\n    _this.templatesConfig = {\n      helpers: createHelpers({\n        numberLocale: numberLocale\n      }),\n      compileOptions: {}\n    };\n    _this._stalledSearchDelay = stalledSearchDelay;\n    _this._searchStalledTimer = null;\n    _this._isSearchStalled = false;\n    _this._createURL = defaultCreateURL;\n    _this._initialUiState = initialUiState;\n\n    if (searchFunction) {\n      _this._searchFunction = searchFunction;\n    }\n\n    _this.sendEventToInsights = noop;\n\n    if (routing) {\n      var routerOptions = typeof routing === 'boolean' ? undefined : routing;\n\n      _this.use(createRouterMiddleware(routerOptions));\n    }\n\n    if (isMetadataEnabled()) {\n      _this.use(createMetadataMiddleware());\n    }\n\n    return _this;\n  }\n  /**\n   * Hooks a middleware into the InstantSearch lifecycle.\n   */\n\n\n  _createClass(InstantSearch, [{\n    key: \"use\",\n    value: function use() {\n      var _this2 = this;\n\n      for (var _len = arguments.length, middleware = new Array(_len), _key = 0; _key < _len; _key++) {\n        middleware[_key] = arguments[_key];\n      }\n\n      var newMiddlewareList = middleware.map(function (fn) {\n        var newMiddleware = _objectSpread({\n          subscribe: noop,\n          unsubscribe: noop,\n          onStateChange: noop\n        }, fn({\n          instantSearchInstance: _this2\n        }));\n\n        _this2.middleware.push({\n          creator: fn,\n          instance: newMiddleware\n        });\n\n        return newMiddleware;\n      }); // If the instance has already started, we directly subscribe the\n      // middleware so they're notified of changes.\n\n      if (this.started) {\n        newMiddlewareList.forEach(function (m) {\n          m.subscribe();\n        });\n      }\n\n      return this;\n    }\n    /**\n     * Removes a middleware from the InstantSearch lifecycle.\n     */\n\n  }, {\n    key: \"unuse\",\n    value: function unuse() {\n      for (var _len2 = arguments.length, middlewareToUnuse = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        middlewareToUnuse[_key2] = arguments[_key2];\n      }\n\n      this.middleware.filter(function (m) {\n        return middlewareToUnuse.includes(m.creator);\n      }).forEach(function (m) {\n        return m.instance.unsubscribe();\n      });\n      this.middleware = this.middleware.filter(function (m) {\n        return !middlewareToUnuse.includes(m.creator);\n      });\n      return this;\n    } // @major we shipped with EXPERIMENTAL_use, but have changed that to just `use` now\n\n  }, {\n    key: \"EXPERIMENTAL_use\",\n    value: function EXPERIMENTAL_use() {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version.') : void 0;\n      return this.use.apply(this, arguments);\n    }\n    /**\n     * Adds a widget to the search instance.\n     * A widget can be added either before or after InstantSearch has started.\n     * @param widget The widget to add to InstantSearch.\n     *\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`.\n     */\n\n  }, {\n    key: \"addWidget\",\n    value: function addWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`') : void 0;\n      return this.addWidgets([widget]);\n    }\n    /**\n     * Adds multiple widgets to the search instance.\n     * Widgets can be added either before or after InstantSearch has started.\n     * @param widgets The array of widgets to add to InstantSearch.\n     */\n\n  }, {\n    key: \"addWidgets\",\n    value: function addWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets. Please use `addWidget`.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n\n      this.mainIndex.addWidgets(widgets);\n      return this;\n    }\n    /**\n     * Removes a widget from the search instance.\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`\n     * @param widget The widget instance to remove from InstantSearch.\n     *\n     * The widget must implement a `dispose()` method to clear its state.\n     */\n\n  }, {\n    key: \"removeWidget\",\n    value: function removeWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`') : void 0;\n      return this.removeWidgets([widget]);\n    }\n    /**\n     * Removes multiple widgets from the search instance.\n     * @param widgets Array of widgets instances to remove from InstantSearch.\n     *\n     * The widgets must implement a `dispose()` method to clear their states.\n     */\n\n  }, {\n    key: \"removeWidgets\",\n    value: function removeWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets. Please use `removeWidget`.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n\n      this.mainIndex.removeWidgets(widgets);\n      return this;\n    }\n    /**\n     * Ends the initialization of InstantSearch.js and triggers the\n     * first search. This method should be called after all widgets have been added\n     * to the instance of InstantSearch.js. InstantSearch.js also supports adding and removing\n     * widgets after the start as an **EXPERIMENTAL** feature.\n     */\n\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this3 = this;\n\n      if (this.started) {\n        throw new Error(withUsage('The `start` method has already been called once.'));\n      } // This Helper is used for the queries, we don't care about its state. The\n      // states are managed at the `index` level. We use this Helper to create\n      // DerivedHelper scoped into the `index` widgets.\n      // In Vue InstantSearch' hydrate, a main helper gets set before start, so\n      // we need to respect this helper as a way to keep all listeners correct.\n\n\n      var mainHelper = this.mainHelper || algoliasearchHelper(this.client, this.indexName);\n\n      mainHelper.search = function () {\n        // This solution allows us to keep the exact same API for the users but\n        // under the hood, we have a different implementation. It should be\n        // completely transparent for the rest of the codebase. Only this module\n        // is impacted.\n        return mainHelper.searchOnlyWithDerivedHelpers();\n      };\n\n      if (this._searchFunction) {\n        // this client isn't used to actually search, but required for the helper\n        // to not throw errors\n        var fakeClient = {\n          search: function search() {\n            return new Promise(noop);\n          }\n        };\n        this._mainHelperSearch = mainHelper.search.bind(mainHelper);\n\n        mainHelper.search = function () {\n          var mainIndexHelper = _this3.mainIndex.getHelper();\n\n          var searchFunctionHelper = algoliasearchHelper(fakeClient, mainIndexHelper.state.index, mainIndexHelper.state);\n          searchFunctionHelper.once('search', function (_ref2) {\n            var state = _ref2.state;\n            mainIndexHelper.overrideStateWithoutTriggeringChangeEvent(state);\n\n            _this3._mainHelperSearch();\n          }); // Forward state changes from `searchFunctionHelper` to `mainIndexHelper`\n\n          searchFunctionHelper.on('change', function (_ref3) {\n            var state = _ref3.state;\n            mainIndexHelper.setState(state);\n          });\n\n          _this3._searchFunction(searchFunctionHelper);\n\n          return mainHelper;\n        };\n      } // Only the \"main\" Helper emits the `error` event vs the one for `search`\n      // and `results` that are also emitted on the derived one.\n\n\n      mainHelper.on('error', function (_ref4) {\n        var error = _ref4.error;\n\n        _this3.emit('error', {\n          error: error\n        });\n      });\n      this.mainHelper = mainHelper;\n      this.mainIndex.init({\n        instantSearchInstance: this,\n        parent: null,\n        uiState: this._initialUiState\n      });\n      this.middleware.forEach(function (_ref5) {\n        var instance = _ref5.instance;\n        instance.subscribe();\n      });\n      mainHelper.search(); // Keep the previous reference for legacy purpose, some pattern use\n      // the direct Helper access `search.helper` (e.g multi-index).\n\n      this.helper = this.mainIndex.getHelper(); // track we started the search if we add more widgets,\n      // to init them directly after add\n\n      this.started = true;\n    }\n    /**\n     * Removes all widgets without triggering a search afterwards. This is an **EXPERIMENTAL** feature,\n     * if you find an issue with it, please\n     * [open an issue](https://github.com/algolia/instantsearch.js/issues/new?title=Problem%20with%20dispose).\n     * @return {undefined} This method does not return anything\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.scheduleSearch.cancel();\n      this.scheduleRender.cancel();\n      clearTimeout(this._searchStalledTimer);\n      this.removeWidgets(this.mainIndex.getWidgets());\n      this.mainIndex.dispose(); // You can not start an instance two times, therefore a disposed instance\n      // needs to set started as false otherwise this can not be restarted at a\n      // later point.\n\n      this.started = false; // The helper needs to be reset to perform the next search from a fresh state.\n      // If not reset, it would use the state stored before calling `dispose()`.\n\n      this.removeAllListeners();\n      this.mainHelper.removeAllListeners();\n      this.mainHelper = null;\n      this.helper = null;\n      this.middleware.forEach(function (_ref6) {\n        var instance = _ref6.instance;\n        instance.unsubscribe();\n      });\n    }\n  }, {\n    key: \"scheduleStalledRender\",\n    value: function scheduleStalledRender() {\n      var _this4 = this;\n\n      if (!this._searchStalledTimer) {\n        this._searchStalledTimer = setTimeout(function () {\n          _this4._isSearchStalled = true;\n\n          _this4.scheduleRender();\n        }, this._stalledSearchDelay);\n      }\n    }\n  }, {\n    key: \"setUiState\",\n    value: function setUiState(uiState) {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `setUiState`.'));\n      } // We refresh the index UI state to update the local UI state that the\n      // main index passes to the function form of `setUiState`.\n\n\n      this.mainIndex.refreshUiState();\n      var nextUiState = typeof uiState === 'function' ? uiState(this.mainIndex.getWidgetUiState({})) : uiState;\n\n      var setIndexHelperState = function setIndexHelperState(indexWidget) {\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: indexWidget,\n            indexUiState: nextUiState[indexWidget.getIndexId()]\n          });\n        }\n\n        indexWidget.getHelper().setState(indexWidget.getWidgetSearchParameters(indexWidget.getHelper().state, {\n          uiState: nextUiState[indexWidget.getIndexId()]\n        }));\n        indexWidget.getWidgets().filter(isIndexWidget).forEach(setIndexHelperState);\n      };\n\n      setIndexHelperState(this.mainIndex);\n      this.scheduleSearch();\n      this.onInternalStateChange();\n    }\n  }, {\n    key: \"getUiState\",\n    value: function getUiState() {\n      if (this.started) {\n        // We refresh the index UI state to make sure changes from `refine` are taken in account\n        this.mainIndex.refreshUiState();\n      }\n\n      return this.mainIndex.getWidgetUiState({});\n    }\n  }, {\n    key: \"createURL\",\n    value: function createURL() {\n      var nextState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.started) {\n        throw new Error(withUsage('The `start` method needs to be called before `createURL`.'));\n      }\n\n      return this._createURL(nextState);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `refresh`.'));\n      }\n\n      this.mainHelper.clearCache().search();\n    }\n  }]);\n\n  return InstantSearch;\n}(EventEmitter);\n\nexport default InstantSearch;","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { isEqual } from '../utils';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse( // @ts-expect-error JSON.parse() requires a string, but it actually accepts null, too.\n        window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}","import noop from './noop';\n\n/**\n * Logs a warning when this function is called, in development environment only.\n */\nvar deprecate = function deprecate(fn, message) {\n  return fn;\n};\n/**\n * Logs a warning\n * This is used to log issues in development environment only.\n */\n\n\nvar warn = noop;\n/**\n * Logs a warning if the condition is not met.\n * This is used to log issues in development environment only.\n */\n\nvar _warning = noop;\n\nif (process.env.NODE_ENV === 'development') {\n  warn = function warn(message) {\n    // eslint-disable-next-line no-console\n    console.warn(\"[InstantSearch.js]: \".concat(message.trim()));\n  };\n\n  deprecate = function deprecate(fn, message) {\n    var hasAlreadyPrinted = false;\n    return function () {\n      if (!hasAlreadyPrinted) {\n        hasAlreadyPrinted = true;\n        warn(message);\n      }\n\n      return fn.apply(void 0, arguments);\n    };\n  };\n\n  _warning = function warning(condition, message) {\n    if (condition) {\n      return;\n    }\n\n    var hasAlreadyPrinted = _warning.cache[message];\n\n    if (!hasAlreadyPrinted) {\n      _warning.cache[message] = true;\n      warn(message);\n    }\n  };\n\n  _warning.cache = {};\n}\n\nexport { warn, deprecate, _warning as warning };","import InstantSearch from './lib/InstantSearch';\nimport version from './lib/version';\nimport { snippet, reverseSnippet, highlight, reverseHighlight, insights, getInsightsAnonymousUserToken } from './helpers';\nimport { createInfiniteHitsSessionStorageCache } from './lib/infiniteHitsCache';\nimport { deprecate } from './lib/utils';\n\n/**\n * InstantSearch is the main component of InstantSearch.js. This object\n * manages the widget and lets you add new ones.\n *\n * Two parameters are required to get you started with InstantSearch.js:\n *  - `indexName`: the main index that you will use for your new search UI\n *  - `searchClient`: the search client to plug to InstantSearch.js\n *\n * The [search client provided by Algolia](algolia.com/doc/api-client/getting-started/what-is-the-api-client/javascript/)\n * needs an `appId` and an `apiKey`. Those parameters can be found in your\n * [Algolia dashboard](https://www.algolia.com/api-keys).\n *\n * If you want to get up and running quickly with InstantSearch.js, have a\n * look at the [getting started](https://www.algolia.com/doc/guides/building-search-ui/getting-started/js/).\n */\nvar instantsearch = function instantsearch(options) {\n  return new InstantSearch(options);\n};\n\ninstantsearch.version = version;\ninstantsearch.createInfiniteHitsSessionStorageCache = deprecate(createInfiniteHitsSessionStorageCache, \"import { createInfiniteHitsSessionStorageCache } from 'instantsearch.js/es/helpers'\");\ninstantsearch.highlight = deprecate(highlight, \"import { highlight } from 'instantsearch.js/es/helpers'\");\ninstantsearch.reverseHighlight = deprecate(reverseHighlight, \"import { reverseHighlight } from 'instantsearch.js/es/helpers'\");\ninstantsearch.snippet = deprecate(snippet, \"import { snippet } from 'instantsearch.js/es/helpers'\");\ninstantsearch.reverseSnippet = deprecate(reverseSnippet, \"import { reverseSnippet } from 'instantsearch.js/es/helpers'\");\ninstantsearch.insights = insights;\ninstantsearch.getInsightsAnonymousUserToken = getInsightsAnonymousUserToken;\nObject.defineProperty(instantsearch, 'widgets', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.widgets\\\" are not available from the ES build.\\n\\nTo import the widgets:\\n\\nimport { searchBox } from 'instantsearch.js/es/widgets'\");\n  }\n});\nObject.defineProperty(instantsearch, 'connectors', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.connectors\\\" are not available from the ES build.\\n\\nTo import the connectors:\\n\\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'\");\n  }\n});\nexport default instantsearch;\nexport * from './types';\n","import { warning } from '../lib/utils';\nexport var ANONYMOUS_TOKEN_COOKIE_KEY = '_ALGOLIA';\n\nfunction getCookie(name) {\n  var prefix = \"\".concat(name, \"=\");\n  var cookies = document.cookie.split(';');\n\n  for (var i = 0; i < cookies.length; i++) {\n    var cookie = cookies[i];\n\n    while (cookie.charAt(0) === ' ') {\n      cookie = cookie.substring(1);\n    }\n\n    if (cookie.indexOf(prefix) === 0) {\n      return cookie.substring(prefix.length, cookie.length);\n    }\n  }\n\n  return undefined;\n}\n\nexport function getInsightsAnonymousUserTokenInternal() {\n  return getCookie(ANONYMOUS_TOKEN_COOKIE_KEY);\n}\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\n\nexport default function getInsightsAnonymousUserToken() {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return getInsightsAnonymousUserTokenInternal();\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { createDocumentationMessageGenerator, isPlainObject, mergeSearchParameters, noop } from '../../lib/utils';\n/**\n * Refine the given search parameters.\n */\n\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'configure',\n  connector: true\n});\n\nfunction getInitialSearchParameters(state, widgetParams) {\n  // We leverage the helper internals to remove the `widgetParams` from\n  // the state. The function `setQueryParameters` omits the values that\n  // are `undefined` on the next state.\n  return state.setQueryParameters(Object.keys(widgetParams.searchParameters).reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n  }, {}));\n}\n\nvar connectConfigure = function connectConfigure() {\n  var renderFn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return function (widgetParams) {\n    if (!widgetParams || !isPlainObject(widgetParams.searchParameters)) {\n      throw new Error(withUsage('The `searchParameters` option expects an object.'));\n    }\n\n    var connectorState = {};\n\n    function refine(helper) {\n      return function (searchParameters) {\n        // Merge new `searchParameters` with the ones set from other widgets\n        var actualState = getInitialSearchParameters(helper.state, widgetParams);\n        var nextSearchParameters = mergeSearchParameters(actualState, new algoliasearchHelper.SearchParameters(searchParameters)); // Update original `widgetParams.searchParameters` to the new refined one\n\n        widgetParams.searchParameters = searchParameters; // Trigger a search with the resolved search parameters\n\n        helper.setState(nextSearchParameters).search();\n      };\n    }\n\n    return {\n      $$type: 'ais.configure',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return getInitialSearchParameters(state, widgetParams);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        var _renderState$configur;\n\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          configure: _objectSpread(_objectSpread({}, widgetRenderState), {}, {\n            widgetParams: _objectSpread(_objectSpread({}, widgetRenderState.widgetParams), {}, {\n              searchParameters: mergeSearchParameters(new algoliasearchHelper.SearchParameters((_renderState$configur = renderState.configure) === null || _renderState$configur === void 0 ? void 0 : _renderState$configur.widgetParams.searchParameters), new algoliasearchHelper.SearchParameters(widgetRenderState.widgetParams.searchParameters)).getQueryParams()\n            })\n          })\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper;\n\n        if (!connectorState.refine) {\n          connectorState.refine = refine(helper);\n        }\n\n        return {\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state, _ref3) {\n        var uiState = _ref3.uiState;\n        return mergeSearchParameters(state, new algoliasearchHelper.SearchParameters(_objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState) {\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          configure: _objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)\n        });\n      }\n    };\n  };\n};\n\nexport default connectConfigure;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport connectConfigure from '../../connectors/configure/connectConfigure';\nimport { noop } from '../../lib/utils';\n/**\n * A list of [search parameters](https://www.algolia.com/doc/api-reference/search-api-parameters/)\n * to enable when the widget mounts.\n */\n\nvar configure = function configure(widgetParams) {\n  // This is a renderless widget that falls back to the connector's\n  // noop render and unmount functions.\n  var makeWidget = connectConfigure(noop);\n  return _objectSpread(_objectSpread({}, makeWidget({\n    searchParameters: widgetParams\n  })), {}, {\n    $$widgetType: 'ais.configure'\n  });\n};\n\nexport default configure;","var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&null!=_.__k&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?x(t,l,u):P(u,t,t,n.__k,t.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&(s===l||(d?s.localName==d:3==s.nodeType))){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&\"foreignObject\"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","function isDomElement(object) {\n  return object instanceof HTMLElement || Boolean(object) && object.nodeType > 0;\n}\n\nexport default isDomElement;","import isDomElement from './isDomElement';\n/**\n * Return the container. If it's a string, it is considered a\n * css selector and retrieves the first matching element. Otherwise\n * test if it validates that it's a correct DOMElement.\n *\n * @param {string|HTMLElement} selectorOrHTMLElement CSS Selector or container node.\n * @return {HTMLElement} Container node\n * @throws Error when the type is not correct\n */\n\nfunction getContainerNode(selectorOrHTMLElement) {\n  var isSelectorString = typeof selectorOrHTMLElement === 'string';\n  var domElement = isSelectorString ? document.querySelector(selectorOrHTMLElement) : selectorOrHTMLElement;\n\n  if (!isDomElement(domElement)) {\n    var errorMessage = 'Container must be `string` or `HTMLElement`.';\n\n    if (isSelectorString) {\n      errorMessage += \" Unable to find \".concat(selectorOrHTMLElement);\n    }\n\n    throw new Error(errorMessage);\n  }\n\n  return domElement;\n}\n\nexport default getContainerNode;","import getObjectType from './getObjectType';\n\nfunction checkRendering(rendering, usage) {\n  if (rendering === undefined || typeof rendering !== 'function') {\n    throw new Error(\"The render function is not valid (received type \".concat(getObjectType(rendering), \").\\n\\n\").concat(usage));\n  }\n}\n\nexport default checkRendering;","function getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}\n\nexport default getObjectType;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'search-box',\n  connector: true\n});\n\n/**\n * **SearchBox** connector provides the logic to build a widget that will let the user search for a query.\n *\n * The connector provides to the rendering: `refine()` to set the query. The behaviour of this function\n * may be impacted by the `queryHook` widget parameter.\n */\nvar connectSearchBox = function connectSearchBox(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        queryHook = _ref.queryHook;\n\n    function clear(helper) {\n      return function () {\n        helper.setQuery('').search();\n      };\n    }\n\n    var _refine;\n\n    var _clear = function _clear() {};\n\n    function _cachedClear() {\n      _clear();\n    }\n\n    return {\n      $$type: 'ais.searchBox',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.setQueryParameter('query', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          searchBox: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var helper = _ref3.helper,\n            searchMetadata = _ref3.searchMetadata;\n\n        if (!_refine) {\n          var setQueryAndSearch = function setQueryAndSearch(query) {\n            if (query !== helper.state.query) {\n              helper.setQuery(query).search();\n            }\n          };\n\n          _refine = function _refine(query) {\n            if (queryHook) {\n              queryHook(query, setQueryAndSearch);\n              return;\n            }\n\n            setQueryAndSearch(query);\n          };\n        }\n\n        _clear = clear(helper);\n        return {\n          query: helper.state.query || '',\n          refine: _refine,\n          clear: _cachedClear,\n          widgetParams: widgetParams,\n          isSearchStalled: searchMetadata.isSearchStalled\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var query = searchParameters.query || '';\n\n        if (query === '' || uiState && uiState.query === query) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        return searchParameters.setQueryParameter('query', uiState.query || '');\n      }\n    };\n  };\n};\n\nexport default connectSearchBox;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport hogan from 'hogan.js';\n\n// We add all our template helper methods to the template as lambdas. Note\n// that lambdas in Mustache are supposed to accept a second argument of\n// `render` to get the rendered value, not the literal `{{value}}`. But\n// this is currently broken (see https://github.com/twitter/hogan.js/issues/222).\nfunction transformHelpersToHogan() {\n  var helpers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var compileOptions = arguments.length > 1 ? arguments[1] : undefined;\n  var data = arguments.length > 2 ? arguments[2] : undefined;\n  return Object.keys(helpers).reduce(function (acc, helperKey) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, helperKey, function () {\n      var _this = this;\n\n      return function (text) {\n        var render = function render(value) {\n          return hogan.compile(value, compileOptions).render(_this);\n        };\n\n        return helpers[helperKey].call(data, text, render);\n      };\n    }));\n  }, {});\n}\n\nfunction renderTemplate(_ref) {\n  var templates = _ref.templates,\n      templateKey = _ref.templateKey,\n      compileOptions = _ref.compileOptions,\n      helpers = _ref.helpers,\n      data = _ref.data,\n      bindEvent = _ref.bindEvent;\n  var template = templates[templateKey];\n\n  if (typeof template !== 'string' && typeof template !== 'function') {\n    throw new Error(\"Template must be 'string' or 'function', was '\".concat(_typeof(template), \"' (key: \").concat(templateKey, \")\"));\n  }\n\n  if (typeof template === 'function') {\n    return template(data, bindEvent);\n  }\n\n  var transformedHelpers = transformHelpersToHogan(helpers, compileOptions, data);\n  return hogan.compile(template, compileOptions).render(_objectSpread(_objectSpread({}, data), {}, {\n    helpers: transformedHelpers\n  })).replace(/[ \\n\\r\\t\\f\\xA0]+/g, function (spaces) {\n    return spaces.replace(/(^|\\xA0+)[^\\xA0]+/g, '$1 ');\n  }).trim();\n}\n\nexport default renderTemplate;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, Component } from 'preact';\nimport { renderTemplate, isEqual } from '../../lib/utils';\nvar defaultProps = {\n  data: {},\n  rootTagName: 'div',\n  useCustomCompileOptions: {},\n  templates: {},\n  templatesConfig: {}\n};\n\n// @TODO: Template should be a generic and receive TData to pass to Templates (to avoid TTemplateData to be set as `any`)\nvar Template = /*#__PURE__*/function (_Component) {\n  _inherits(Template, _Component);\n\n  var _super = _createSuper(Template);\n\n  function Template() {\n    _classCallCheck(this, Template);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Template, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return !isEqual(this.props.data, nextProps.data) || this.props.templateKey !== nextProps.templateKey || !isEqual(this.props.rootProps, nextProps.rootProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var RootTagName = this.props.rootTagName;\n      var useCustomCompileOptions = this.props.useCustomCompileOptions[this.props.templateKey];\n      var compileOptions = useCustomCompileOptions ? this.props.templatesConfig.compileOptions : {};\n      var content = renderTemplate({\n        templates: this.props.templates,\n        templateKey: this.props.templateKey,\n        compileOptions: compileOptions,\n        helpers: this.props.templatesConfig.helpers,\n        data: this.props.data,\n        bindEvent: this.props.bindEvent\n      });\n\n      if (content === null) {\n        // Adds a noscript to the DOM but virtual DOM is null\n        // See http://facebook.github.io/react/docs/component-specs.html#render\n        return null;\n      }\n\n      return h(RootTagName, _extends({}, this.props.rootProps, {\n        dangerouslySetInnerHTML: {\n          __html: content\n        }\n      }));\n    }\n  }]);\n\n  return Template;\n}(Component);\n\n_defineProperty(Template, \"defaultProps\", defaultProps);\n\nexport default Template;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, createRef, Component } from 'preact';\nimport { noop } from '../../lib/utils';\nimport Template from '../Template/Template';\nvar defaultProps = {\n  query: '',\n  showSubmit: true,\n  showReset: true,\n  showLoadingIndicator: true,\n  autofocus: false,\n  searchAsYouType: true,\n  isSearchStalled: false,\n  disabled: false,\n  onChange: noop,\n  onSubmit: noop,\n  onReset: noop,\n  refine: noop\n};\n\nvar SearchBox = /*#__PURE__*/function (_Component) {\n  _inherits(SearchBox, _Component);\n\n  var _super = _createSuper(SearchBox);\n\n  function SearchBox() {\n    var _this;\n\n    _classCallCheck(this, SearchBox);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      query: _this.props.query,\n      focused: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"input\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onInput\", function (event) {\n      var _this$props = _this.props,\n          searchAsYouType = _this$props.searchAsYouType,\n          refine = _this$props.refine,\n          onChange = _this$props.onChange;\n      var query = event.target.value;\n\n      if (searchAsYouType) {\n        refine(query);\n      }\n\n      _this.setState({\n        query: query\n      });\n\n      onChange(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function (event) {\n      var _this$props2 = _this.props,\n          searchAsYouType = _this$props2.searchAsYouType,\n          refine = _this$props2.refine,\n          onSubmit = _this$props2.onSubmit;\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (_this.input.current) {\n        _this.input.current.blur();\n      }\n\n      if (!searchAsYouType) {\n        refine(_this.state.query);\n      }\n\n      onSubmit(event);\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onReset\", function (event) {\n      var _this$props3 = _this.props,\n          refine = _this$props3.refine,\n          onReset = _this$props3.onReset;\n      var query = '';\n\n      if (_this.input.current) {\n        _this.input.current.focus();\n      }\n\n      refine(query);\n\n      _this.setState({\n        query: query\n      });\n\n      onReset(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function () {\n      _this.setState({\n        focused: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function () {\n      _this.setState({\n        focused: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(SearchBox, [{\n    key: \"resetInput\",\n    value:\n    /**\n     * This public method is used in the RefinementList SFFV search box\n     * to reset the input state when an item is selected.\n     *\n     * @see RefinementList#componentWillReceiveProps\n     * @return {undefined}\n     */\n    function resetInput() {\n      this.setState({\n        query: ''\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      /**\n       * when the user is typing, we don't want to replace the query typed\n       * by the user (state.query) with the query exposed by the connector (props.query)\n       * see: https://github.com/algolia/instantsearch.js/issues/4141\n       */\n      if (!this.state.focused && nextProps.query !== this.state.query) {\n        this.setState({\n          query: nextProps.query\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          cssClasses = _this$props4.cssClasses,\n          placeholder = _this$props4.placeholder,\n          autofocus = _this$props4.autofocus,\n          showSubmit = _this$props4.showSubmit,\n          showReset = _this$props4.showReset,\n          showLoadingIndicator = _this$props4.showLoadingIndicator,\n          templates = _this$props4.templates,\n          isSearchStalled = _this$props4.isSearchStalled;\n      return h(\"div\", {\n        className: cssClasses.root\n      }, h(\"form\", {\n        action: \"\",\n        role: \"search\",\n        className: cssClasses.form,\n        noValidate: true,\n        onSubmit: this.onSubmit // @ts-expect-error `onReset` attibute is missing in preact 10.0.0 JSX types\n        ,\n        onReset: this.onReset\n      }, h(\"input\", {\n        ref: this.input,\n        value: this.state.query,\n        disabled: this.props.disabled,\n        className: cssClasses.input,\n        type: \"search\",\n        placeholder: placeholder,\n        autoFocus: autofocus,\n        autoComplete: \"off\",\n        autoCorrect: \"off\" // @ts-expect-error `autoCapitalize` attibute is missing in preact 10.0.0 JSX types\n        ,\n        autoCapitalize: \"off\",\n        spellCheck: \"false\",\n        maxLength: 512,\n        onInput: this.onInput,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus\n      }), h(Template, {\n        templateKey: \"submit\",\n        rootTagName: \"button\",\n        rootProps: {\n          className: cssClasses.submit,\n          type: 'submit',\n          title: 'Submit the search query.',\n          hidden: !showSubmit\n        },\n        templates: templates,\n        data: {\n          cssClasses: cssClasses\n        }\n      }), h(Template, {\n        templateKey: \"reset\",\n        rootTagName: \"button\",\n        rootProps: {\n          className: cssClasses.reset,\n          type: 'reset',\n          title: 'Clear the search query.',\n          hidden: !(showReset && this.state.query.trim() && !isSearchStalled)\n        },\n        templates: templates,\n        data: {\n          cssClasses: cssClasses\n        }\n      }), showLoadingIndicator && h(Template, {\n        templateKey: \"loadingIndicator\",\n        rootTagName: \"span\",\n        rootProps: {\n          className: cssClasses.loadingIndicator,\n          hidden: !isSearchStalled\n        },\n        templates: templates,\n        data: {\n          cssClasses: cssClasses\n        }\n      })));\n    }\n  }]);\n\n  return SearchBox;\n}(Component);\n\n_defineProperty(SearchBox, \"defaultProps\", defaultProps);\n\nexport default SearchBox;","var defaultTemplate = {\n  reset: \"\\n<svg class=\\\"{{cssClasses.resetIcon}}\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 20 20\\\" width=\\\"10\\\" height=\\\"10\\\">\\n  <path d=\\\"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\\\"></path>\\n</svg>\\n  \",\n  submit: \"\\n<svg class=\\\"{{cssClasses.submitIcon}}\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"10\\\" height=\\\"10\\\" viewBox=\\\"0 0 40 40\\\">\\n  <path d=\\\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\\\"></path>\\n</svg>\\n  \",\n  loadingIndicator: \"\\n<svg class=\\\"{{cssClasses.loadingIcon}}\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 38 38\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" stroke=\\\"#444\\\">\\n  <g fill=\\\"none\\\" fillRule=\\\"evenodd\\\">\\n    <g transform=\\\"translate(1 1)\\\" strokeWidth=\\\"2\\\">\\n      <circle strokeOpacity=\\\".5\\\" cx=\\\"18\\\" cy=\\\"18\\\" r=\\\"18\\\" />\\n      <path d=\\\"M36 18c0-9.94-8.06-18-18-18\\\">\\n        <animateTransform\\n          attributeName=\\\"transform\\\"\\n          type=\\\"rotate\\\"\\n          from=\\\"0 18 18\\\"\\n          to=\\\"360 18 18\\\"\\n          dur=\\\"1s\\\"\\n          repeatCount=\\\"indefinite\\\"\\n        />\\n      </path>\\n    </g>\\n  </g>\\n</svg>\\n  \"\n};\nexport default defaultTemplate;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, render } from 'preact';\nimport cx from 'classnames';\nimport { getContainerNode, createDocumentationMessageGenerator } from '../../lib/utils';\nimport { component } from '../../lib/suit';\nimport connectSearchBox from '../../connectors/search-box/connectSearchBox';\nimport SearchBox from '../../components/SearchBox/SearchBox';\nimport defaultTemplates from './defaultTemplates';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'search-box'\n});\nvar suit = component('SearchBox');\n\nvar renderer = function renderer(_ref) {\n  var containerNode = _ref.containerNode,\n      cssClasses = _ref.cssClasses,\n      placeholder = _ref.placeholder,\n      templates = _ref.templates,\n      autofocus = _ref.autofocus,\n      searchAsYouType = _ref.searchAsYouType,\n      showReset = _ref.showReset,\n      showSubmit = _ref.showSubmit,\n      showLoadingIndicator = _ref.showLoadingIndicator;\n  return function (_ref2) {\n    var refine = _ref2.refine,\n        query = _ref2.query,\n        isSearchStalled = _ref2.isSearchStalled;\n    render(h(SearchBox, {\n      query: query,\n      placeholder: placeholder,\n      autofocus: autofocus,\n      refine: refine,\n      searchAsYouType: searchAsYouType,\n      templates: templates,\n      showSubmit: showSubmit,\n      showReset: showReset,\n      showLoadingIndicator: showLoadingIndicator,\n      isSearchStalled: isSearchStalled,\n      cssClasses: cssClasses\n    }), containerNode);\n  };\n};\n/**\n * The searchbox widget is used to let the user set a text based query.\n *\n * This is usually the  main entry point to start the search in an instantsearch context. For that\n * reason is usually placed on top, and not hidden so that the user can start searching right\n * away.\n *\n */\n\n\nvar searchBox = function searchBox(widgetParams) {\n  var _ref3 = widgetParams || {},\n      container = _ref3.container,\n      _ref3$placeholder = _ref3.placeholder,\n      placeholder = _ref3$placeholder === void 0 ? '' : _ref3$placeholder,\n      _ref3$cssClasses = _ref3.cssClasses,\n      userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses,\n      _ref3$autofocus = _ref3.autofocus,\n      autofocus = _ref3$autofocus === void 0 ? false : _ref3$autofocus,\n      _ref3$searchAsYouType = _ref3.searchAsYouType,\n      searchAsYouType = _ref3$searchAsYouType === void 0 ? true : _ref3$searchAsYouType,\n      _ref3$showReset = _ref3.showReset,\n      showReset = _ref3$showReset === void 0 ? true : _ref3$showReset,\n      _ref3$showSubmit = _ref3.showSubmit,\n      showSubmit = _ref3$showSubmit === void 0 ? true : _ref3$showSubmit,\n      _ref3$showLoadingIndi = _ref3.showLoadingIndicator,\n      showLoadingIndicator = _ref3$showLoadingIndi === void 0 ? true : _ref3$showLoadingIndi,\n      queryHook = _ref3.queryHook,\n      _ref3$templates = _ref3.templates,\n      userTemplates = _ref3$templates === void 0 ? {} : _ref3$templates;\n\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n\n  var containerNode = getContainerNode(container);\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    form: cx(suit({\n      descendantName: 'form'\n    }), userCssClasses.form),\n    input: cx(suit({\n      descendantName: 'input'\n    }), userCssClasses.input),\n    submit: cx(suit({\n      descendantName: 'submit'\n    }), userCssClasses.submit),\n    submitIcon: cx(suit({\n      descendantName: 'submitIcon'\n    }), userCssClasses.submitIcon),\n    reset: cx(suit({\n      descendantName: 'reset'\n    }), userCssClasses.reset),\n    resetIcon: cx(suit({\n      descendantName: 'resetIcon'\n    }), userCssClasses.resetIcon),\n    loadingIndicator: cx(suit({\n      descendantName: 'loadingIndicator'\n    }), userCssClasses.loadingIndicator),\n    loadingIcon: cx(suit({\n      descendantName: 'loadingIcon'\n    }), userCssClasses.loadingIcon)\n  };\n\n  var templates = _objectSpread(_objectSpread({}, defaultTemplates), userTemplates);\n\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    placeholder: placeholder,\n    templates: templates,\n    autofocus: autofocus,\n    searchAsYouType: searchAsYouType,\n    showReset: showReset,\n    showSubmit: showSubmit,\n    showLoadingIndicator: showLoadingIndicator\n  });\n  var makeWidget = connectSearchBox(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({\n    queryHook: queryHook\n  })), {}, {\n    $$widgetType: 'ais.searchBox'\n  });\n};\n\nexport default searchBox;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { serializePayload } from '../../lib/utils/serializer';\n\nvar buildPayload = function buildPayload(_ref) {\n  var index = _ref.index,\n      widgetType = _ref.widgetType,\n      methodName = _ref.methodName,\n      args = _ref.args;\n\n  if (args.length === 1 && _typeof(args[0]) === 'object') {\n    return args[0];\n  }\n\n  var eventType = args[0];\n  var hits = args[1];\n  var eventName = args[2];\n\n  if (!hits) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass hit or hits as the second argument like:\\n  \".concat(methodName, \"(eventType, hit);\\n  \"));\n    } else {\n      return null;\n    }\n  }\n\n  if ((eventType === 'click' || eventType === 'conversion') && !eventName) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass eventName as the third argument for 'click' or 'conversion' events like:\\n  \".concat(methodName, \"('click', hit, 'Product Purchased');\\n\\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\\n  \"));\n    } else {\n      return null;\n    }\n  }\n\n  var hitsArray = Array.isArray(hits) ? removeEscapedFromHits(hits) : [hits];\n\n  if (hitsArray.length === 0) {\n    return null;\n  }\n\n  var queryID = hitsArray[0].__queryID;\n  var objectIDs = hitsArray.map(function (hit) {\n    return hit.objectID;\n  });\n  var positions = hitsArray.map(function (hit) {\n    return hit.__position;\n  });\n\n  if (eventType === 'view') {\n    return {\n      insightsMethod: 'viewedObjectIDs',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName || 'Hits Viewed',\n        index: index,\n        objectIDs: objectIDs\n      },\n      hits: hitsArray\n    };\n  } else if (eventType === 'click') {\n    return {\n      insightsMethod: 'clickedObjectIDsAfterSearch',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName,\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs,\n        positions: positions\n      },\n      hits: hitsArray\n    };\n  } else if (eventType === 'conversion') {\n    return {\n      insightsMethod: 'convertedObjectIDsAfterSearch',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName,\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs\n      },\n      hits: hitsArray\n    };\n  } else if (process.env.NODE_ENV === 'development') {\n    throw new Error(\"eventType(\\\"\".concat(eventType, \"\\\") is not supported.\\n    If you want to send a custom payload, you can pass one object: \").concat(methodName, \"(customPayload);\\n    \"));\n  } else {\n    return null;\n  }\n};\n\nfunction removeEscapedFromHits(hits) {\n  // this returns without `hits.__escaped`\n  // and this way it doesn't mutate the original `hits`\n  return hits.map(function (hit) {\n    return hit;\n  });\n}\n\nexport function createSendEventForHits(_ref2) {\n  var instantSearchInstance = _ref2.instantSearchInstance,\n      index = _ref2.index,\n      widgetType = _ref2.widgetType;\n\n  var sendEventForHits = function sendEventForHits() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var payload = buildPayload({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'sendEvent',\n      args: args\n    });\n\n    if (payload) {\n      instantSearchInstance.sendEventToInsights(payload);\n    }\n  };\n\n  return sendEventForHits;\n}\nexport function createBindEventForHits(_ref3) {\n  var index = _ref3.index,\n      widgetType = _ref3.widgetType;\n\n  var bindEventForHits = function bindEventForHits() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var payload = buildPayload({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'bindEvent',\n      args: args\n    });\n    return payload ? \"data-insights-event=\".concat(serializePayload(payload)) : '';\n  };\n\n  return bindEventForHits;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function addAbsolutePosition(hits, page, hitsPerPage) {\n  return hits.map(function (hit, idx) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __position: hitsPerPage * page + idx + 1\n    });\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n\n  return hits.map(function (hit) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __queryID: queryID\n    });\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { escapeHits, TAG_PLACEHOLDER, checkRendering, createDocumentationMessageGenerator, addAbsolutePosition, addQueryID, createSendEventForHits, createBindEventForHits, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits',\n  connector: true\n});\n\nvar connectHits = function connectHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        _ref$escapeHTML = _ref.escapeHTML,\n        escapeHTML = _ref$escapeHTML === void 0 ? true : _ref$escapeHTML,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    var sendEvent;\n    var bindEvent;\n    return {\n      $$type: 'ais.hits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var renderState = this.getWidgetRenderState(renderOptions);\n        renderState.sendEvent('view', renderState.hits);\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n            helper = _ref2.helper,\n            instantSearchInstance = _ref2.instantSearchInstance;\n\n        if (!sendEvent) {\n          sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n\n        if (!bindEvent) {\n          bindEvent = createBindEventForHits({\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n\n        if (!results) {\n          return {\n            hits: [],\n            results: undefined,\n            sendEvent: sendEvent,\n            bindEvent: bindEvent,\n            widgetParams: widgetParams\n          };\n        }\n\n        if (escapeHTML && results.hits.length > 0) {\n          results.hits = escapeHits(results.hits);\n        }\n\n        var initialEscaped = results.hits.__escaped;\n        results.hits = addAbsolutePosition(results.hits, results.page, results.hitsPerPage);\n        results.hits = addQueryID(results.hits, results.queryID);\n        results.hits = transformItems(results.hits); // Make sure the escaped tag stays, even after mapping over the hits.\n        // This prevents the hits from being double-escaped if there are multiple\n        // hits widgets mounted on the page.\n\n        results.hits.__escaped = initialEscaped;\n        return {\n          hits: results.hits,\n          results: results,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n\n        if (!escapeHTML) {\n          return state;\n        }\n\n        return state.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state) {\n        if (!escapeHTML) {\n          return state;\n        }\n\n        return state.setQueryParameters(TAG_PLACEHOLDER);\n      }\n    };\n  };\n};\n\nexport default connectHits;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/** @jsx h */\nimport { h } from 'preact';\nimport cx from 'classnames';\nimport Template from '../Template/Template';\n\nvar Hits = function Hits(_ref) {\n  var results = _ref.results,\n      hits = _ref.hits,\n      bindEvent = _ref.bindEvent,\n      cssClasses = _ref.cssClasses,\n      templateProps = _ref.templateProps;\n\n  if (results.hits.length === 0) {\n    return h(Template, _extends({}, templateProps, {\n      templateKey: \"empty\",\n      rootProps: {\n        className: cx(cssClasses.root, cssClasses.emptyRoot)\n      },\n      data: results\n    }));\n  }\n\n  return h(\"div\", {\n    className: cssClasses.root\n  }, h(\"ol\", {\n    className: cssClasses.list\n  }, hits.map(function (hit, index) {\n    return h(Template, _extends({}, templateProps, {\n      templateKey: \"item\",\n      rootTagName: \"li\",\n      rootProps: {\n        className: cssClasses.item\n      },\n      key: hit.objectID,\n      data: _objectSpread(_objectSpread({}, hit), {}, {\n        __hitIndex: index\n      }),\n      bindEvent: bindEvent\n    }));\n  })));\n};\n\nHits.defaultProps = {\n  results: {\n    hits: []\n  },\n  hits: []\n};\nexport default Hits;","var defaultTemplates = {\n  empty: 'No results',\n  item: function item(data) {\n    return JSON.stringify(data, null, 2);\n  }\n};\nexport default defaultTemplates;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport uniq from './uniq';\n\nfunction prepareTemplates( // can not use = {} here, since the template could have different constraints\ndefaultTemplates) {\n  var templates = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var allKeys = uniq([].concat(_toConsumableArray(Object.keys(defaultTemplates || {})), _toConsumableArray(Object.keys(templates))));\n  return allKeys.reduce(function (config, key) {\n    var defaultTemplate = defaultTemplates ? defaultTemplates[key] : undefined;\n    var customTemplate = templates[key];\n    var isCustomTemplate = customTemplate !== undefined && customTemplate !== defaultTemplate;\n    config.templates[key] = isCustomTemplate ? customTemplate // typescript doesn't recognize that this condition asserts customTemplate is defined\n    : defaultTemplate;\n    config.useCustomCompileOptions[key] = isCustomTemplate;\n    return config;\n  }, {\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    templates: {},\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    useCustomCompileOptions: {}\n  });\n}\n/**\n * Prepares an object to be passed to the Template widget\n */\n\n\nfunction prepareTemplateProps(_ref) {\n  var defaultTemplates = _ref.defaultTemplates,\n      templates = _ref.templates,\n      templatesConfig = _ref.templatesConfig;\n  var preparedTemplates = prepareTemplates(defaultTemplates, templates);\n  return _objectSpread({\n    templatesConfig: templatesConfig\n  }, preparedTemplates);\n}\n\nexport default prepareTemplateProps;","/** @jsx h */\nimport { h } from 'preact';\nimport { deserializePayload } from '../utils';\nimport { readDataAttributes, hasDataAttributes } from '../../helpers/insights';\n\nvar findInsightsTarget = function findInsightsTarget(startElement, endElement, validator) {\n  var element = startElement;\n\n  while (element && !validator(element)) {\n    if (element === endElement) {\n      return null;\n    }\n\n    element = element.parentElement;\n  }\n\n  return element;\n};\n\nvar parseInsightsEvent = function parseInsightsEvent(element) {\n  var serializedPayload = element.getAttribute('data-insights-event');\n\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.');\n  }\n\n  try {\n    return deserializePayload(serializedPayload);\n  } catch (error) {\n    throw new Error('The insights middleware was unable to parse `data-insights-event`.');\n  }\n};\n\nvar insightsListener = function insightsListener(BaseComponent) {\n  function WithInsightsListener(props) {\n    var handleClick = function handleClick(event) {\n      if (props.sendEvent) {\n        // new way with insights middleware\n        var targetWithEvent = findInsightsTarget(event.target, event.currentTarget, function (element) {\n          return element.hasAttribute('data-insights-event');\n        });\n\n        if (targetWithEvent) {\n          var payload = parseInsightsEvent(targetWithEvent);\n          props.sendEvent(payload);\n        }\n      } // old way, e.g. instantsearch.insights(\"clickedObjectIDsAfterSearch\", { .. })\n\n\n      var insightsTarget = findInsightsTarget(event.target, event.currentTarget, function (element) {\n        return hasDataAttributes(element);\n      });\n\n      if (insightsTarget) {\n        var _readDataAttributes = readDataAttributes(insightsTarget),\n            method = _readDataAttributes.method,\n            _payload = _readDataAttributes.payload;\n\n        props.insights(method, _payload);\n      }\n    };\n\n    return h(\"div\", {\n      onClick: handleClick\n    }, h(BaseComponent, props));\n  }\n\n  return WithInsightsListener;\n};\n\nexport default insightsListener;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { uniq, find, createDocumentationMessageGenerator, warning } from '../utils';\n\nvar getSelectedHits = function getSelectedHits(hits, selectedObjectIDs) {\n  return selectedObjectIDs.map(function (objectID) {\n    var hit = find(hits, function (h) {\n      return h.objectID === objectID;\n    });\n\n    if (typeof hit === 'undefined') {\n      throw new Error(\"Could not find objectID \\\"\".concat(objectID, \"\\\" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.\"));\n    }\n\n    return hit;\n  });\n};\n\nvar getQueryID = function getQueryID(selectedHits) {\n  var queryIDs = uniq(selectedHits.map(function (hit) {\n    return hit.__queryID;\n  }));\n\n  if (queryIDs.length > 1) {\n    throw new Error('Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.');\n  }\n\n  var queryID = queryIDs[0];\n\n  if (typeof queryID !== 'string') {\n    throw new Error(\"Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\\n\\nSee: https://alg.li/lNiZZ7\");\n  }\n\n  return queryID;\n};\n\nvar getPositions = function getPositions(selectedHits) {\n  return selectedHits.map(function (hit) {\n    return hit.__position;\n  });\n};\n\nexport var inferPayload = function inferPayload(_ref) {\n  var method = _ref.method,\n      results = _ref.results,\n      hits = _ref.hits,\n      objectIDs = _ref.objectIDs;\n  var index = results.index;\n  var selectedHits = getSelectedHits(hits, objectIDs);\n  var queryID = getQueryID(selectedHits);\n\n  switch (method) {\n    case 'clickedObjectIDsAfterSearch':\n      {\n        var positions = getPositions(selectedHits);\n        return {\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDs,\n          positions: positions\n        };\n      }\n\n    case 'convertedObjectIDsAfterSearch':\n      return {\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs\n      };\n\n    default:\n      throw new Error(\"Unsupported method passed to insights: \\\"\".concat(method, \"\\\".\"));\n  }\n};\n\nvar wrapInsightsClient = function wrapInsightsClient(aa, results, hits) {\n  return function (method, payload) {\n    process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n\n    if (!aa) {\n      var withInstantSearchUsage = createDocumentationMessageGenerator({\n        name: 'instantsearch'\n      });\n      throw new Error(withInstantSearchUsage('The `insightsClient` option has not been provided to `instantsearch`.'));\n    }\n\n    if (!Array.isArray(payload.objectIDs)) {\n      throw new TypeError('Expected `objectIDs` to be an array.');\n    }\n\n    var inferredPayload = inferPayload({\n      method: method,\n      results: results,\n      hits: hits,\n      objectIDs: payload.objectIDs\n    });\n    aa(method, _objectSpread(_objectSpread({}, inferredPayload), payload));\n  };\n};\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n * It passes `insights` to `HitsWithInsightsListener` and `InfiniteHitsWithInsightsListener`.\n */\n\n\nexport default function withInsights(connector) {\n  return function (renderFn, unmountFn) {\n    return connector(function (renderOptions, isFirstRender) {\n      var results = renderOptions.results,\n          hits = renderOptions.hits,\n          instantSearchInstance = renderOptions.instantSearchInstance;\n\n      if (results && hits && instantSearchInstance) {\n        var insights = wrapInsightsClient(instantSearchInstance.insightsClient, results, hits);\n        return renderFn(_objectSpread(_objectSpread({}, renderOptions), {}, {\n          insights: insights\n        }), isFirstRender);\n      }\n\n      return renderFn(renderOptions, isFirstRender);\n    }, unmountFn);\n  };\n}","// We aren't using the native `Array.prototype.find` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `find` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.find` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\nfunction find(items, predicate) {\n  var value;\n\n  for (var i = 0; i < items.length; i++) {\n    value = items[i]; // inlined for performance: if (Call(predicate, thisArg, [value, i, list])) {\n\n    if (predicate(value, i, items)) {\n      return value;\n    }\n  }\n\n  return undefined;\n}\n\nexport default find;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, render } from 'preact';\nimport cx from 'classnames';\nimport connectHits from '../../connectors/hits/connectHits';\nimport Hits from '../../components/Hits/Hits';\nimport defaultTemplates from './defaultTemplates';\nimport { prepareTemplateProps, getContainerNode, createDocumentationMessageGenerator } from '../../lib/utils';\nimport { component } from '../../lib/suit';\nimport { withInsights, withInsightsListener } from '../../lib/insights';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits'\n});\nvar suit = component('Hits');\nvar HitsWithInsightsListener = withInsightsListener(Hits);\n\nvar renderer = function renderer(_ref) {\n  var renderState = _ref.renderState,\n      cssClasses = _ref.cssClasses,\n      containerNode = _ref.containerNode,\n      templates = _ref.templates;\n  return function (_ref2, isFirstRendering) {\n    var receivedHits = _ref2.hits,\n        results = _ref2.results,\n        instantSearchInstance = _ref2.instantSearchInstance,\n        insights = _ref2.insights,\n        bindEvent = _ref2.bindEvent;\n\n    if (isFirstRendering) {\n      renderState.templateProps = prepareTemplateProps({\n        defaultTemplates: defaultTemplates,\n        templatesConfig: instantSearchInstance.templatesConfig,\n        templates: templates\n      });\n      return;\n    }\n\n    render(h(HitsWithInsightsListener, {\n      cssClasses: cssClasses,\n      hits: receivedHits,\n      results: results,\n      templateProps: renderState.templateProps,\n      insights: insights,\n      sendEvent: function sendEvent(event) {\n        instantSearchInstance.sendEventToInsights(event);\n      },\n      bindEvent: bindEvent\n    }), containerNode);\n  };\n};\n\nvar hits = function hits(widgetParams) {\n  var _ref3 = widgetParams || {},\n      container = _ref3.container,\n      escapeHTML = _ref3.escapeHTML,\n      transformItems = _ref3.transformItems,\n      _ref3$templates = _ref3.templates,\n      templates = _ref3$templates === void 0 ? {} : _ref3$templates,\n      _ref3$cssClasses = _ref3.cssClasses,\n      userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses;\n\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n\n  var containerNode = getContainerNode(container);\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    emptyRoot: cx(suit({\n      modifierName: 'empty'\n    }), userCssClasses.emptyRoot),\n    list: cx(suit({\n      descendantName: 'list'\n    }), userCssClasses.list),\n    item: cx(suit({\n      descendantName: 'item'\n    }), userCssClasses.item)\n  };\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    renderState: {},\n    templates: templates\n  });\n  var makeWidget = withInsights(connectHits)(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({\n    escapeHTML: escapeHTML,\n    transformItems: transformItems\n  })), {}, {\n    $$widgetType: 'ais.hits'\n  });\n};\n\nexport default hits;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/** @jsx h */\nimport { h } from 'preact';\nimport cx from 'classnames';\nimport Template from '../Template/Template';\n\nvar Stats = function Stats(_ref) {\n  var nbHits = _ref.nbHits,\n      nbSortedHits = _ref.nbSortedHits,\n      cssClasses = _ref.cssClasses,\n      templateProps = _ref.templateProps,\n      rest = _objectWithoutProperties(_ref, [\"nbHits\", \"nbSortedHits\", \"cssClasses\", \"templateProps\"]);\n\n  return h(\"div\", {\n    className: cx(cssClasses.root)\n  }, h(Template, _extends({}, templateProps, {\n    templateKey: \"text\",\n    rootTagName: \"span\",\n    rootProps: {\n      className: cssClasses.text\n    },\n    data: _objectSpread({\n      hasManySortedResults: nbSortedHits && nbSortedHits > 1,\n      hasNoSortedResults: nbSortedHits === 0,\n      hasOneSortedResults: nbSortedHits === 1,\n      hasManyResults: nbHits > 1,\n      hasNoResults: nbHits === 0,\n      hasOneResult: nbHits === 1,\n      nbHits: nbHits,\n      nbSortedHits: nbSortedHits,\n      cssClasses: cssClasses\n    }, rest)\n  })));\n};\n\nexport default Stats;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'stats',\n  connector: true\n});\n/**\n * **Stats** connector provides the logic to build a custom widget that will displays\n * search statistics (hits number and processing time).\n */\n\nvar connectStats = function connectStats(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    return {\n      $$type: 'ais.stats',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          stats: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref) {\n        var results = _ref.results,\n            helper = _ref.helper;\n\n        if (!results) {\n          return {\n            hitsPerPage: helper.state.hitsPerPage,\n            nbHits: 0,\n            nbSortedHits: undefined,\n            areHitsSorted: false,\n            nbPages: 0,\n            page: helper.state.page || 0,\n            processingTimeMS: -1,\n            query: helper.state.query || '',\n            widgetParams: widgetParams\n          };\n        }\n\n        return {\n          hitsPerPage: results.hitsPerPage,\n          nbHits: results.nbHits,\n          nbSortedHits: results.nbSortedHits,\n          areHitsSorted: typeof results.appliedRelevancyStrictness !== 'undefined' && results.appliedRelevancyStrictness > 0 && results.nbSortedHits !== results.nbHits,\n          nbPages: results.nbPages,\n          page: results.page,\n          processingTimeMS: results.processingTimeMS,\n          query: results.query,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nexport default connectStats;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, render } from 'preact';\nimport cx from 'classnames';\nimport Stats from '../../components/Stats/Stats';\nimport connectStats from '../../connectors/stats/connectStats';\nimport { prepareTemplateProps, getContainerNode, createDocumentationMessageGenerator } from '../../lib/utils';\nimport { component } from '../../lib/suit';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'stats'\n});\nvar suit = component('Stats');\nexport var defaultTemplates = {\n  text: \"\\n    {{#areHitsSorted}}\\n      {{#hasNoSortedResults}}No relevant results{{/hasNoSortedResults}}\\n      {{#hasOneSortedResults}}1 relevant result{{/hasOneSortedResults}}\\n      {{#hasManySortedResults}}{{#helpers.formatNumber}}{{nbSortedHits}}{{/helpers.formatNumber}} relevant results{{/hasManySortedResults}}\\n      sorted out of {{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}}\\n    {{/areHitsSorted}}\\n    {{^areHitsSorted}}\\n      {{#hasNoResults}}No results{{/hasNoResults}}\\n      {{#hasOneResult}}1 result{{/hasOneResult}}\\n      {{#hasManyResults}}{{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}} results{{/hasManyResults}}\\n    {{/areHitsSorted}}\\n    found in {{processingTimeMS}}ms\"\n};\n\nvar renderer = function renderer(_ref) {\n  var renderState = _ref.renderState,\n      cssClasses = _ref.cssClasses,\n      containerNode = _ref.containerNode,\n      templates = _ref.templates;\n  return function (_ref2, isFirstRendering) {\n    var hitsPerPage = _ref2.hitsPerPage,\n        nbHits = _ref2.nbHits,\n        nbSortedHits = _ref2.nbSortedHits,\n        areHitsSorted = _ref2.areHitsSorted,\n        nbPages = _ref2.nbPages,\n        page = _ref2.page,\n        processingTimeMS = _ref2.processingTimeMS,\n        query = _ref2.query,\n        instantSearchInstance = _ref2.instantSearchInstance;\n\n    if (isFirstRendering) {\n      renderState.templateProps = prepareTemplateProps({\n        defaultTemplates: defaultTemplates,\n        templatesConfig: instantSearchInstance.templatesConfig,\n        templates: templates\n      });\n      return;\n    }\n\n    render(h(Stats, {\n      cssClasses: cssClasses,\n      hitsPerPage: hitsPerPage,\n      nbHits: nbHits,\n      nbSortedHits: nbSortedHits,\n      areHitsSorted: areHitsSorted,\n      nbPages: nbPages,\n      page: page,\n      processingTimeMS: processingTimeMS,\n      query: query,\n      templateProps: renderState.templateProps\n    }), containerNode);\n  };\n};\n/**\n * The `stats` widget is used to display useful insights about the current results.\n *\n * By default, it will display the **number of hits** and the time taken to compute the\n * results inside the engine.\n */\n\n\nvar stats = function stats(widgetParams) {\n  var _ref3 = widgetParams || {},\n      container = _ref3.container,\n      _ref3$cssClasses = _ref3.cssClasses,\n      userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses,\n      _ref3$templates = _ref3.templates,\n      templates = _ref3$templates === void 0 ? {} : _ref3$templates;\n\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n\n  var containerNode = getContainerNode(container);\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    text: cx(suit({\n      descendantName: 'text'\n    }), userCssClasses.text)\n  };\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    templates: templates,\n    renderState: {}\n  });\n  var makeWidget = connectStats(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({})), {}, {\n    $$widgetType: 'ais.stats'\n  });\n};\n\nexport default stats;","/** @jsx h */\nimport { h } from 'preact';\n\nvar PaginationLink = function PaginationLink(_ref) {\n  var cssClasses = _ref.cssClasses,\n      label = _ref.label,\n      ariaLabel = _ref.ariaLabel,\n      url = _ref.url,\n      isDisabled = _ref.isDisabled,\n      handleClick = _ref.handleClick,\n      pageNumber = _ref.pageNumber;\n\n  if (isDisabled) {\n    return h(\"li\", {\n      className: cssClasses.item\n    }, h(\"span\", {\n      className: cssClasses.link,\n      dangerouslySetInnerHTML: {\n        __html: label\n      }\n    }));\n  }\n\n  return h(\"li\", {\n    className: cssClasses.item\n  }, h(\"a\", {\n    className: cssClasses.link,\n    \"aria-label\": ariaLabel,\n    href: url,\n    onClick: function onClick(event) {\n      return handleClick(pageNumber, event);\n    },\n    dangerouslySetInnerHTML: {\n      __html: label\n    }\n  }));\n};\n\nexport default PaginationLink;","function isSpecialClick(event) {\n  var isMiddleClick = event.button === 1;\n  return isMiddleClick || event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n}\n\nexport default isSpecialClick;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { Component, h } from 'preact';\nimport cx from 'classnames';\nimport PaginationLink from './PaginationLink';\nimport { isSpecialClick } from '../../lib/utils';\nvar defaultProps = {\n  currentPage: 0,\n  nbPages: 0,\n  pages: []\n};\n\nvar Pagination = /*#__PURE__*/function (_Component) {\n  _inherits(Pagination, _Component);\n\n  var _super = _createSuper(Pagination);\n\n  function Pagination() {\n    var _this;\n\n    _classCallCheck(this, Pagination);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (pageNumber, event) {\n      if (isSpecialClick(event)) {\n        // do not alter the default browser behavior\n        // if one special key is down\n        return;\n      }\n\n      event.preventDefault();\n\n      _this.props.setCurrentPage(pageNumber);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"previousPageLink\", function () {\n      return _this.pageLink({\n        ariaLabel: 'Previous',\n        additionalClassName: _this.props.cssClasses.previousPageItem,\n        isDisabled: _this.props.isFirstPage,\n        label: _this.props.templates.previous,\n        pageNumber: _this.props.currentPage - 1,\n        createURL: _this.props.createURL\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"nextPageLink\", function () {\n      return _this.pageLink({\n        ariaLabel: 'Next',\n        additionalClassName: _this.props.cssClasses.nextPageItem,\n        isDisabled: _this.props.isLastPage,\n        label: _this.props.templates.next,\n        pageNumber: _this.props.currentPage + 1,\n        createURL: _this.props.createURL\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"firstPageLink\", function () {\n      return _this.pageLink({\n        ariaLabel: 'First',\n        additionalClassName: _this.props.cssClasses.firstPageItem,\n        isDisabled: _this.props.isFirstPage,\n        label: _this.props.templates.first,\n        pageNumber: 0,\n        createURL: _this.props.createURL\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"lastPageLink\", function () {\n      return _this.pageLink({\n        ariaLabel: 'Last',\n        additionalClassName: _this.props.cssClasses.lastPageItem,\n        isDisabled: _this.props.isLastPage,\n        label: _this.props.templates.last,\n        pageNumber: _this.props.nbPages - 1,\n        createURL: _this.props.createURL\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pages\", function () {\n      return _this.props.pages.map(function (pageNumber) {\n        return _this.pageLink({\n          ariaLabel: \"\".concat(pageNumber + 1),\n          additionalClassName: _this.props.cssClasses.pageItem,\n          isSelected: pageNumber === _this.props.currentPage,\n          label: \"\".concat(pageNumber + 1),\n          pageNumber: pageNumber,\n          createURL: _this.props.createURL\n        });\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Pagination, [{\n    key: \"pageLink\",\n    value: function pageLink(_ref) {\n      var label = _ref.label,\n          ariaLabel = _ref.ariaLabel,\n          pageNumber = _ref.pageNumber,\n          _ref$additionalClassN = _ref.additionalClassName,\n          additionalClassName = _ref$additionalClassN === void 0 ? null : _ref$additionalClassN,\n          _ref$isDisabled = _ref.isDisabled,\n          isDisabled = _ref$isDisabled === void 0 ? false : _ref$isDisabled,\n          _ref$isSelected = _ref.isSelected,\n          isSelected = _ref$isSelected === void 0 ? false : _ref$isSelected,\n          createURL = _ref.createURL;\n      var cssClasses = {\n        item: cx(this.props.cssClasses.item, additionalClassName),\n        link: this.props.cssClasses.link\n      };\n\n      if (isDisabled) {\n        cssClasses.item = cx(cssClasses.item, this.props.cssClasses.disabledItem);\n      } else if (isSelected) {\n        cssClasses.item = cx(cssClasses.item, this.props.cssClasses.selectedItem);\n      }\n\n      var url = !isDisabled ? createURL(pageNumber) : '#';\n      return h(PaginationLink, {\n        ariaLabel: ariaLabel,\n        cssClasses: cssClasses,\n        handleClick: this.handleClick,\n        isDisabled: isDisabled,\n        key: label + pageNumber + ariaLabel,\n        label: label,\n        pageNumber: pageNumber,\n        url: url\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return h(\"div\", {\n        className: cx(this.props.cssClasses.root, _defineProperty({}, this.props.cssClasses.noRefinementRoot, this.props.nbPages <= 1))\n      }, h(\"ul\", {\n        className: this.props.cssClasses.list\n      }, this.props.showFirst && this.firstPageLink(), this.props.showPrevious && this.previousPageLink(), this.pages(), this.props.showNext && this.nextPageLink(), this.props.showLast && this.lastPageLink()));\n    }\n  }]);\n\n  return Pagination;\n}(Component);\n\n_defineProperty(Pagination, \"defaultProps\", defaultProps);\n\nexport default Pagination;","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction range(_ref) {\n  var _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      end = _ref.end,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step;\n  // We can't divide by 0 so we re-assign the step to 1 if it happens.\n  var limitStep = step === 0 ? 1 : step; // In some cases the array to create has a decimal length.\n  // We therefore need to round the value.\n  // Example:\n  //   { start: 1, end: 5000, step: 500 }\n  //   => Array length = (5000 - 1) / 500 = 9.998\n\n  var arrayLength = Math.round((end - start) / limitStep);\n  return _toConsumableArray(Array(arrayLength)).map(function (_, current) {\n    return start + current * limitStep;\n  });\n}\n\nexport default range;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { range } from '../../lib/utils';\n\nvar Paginator = /*#__PURE__*/function () {\n  function Paginator(params) {\n    _classCallCheck(this, Paginator);\n\n    _defineProperty(this, \"currentPage\", void 0);\n\n    _defineProperty(this, \"total\", void 0);\n\n    _defineProperty(this, \"padding\", void 0);\n\n    this.currentPage = params.currentPage;\n    this.total = params.total;\n    this.padding = params.padding;\n  }\n\n  _createClass(Paginator, [{\n    key: \"pages\",\n    value: function pages() {\n      var total = this.total,\n          currentPage = this.currentPage,\n          padding = this.padding;\n      if (total === 0) return [0];\n      var totalDisplayedPages = this.nbPagesDisplayed(padding, total);\n\n      if (totalDisplayedPages === total) {\n        return range({\n          end: total\n        });\n      }\n\n      var paddingLeft = this.calculatePaddingLeft(currentPage, padding, total, totalDisplayedPages);\n      var paddingRight = totalDisplayedPages - paddingLeft;\n      var first = currentPage - paddingLeft;\n      var last = currentPage + paddingRight;\n      return range({\n        start: first,\n        end: last\n      });\n    }\n  }, {\n    key: \"nbPagesDisplayed\",\n    value: function nbPagesDisplayed(padding, total) {\n      return Math.min(2 * padding + 1, total);\n    }\n  }, {\n    key: \"calculatePaddingLeft\",\n    value: function calculatePaddingLeft(current, padding, total, totalDisplayedPages) {\n      if (current <= padding) {\n        return current;\n      }\n\n      if (current >= total - padding) {\n        return totalDisplayedPages - (total - current);\n      }\n\n      return padding;\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      return this.currentPage === this.total - 1 || this.total === 0;\n    }\n  }, {\n    key: \"isFirstPage\",\n    value: function isFirstPage() {\n      return this.currentPage === 0;\n    }\n  }]);\n\n  return Paginator;\n}();\n\nexport default Paginator;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nimport Paginator from './Paginator';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'pagination',\n  connector: true\n});\n\n/**\n * **Pagination** connector provides the logic to build a widget that will let the user\n * choose the current page of the results.\n *\n * When using the pagination with Algolia, you should be aware that the engine won't provide you pages\n * beyond the 1000th hits by default. You can find more information on the [Algolia documentation](https://www.algolia.com/doc/guides/searching/pagination/#pagination-limitations).\n */\nvar connectPagination = function connectPagination(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        totalPages = _ref.totalPages,\n        _ref$padding = _ref.padding,\n        padding = _ref$padding === void 0 ? 3 : _ref$padding;\n\n    var pager = new Paginator({\n      currentPage: 0,\n      total: 0,\n      padding: padding\n    });\n    var connectorState = {};\n\n    function getMaxPage(_ref2) {\n      var nbPages = _ref2.nbPages;\n      return totalPages !== undefined ? Math.min(totalPages, nbPages) : nbPages;\n    }\n\n    return {\n      $$type: 'ais.pagination',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        return state.setQueryParameter('page', undefined);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var page = searchParameters.page || 0;\n\n        if (!page) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return searchParameters.setQueryParameter('page', page);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref6) {\n        var results = _ref6.results,\n            helper = _ref6.helper,\n            createURL = _ref6.createURL;\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (page) {\n            helper.setPage(page);\n            helper.search();\n          };\n        }\n\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (state) {\n            return function (page) {\n              return createURL(state.setPage(page));\n            };\n          };\n        }\n\n        var state = helper.state;\n        var page = state.page || 0;\n        var nbPages = getMaxPage(results || {\n          nbPages: 0\n        });\n        pager.currentPage = page;\n        pager.total = nbPages;\n        return {\n          createURL: connectorState.createURL(state),\n          refine: connectorState.refine,\n          canRefine: nbPages > 1,\n          currentRefinement: page,\n          nbHits: (results === null || results === void 0 ? void 0 : results.nbHits) || 0,\n          nbPages: nbPages,\n          pages: results ? pager.pages() : [],\n          isFirstPage: pager.isFirstPage(),\n          isLastPage: pager.isLastPage(),\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          pagination: this.getWidgetRenderState(renderOptions)\n        });\n      }\n    };\n  };\n};\n\nexport default connectPagination;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, render } from 'preact';\nimport cx from 'classnames';\nimport Pagination from '../../components/Pagination/Pagination';\nimport connectPagination from '../../connectors/pagination/connectPagination';\nimport { getContainerNode, createDocumentationMessageGenerator } from '../../lib/utils';\nimport { component } from '../../lib/suit';\nvar suit = component('Pagination');\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'pagination'\n});\nvar defaultTemplates = {\n  previous: '',\n  next: '',\n  first: '',\n  last: ''\n};\n\nvar renderer = function renderer(_ref) {\n  var containerNode = _ref.containerNode,\n      cssClasses = _ref.cssClasses,\n      templates = _ref.templates,\n      showFirst = _ref.showFirst,\n      showLast = _ref.showLast,\n      showPrevious = _ref.showPrevious,\n      showNext = _ref.showNext,\n      scrollToNode = _ref.scrollToNode;\n  return function (_ref2, isFirstRendering) {\n    var createURL = _ref2.createURL,\n        currentRefinement = _ref2.currentRefinement,\n        nbPages = _ref2.nbPages,\n        pages = _ref2.pages,\n        isFirstPage = _ref2.isFirstPage,\n        isLastPage = _ref2.isLastPage,\n        refine = _ref2.refine;\n    if (isFirstRendering) return;\n\n    var setCurrentPage = function setCurrentPage(pageNumber) {\n      refine(pageNumber);\n\n      if (scrollToNode !== false) {\n        scrollToNode.scrollIntoView();\n      }\n    };\n\n    render(h(Pagination, {\n      createURL: createURL,\n      cssClasses: cssClasses,\n      currentPage: currentRefinement,\n      templates: templates,\n      nbPages: nbPages,\n      pages: pages,\n      isFirstPage: isFirstPage,\n      isLastPage: isLastPage,\n      setCurrentPage: setCurrentPage,\n      showFirst: showFirst,\n      showLast: showLast,\n      showPrevious: showPrevious,\n      showNext: showNext\n    }), containerNode);\n  };\n};\n\nvar pagination = function pagination(widgetParams) {\n  var _ref3 = widgetParams || {},\n      container = _ref3.container,\n      _ref3$templates = _ref3.templates,\n      userTemplates = _ref3$templates === void 0 ? {} : _ref3$templates,\n      _ref3$cssClasses = _ref3.cssClasses,\n      userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses,\n      totalPages = _ref3.totalPages,\n      padding = _ref3.padding,\n      _ref3$showFirst = _ref3.showFirst,\n      showFirst = _ref3$showFirst === void 0 ? true : _ref3$showFirst,\n      _ref3$showLast = _ref3.showLast,\n      showLast = _ref3$showLast === void 0 ? true : _ref3$showLast,\n      _ref3$showPrevious = _ref3.showPrevious,\n      showPrevious = _ref3$showPrevious === void 0 ? true : _ref3$showPrevious,\n      _ref3$showNext = _ref3.showNext,\n      showNext = _ref3$showNext === void 0 ? true : _ref3$showNext,\n      _ref3$scrollTo = _ref3.scrollTo,\n      userScrollTo = _ref3$scrollTo === void 0 ? 'body' : _ref3$scrollTo;\n\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n\n  var containerNode = getContainerNode(container);\n  var scrollTo = userScrollTo === true ? 'body' : userScrollTo;\n  var scrollToNode = scrollTo !== false ? getContainerNode(scrollTo) : false;\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    noRefinementRoot: cx(suit({\n      modifierName: 'noRefinement'\n    }), userCssClasses.noRefinementRoot),\n    list: cx(suit({\n      descendantName: 'list'\n    }), userCssClasses.list),\n    item: cx(suit({\n      descendantName: 'item'\n    }), userCssClasses.item),\n    firstPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'firstPage'\n    }), userCssClasses.firstPageItem),\n    lastPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'lastPage'\n    }), userCssClasses.lastPageItem),\n    previousPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'previousPage'\n    }), userCssClasses.previousPageItem),\n    nextPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'nextPage'\n    }), userCssClasses.nextPageItem),\n    pageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'page'\n    }), userCssClasses.pageItem),\n    selectedItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'selected'\n    }), userCssClasses.selectedItem),\n    disabledItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'disabled'\n    }), userCssClasses.disabledItem),\n    link: cx(suit({\n      descendantName: 'link'\n    }), userCssClasses.link)\n  };\n\n  var templates = _objectSpread(_objectSpread({}, defaultTemplates), userTemplates);\n\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    templates: templates,\n    showFirst: showFirst,\n    showLast: showLast,\n    showPrevious: showPrevious,\n    showNext: showNext,\n    scrollToNode: scrollToNode\n  });\n  var makeWidget = connectPagination(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({\n    totalPages: totalPages,\n    padding: padding\n  })), {}, {\n    $$widgetType: 'ais.pagination'\n  });\n};\n\nexport default pagination;","// stopBodyScroll \nlet bodyEl = document.body\nlet windowTop = 0\nconst bodyElPosition = bodyEl.style.position\n\nconst archerUtil = {\n  // \n  backTop: function (event) {\n    event.preventDefault()\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    })\n  },\n\n  // \n  getAbsPosition: function (e) {\n    let x = e.offsetLeft,\n      y = e.offsetTop\n    while ((e = e.offsetParent)) {\n      x += e.offsetLeft\n      y += e.offsetTop\n    }\n    return {\n      x: x,\n      y: y,\n    }\n  },\n\n  // \n  dateFormater: function (date, fmt) {\n    const o = {\n      'M+': date.getMonth() + 1, // \n      'd+': date.getDate(), // \n      'h+': date.getHours(), // \n      'm+': date.getMinutes(), // \n      's+': date.getSeconds(), // \n      'q+': Math.floor((date.getMonth() + 3) / 3), // \n      S: date.getMilliseconds(), // \n    }\n    if (/(y+)/.test(fmt)) {\n      fmt = fmt.replace(\n        RegExp.$1,\n        String(date.getFullYear()).substr(4 - RegExp.$1.length)\n      )\n    }\n    for (const k in o) {\n      if (new RegExp('(' + k + ')').test(fmt)) {\n        fmt = fmt.replace(\n          RegExp.$1,\n          RegExp.$1.length === 1\n            ? o[k]\n            : ('00' + o[k]).substr(String(o[k]).length)\n        )\n      }\n    }\n    return fmt\n  },\n\n  // rAF  ticking\n  rafTick: function (ticking, updateFunc) {\n    if (!ticking) {\n      requestAnimationFrame(updateFunc)\n    }\n    ticking = true\n  },\n\n  //  body\n  // see: https://segmentfault.com/a/1190000012313337\n  stopBodyScroll: function (isFixed) {\n    if (isFixed) {\n      windowTop = window.scrollY\n\n      bodyEl.style.position = 'fixed'\n      bodyEl.style.top = -windowTop + 'px'\n    } else {\n      bodyEl.style.position = bodyElPosition\n      bodyEl.style.top = ''\n\n      window.scrollTo(0, windowTop)\n    }\n  },\n\n  // \n  throttle: function (func, wait, immediate = false) {\n    let timer\n    return function () {\n      const args = arguments\n      if (!timer) {\n        if (immediate) {\n          timer = setTimeout(() => {\n            timer = undefined\n          }, wait)\n          func.apply(this, args)\n        } else {\n          timer = setTimeout(() => {\n            timer = undefined\n            func.apply(this, args)\n          }, wait)\n        }\n      }\n    }\n  },\n\n  // \n  debounce: function (func, wait, immediate = false) {\n    let timer\n    return function () {\n      const args = arguments\n\n      timer && clearTimeout(timer)\n\n      if (immediate) {\n        !timer && func.apply(this, args)\n        timer = setTimeout(() => {\n          timer = undefined\n        }, wait)\n      } else {\n        timer = setTimeout(() => {\n          func.apply(this, args)\n        }, wait)\n      }\n    }\n  },\n}\n\nexport default archerUtil\n","// special thanks to https://blog.naaln.com/2016/07/hexo-with-algolia/\nimport algoliasearch from 'algoliasearch/lite'\nimport instantsearch from 'instantsearch.js'\nimport {\n  configure,\n  searchBox,\n  hits,\n  stats,\n  pagination,\n} from 'instantsearch.js/es/widgets'\nimport archerUtil from './util'\n\nconst initAlgolia = () => {\n  $(document).ready(function () {\n    const algoliaSettings = algolia\n    const isAlgoliaSettingsValid =\n      algoliaSettings.applicationID &&\n      algoliaSettings.apiKey &&\n      algoliaSettings.indexName\n\n    if (!isAlgoliaSettingsValid) {\n      window.console.error('Algolia Settings are invalid.')\n      return\n    }\n\n    const searchClient = algoliasearch(\n      algoliaSettings.applicationID,\n      algoliaSettings.apiKey\n    )\n\n    const search = instantsearch({\n      indexName: algoliaSettings.indexName,\n      searchClient,\n      searchFunction: function (helper) {\n        const searchInput = $('#algolia-search-input').find('input')\n\n        const container = document.querySelector('.algolia-results')\n        container.style.display = helper.state.query === '' ? 'none' : ''\n\n        if (searchInput.val()) {\n          helper.search()\n        }\n      },\n      stalledSearchDelay: 500,\n    })\n\n    // Registering Widgets\n    search.addWidgets([\n      configure({\n        hitsPerPage: algoliaSettings.hits.per_page || 10,\n      }),\n      searchBox({\n        container: '#algolia-search-input',\n        placeholder: algoliaSettings.labels.input_placeholder,\n        showSubmit: false,\n        showReset: false,\n        showLoadingIndicator: false,\n      }),\n      hits({\n        container: '#algolia-hits',\n        templates: {\n          item: function (data) {\n            const link = data.permalink\n              ? data.permalink\n              : siteMeta.root + data.path\n            return (\n              '<a href=\"' +\n              link +\n              '\" class=\"algolia-hit-item-link\">' +\n              instantsearch.highlight({\n                attribute: 'title',\n                hit: data,\n                highlightedTagName: 'em',\n              }) +\n              '</a>'\n            )\n          },\n          empty: function (data) {\n            return (\n              '<i class=\"fas fa-drafting-compass fa-10x\"></i>' +\n              '<div class=\"algolia-hit-empty-label\">' +\n              algoliaSettings.labels.hits_empty.replace(\n                /\\$\\{query\\}/,\n                data.query\n              ) +\n              '</div>'\n            )\n          },\n        },\n        cssClasses: {\n          item: 'algolia-hit-item',\n          list: 'algolia-hit-list',\n          root: 'algolia-hit',\n          emptyRoot: 'algolia-hit-empty',\n        },\n      }),\n      stats({\n        container: '#algolia-stats',\n        templates: {\n          text: function (data) {\n            let stats = algoliaSettings.labels.hits_stats\n              .replace(/\\$\\{hits\\}/, data.nbHits)\n              .replace(/\\$\\{time\\}/, data.processingTimeMS)\n            return (\n              stats +\n              '<span class=\"algolia-powered\">' +\n              '  <img src=\"' +\n              siteMeta.root +\n              'assets/algolia_logo.svg\" alt=\"Algolia\" />' +\n              '</span>' +\n              '<hr />'\n            )\n          },\n        },\n        cssClasses: {\n          root: 'algolia-stat-root',\n        },\n      }),\n      pagination({\n        container: '#algolia-pagination',\n        scrollTo: false,\n        templates: {\n          first: '<i class=\"fa fa-angle-double-left\"></i>',\n          last: '<i class=\"fa fa-angle-double-right\"></i>',\n          previous: '<i class=\"fa fa-angle-left\"></i>',\n          next: '<i class=\"fa fa-angle-right\"></i>',\n        },\n      }),\n    ])\n\n    search.start()\n\n    $('.popup-trigger').on('click', function (e) {\n      e.stopPropagation()\n      $('body')\n        .prepend('<div class=\"search-popup-overlay algolia-pop-overlay\"></div>')\n        .css('overflow', 'hidden')\n      $('.popup').toggle()\n      $('#algolia-search-input').find('input').focus()\n      archerUtil.stopBodyScroll(true)\n    })\n\n    const hidePopup = () => {\n      $('.ais-SearchBox-form').trigger('reset')\n      $('.popup').hide()\n      $('.algolia-pop-overlay').remove()\n      $('body').css('overflow', '')\n      archerUtil.stopBodyScroll(false)\n    }\n\n    $('.popup-btn-close').click(function () {\n      hidePopup()\n    })\n\n    $(document).on('keydown', '.ais-SearchBox-form', function (event) {\n      if (event.key === 'Escape') {\n        hidePopup()\n      }\n    })\n\n    $('.site-search').removeClass('site-search-loading')\n  })\n}\n\ninitAlgolia()\n"],"names":["AlgoliaSearchHelper","SearchParameters","SearchResults","algoliasearchHelper","client","index","opts","version","module","exports","events","DerivedHelper","mainHelper","fn","this","main","lastResults","inherits","EventEmitter","prototype","detach","removeAllListeners","detachDerivedHelper","getModifiedState","parameters","defaultsPure","omit","objectHasKeys","lib","addRefinement","refinementList","attribute","value","isRefined","valueAsString","facetRefinement","concat","mod","removeRefinement","undefined","clearRefinement","v","f","toggleRefinement","Error","refinementType","hasChanged","newRefinementList","Object","keys","reduce","memo","key","values","facetList","filter","length","refinementValue","containsRefinements","refinementValueAsString","indexOf","merge","intersection","find","valToNumber","isValidUserToken","RefinementList","isEqualNumericRefinement","a","b","Array","isArray","every","el","i","newParameters","params","_parseNumbers","userToken","console","warn","facets","disjunctiveFacets","hierarchicalFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements","self","forEach","paramName","isKeyKnown","PARAMETERS","isValueDefined","partialState","numbers","k","parsedValue","parseFloat","isNaN","insideBoundingBox","map","geoRect","operators","operator","parsedValues","vPrime","make","instance","facet","rootPath","currentRefinement","getHierarchicalRefinement","name","clearRefinements","toggleHierarchicalFacetRefinement","validate","currentState","tagFilters","numericFilters","constructor","patch","_clearNumericRefinements","setQueryParameters","clearTags","setIndex","setQuery","newQuery","query","setPage","newPage","page","setFacets","setDisjunctiveFacets","setHitsPerPage","n","hitsPerPage","setTypoTolerance","typoTolerance","addNumericRefinement","isNumericRefined","slice","push","getConjunctiveRefinements","facetName","isConjunctiveFacet","getDisjunctiveRefinements","isDisjunctiveFacet","getExcludeRefinements","removeNumericRefinement","paramValue","op","val","getNumericRefinements","getNumericRefinement","newNumericRefinements","operatorList","outValues","addFacet","addDisjunctiveFacet","addHierarchicalFacet","hierarchicalFacet","isHierarchicalFacet","addFacetRefinement","addExcludeRefinement","addDisjunctiveFacetRefinement","addTagRefinement","tag","isTagRefined","modification","removeFacet","removeDisjunctiveFacet","removeHierarchicalFacet","removeFacetRefinement","removeExcludeRefinement","removeDisjunctiveFacetRefinement","removeTagRefinement","t","toggleFacetRefinement","toggleConjunctiveFacetRefinement","toggleDisjunctiveFacetRefinement","toggleExcludeFacetRefinement","separator","_getHierarchicalFacetSeparator","getHierarchicalFacetByName","lastIndexOf","addHierarchicalFacetRefinement","path","isHierarchicalFacetRefined","removeHierarchicalFacetRefinement","toggleTagRefinement","isFacetRefined","isExcludeRefined","isDisjunctiveFacetRefined","refinements","isOperatorDefined","array","searchedValue","isAttributeValueDefined","currentValue","getRefinedDisjunctiveFacets","disjunctiveNumericRefinedFacets","getRefinedHierarchicalFacets","getUnrefinedDisjunctiveFacets","refinedFacets","managedParameters","getQueryParams","queryParams","setQueryParameter","parameter","error","nextWithNumbers","previousPlainObject","acc","nextPlainObject","previous","isPreviousValueDefined","isNextValueDefined","resetPage","_getHierarchicalFacetSortBy","sortBy","_getHierarchicalRootPath","_getHierarchicalShowParentLevel","showParentLevel","hierarchicalFacetName","getHierarchicalFacetBreadcrumb","refinement","split","part","trim","toString","JSON","stringify","state","hierarchicalFacetResult","hierarchicalFacetIndex","hierarchicalFacetRefinement","hierarchicalSeparator","hierarchicalRootPath","hierarchicalShowParentLevel","prepareHierarchicalFacetSortBy","rootExhaustive","facetResult","exhaustive","generateTreeFn","hierarchicalTree","currentHierarchicalLevel","parent","level","data","subtree","picked","facetValue","tuple","parentPath","onlyMatchingTree","orderBy","facetCount","parts","count","format","generateHierarchicalTree","results","compact","findIndex","formatSort","getIndices","attributes","indices","idx","assignFacetStats","dest","facetStats","stats","mainSubResponse","_rawResults","processingTimeMS","sum","result","facetsIndices","disjunctiveFacetsIndices","nextDisjunctiveResult","mainFacets","facetKey","hierarchicalAttributeName","facetValueObject","facetIndex","idxAttributeName","exhaustiveFacetsCount","position","isFacetDisjunctive","isFacetConjunctive","facets_stats","disjunctiveFacet","dfacet","facetResults","attributeIndex","dataFromMainRequest","refinedFacet","defaultData","root","excludes","_state","recSort","sortFn","node","names","children","childNode","sortedChildren","getFacetStatsIfAvailable","getRefinement","type","attributeName","resultsFacets","getFacetByName","predicate","DEFAULT_SORT","getFacetValues","facetValues","isExcluded","extractNormalizedFacetValues","options","facetOrdering","renderingContent","getFacetOrdering","Boolean","orderedFacets","remainingFacets","reverseOrder","order","item","ordering","sortRemainingBy","sortViaFacetOrdering","sort","vanillaSortFn","getFacetStats","getRefinements","res","facetDeclaration","rootFacet","intermediateFacet","newFacet","numericValue","requestBuilder","addAlgoliaAgent","setClient","_queryId","_lastQueryIdReceived","derivedHelpers","_currentNbQueries","setCurrentPage","_change","isPageReset","getCurrentPage","search","_search","onlyWithDerivedHelpers","searchOnlyWithDerivedHelpers","getQuery","_getHitsSearchParams","searchOnce","cb","tempState","queries","_getQueries","emit","then","content","_originalResponse","e","catch","err","findAnswers","derivedHelper","Promise","resolve","derivedState","attributesForPrediction","nbHits","errorMessage","initIndex","queryLanguages","searchForFacetValues","maxFacetHits","userState","clientHasSFFV","isDisjunctive","algoliaQuery","getSearchForFacetQuery","indexName","facetHits","q","addDisjunctiveRefine","apply","arguments","addRefine","addFacetExclusion","addExclude","addTag","removeDisjunctiveRefine","removeRefine","removeFacetExclusion","removeExclude","removeTag","toggleFacetExclusion","toggleExclude","toggleRefine","toggleTag","nextPage","previousPage","setState","newState","overrideStateWithoutTriggeringChangeEvent","hasRefinements","isDisjunctiveRefined","hasTag","hasTagRefinements","getIndex","getPage","getTags","r","states","mainQueries","queriesCount","helper","derivedQueries","derivedStateQueries","queryId","_dispatchAlgoliaResponse","bind","_dispatchAlgoliaError","s","specificResults","splice","formattedResponse","containsRefinement","facetFilters","_hasDisjunctiveRefinements","disjunctiveRefinements","event","clearCache","newClient","getClient","derive","pos","hasPendingRequests","sources","call","reduceRight","source","comparator","defaults","defaultInstructions","out","sortInstruction","matchingDefault","defaultInstruction","ctor","superCtor","create","enumerable","writable","configurable","arr1","arr2","isObjectOrArrayOrFunction","_merge","target","hasOwnProperty","sourceVal","targetVal","l","obj","excluded","sourceKeys","compareAscending","other","valIsDefined","valIsNull","othIsDefined","othIsNull","collection","iteratees","orders","criteria","iteratee","object","_getDisjunctiveFacetSearchParams","_getHitsHierarchicalFacetsAttributes","_getFacetFilters","_getNumericFilters","additionalParams","_getTagFilters","hierarchicalRootLevel","attributesToRetrieve","attributesToHighlight","attributesToSnippet","analytics","clickAnalytics","_getDisjunctiveHierarchicalFacetAttribute","vs","join","orFilters","attributeToRefine","attributesIndex","allAttributes","hierarchicalRefinement","newAttributes","rootLevel","parentLevel","stateForSearchForFacetValues","searchForFacetSearchParameters","facetQuery","test","defineProperty","getOwnPropertySymbols","getOwnPropertyDescriptor","o","getOwnPropertyDescriptors","defineProperties","Symbol","iterator","u","next","done","return","TypeError","from","localStorage","window","parse","getItem","get","miss","all","set","setItem","delete","clear","removeItem","caches","shift","serializable","c","Math","floor","random","replace","encodeURIComponent","h","d","entries","timeout","headers","queryParameters","cacheable","m","Read","Write","Any","g","status","lastUpdate","Date","now","protocol","url","accept","P","j","method","toLowerCase","userAgent","pop","message","transporterStackTrace","A","S","connectTimeout","timeouts","connect","responseTimeout","request","response","host","triesLeft","p","onSuccess","onRetry","isTimedOut","logger","info","x","hostsCache","onFail","requester","send","getTimeout","statelessHosts","reverse","w","add","segment","T","charAt","substr","N","appId","authMode","apiKey","requestsCache","responsesCache","hosts","read","mappedRequestOptions","transporter","reject","write","methods","C","requests","J","propertyIsEnumerable","F","E","I","H","XMLHttpRequest","open","setRequestHeader","setTimeout","abort","onreadystatechange","readyState","OPENED","clearTimeout","onerror","responseText","onload","debug","multipleQueries","multipleSearchForFacetValues","hasOwn","classNames","classes","arg","argType","inner","default","it","String","isObject","wellKnownSymbol","definePropertyModule","UNSCOPABLES","ArrayPrototype","unicode","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","O","includes","IndexedObject","toObject","arraySpeciesCreate","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_REJECT","NO_HOLES","callbackfn","that","specificCreate","boundFunction","some","filterReject","SPECIES","originalArray","arraySpeciesConstructor","has","ownKeys","getOwnPropertyDescriptorModule","DESCRIPTORS","createPropertyDescriptor","bitmap","fails","global","document","EXISTS","createElement","getBuiltIn","match","process","Deno","versions","v8","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","exec","regexpExec","RegExpPrototype","RegExp","KEY","FORCED","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","re","flags","nativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","$exec","aFunction","variable","namespace","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","captures","namedCaptures","replacement","tailPos","symbols","ch","capture","check","globalThis","Function","classof","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","store","functionToString","inspectSource","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","feature","detection","normalize","POLYFILL","NATIVE","string","MATCH","isRegExp","USE_SYMBOL_AS_UID","$Symbol","V8_VERSION","symbol","activeXDocument","anObject","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObjectViaActiveX","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","domain","style","display","appendChild","src","contentWindow","Properties","objectKeys","IE8_DOM_DEFINE","toPropertyKey","$defineProperty","Attributes","propertyIsEnumerableModule","$getOwnPropertyDescriptor","internalObjectKeys","getOwnPropertyNames","$propertyIsEnumerable","NASHORN_BUG","1","V","aPossiblePrototype","setter","CORRECT_SETTER","proto","__proto__","input","pref","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","R","re1","re2","regexpFlags","stickyHelpers","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","group","raw","groups","sticky","charsAdded","strCopy","multiline","ignoreCase","dotAll","$RegExp","is","y","CONSTRUCTOR_NAME","Constructor","uid","SHARED","IS_PURE","mode","copyright","toInteger","requireObjectCoercible","CONVERT_TO_STRING","first","second","size","charCodeAt","codeAt","max","min","integer","ceil","argument","isSymbol","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","id","postfix","NATIVE_SYMBOL","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","$find","addToUnscopables","FIND","SKIPS_HOLES","inheritIfRequired","getFlags","setSpecies","NativeRegExp","IS_NCG","CORRECT_NEW","RegExpWrapper","pattern","rawFlags","handled","thisIsRegExp","patternIsRegExp","flagsAreUndefined","rawPattern","chr","named","brackets","ncg","groupid","groupname","SyntaxError","handleNCG","handleDotAll","proxy","$toString","TO_STRING","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","fixRegExpWellKnownSymbolLogic","advanceStringIndex","getSubstitution","regExpExec","REPLACE","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","_","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","rx","functionalReplace","fullUnicode","accumulatedResult","nextSourcePosition","replacerArgs","sameValue","SEARCH","nativeSearch","searcher","previousLastIndex","_events","_maxListeners","isFunction","isUndefined","defaultMaxListeners","setMaxListeners","er","handler","len","args","listeners","context","addListener","listener","newListener","warned","trace","on","once","fired","removeListener","list","listenerCount","evlistener","emitter","Hogan","rIsWhitespace","rQuot","rNewline","rCr","rSlash","rLineSep","rParagraphSep","tagChange","text","tags","scan","delimiters","token","tagType","buf","tokens","seenTag","lineStart","otag","ctag","addBuf","filterLine","haveSeenTag","noNewLine","isAllWhitespace","lineIsWhitespace","indent","changeDelimiters","closeIndex","substring","allowedInSuper","buildTree","kind","stack","customTags","tail","instructions","opener","isOpener","nodes","isCloser","end","last","stringifyPartials","codeObj","partials","esc","items","stringifySubstitutions","subs","wrapMain","code","serialNo","chooseMethod","createPartial","sym","prefix","tripleStache","generate","tree","walk","asString","makeTemplate","template","Template","makePartials","codegen","ctx","inPartial","nodelist","func","sectionTags","cache","cacheKey","disableLambda","modelGet","compile","findInScope","scope","doModelGet","compiler","coerceToString","hChars","rAmp","rLt","rGt","rApos","render","ri","ep","partial","base","stackText","activeSub","stackSubs","stackPartials","PartialTemplate","Substitutions","subsText","createSpecializedPartial","rp","rs","section","inverted","start","pass","ms","returnFound","found","cx","mv","ls","oldTags","ct","fl","textSource","sub","percentTwenties","Format","formatters","RFC1738","RFC3986","formats","utils","allowDots","allowPrototypes","arrayLimit","charset","charsetSentinel","comma","decoder","decode","delimiter","depth","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","strictNullHandling","$0","numberStr","fromCharCode","parseInt","parseArrayValue","parseKeys","givenKey","valuesParsed","child","chain","leaf","cleanRoot","0","parseObject","normalizeParseOptions","tempObj","cleanStr","limit","Infinity","skipIndex","bracketEqualsPos","maybeMap","encodedVal","combine","parseValues","newObj","arrayPrefixGenerators","repeat","pushToArray","arr","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","encode","encoder","encodeValuesOnly","formatter","serializeDate","date","skipNulls","generateArrayPrefix","isBuffer","objKeys","keyPrefix","normalizeStringifyOptions","arrayFormat","joined","hexTable","toUpperCase","arrayToObject","assign","queue","prop","refs","compacted","compactQueue","strWithoutPlus","unescape","decodeURIComponent","defaultEncoder","escape","mapped","mergeTarget","targetItem","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","createDocumentationLink","_ref","_ref$connector","connector","createDocumentationMessageGenerator","_len","widgets","_key","links","widget","enumerableOnly","_objectSpread","_defineProperty","mergeWithRest","left","right","ruleContexts","rest","_objectWithoutPropertiesLoose","sourceSymbolKeys","_objectWithoutProperties","mergeFacets","mergeDisjunctiveFacets","mergeHierarchicalFacets","nextFacets","mergeTagRefinements","mergeFacetRefinements","mergeFacetsExcludes","mergeDisjunctiveFacetsRefinements","mergeNumericRefinements","mergeHierarchicalFacetsRefinements","mergeRuleContexts","hierarchicalFacetsRefinementsMerged","hierarchicalFacetsMerged","tagRefinementsMerged","numericRefinementsMerged","disjunctiveFacetsRefinementsMerged","facetsExcludesMerged","facetRefinementsMerged","disjunctiveFacetsMerged","ruleContextsMerged","facetsMerged","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","_unsupportedIterableToArray","_nonIterableSpread","withUsage","isIndexWidget","$$type","privateHelperSetState","_uiState","getLocalWidgetsUiState","widgetStateOptions","initialUiState","uiState","getWidgetUiState","getWidgetState","getLocalWidgetsSearchParameters","widgetSearchParametersOptions","initialSearchParameters","getWidgetSearchParameters","resetPageFromWidgets","indexWidgets","widgetHelper","getHelper","getWidgets","resolveScopedResultsFromWidgets","scopedResults","current","indexId","getIndexId","getResults","widgetParams","_widgetParams$indexId","localWidgets","localUiState","localInstantSearchInstance","localParent","$$widgetType","getIndexName","getScopedResults","widgetParent","getParent","createURL","nextState","_createURL","searchParameters","addWidgets","_this","init","getRenderState","storeRenderState","renderState","_initialUiState","instantSearchInstance","templatesConfig","searchMetadata","isSearchStalled","_isSearchStalled","scheduleSearch","removeWidgets","_this2","dispose","_ref2","_this3","onStateChange","mainIndex","setUiState","searchWithoutTriggeringOnStateChange","mergeSearchParameters","_ref3","scheduleStalledRender","_ref4","scheduleRender","onInternalStateChange","_ref5","_this4","_this5","previousUiState","innerIndex","_ref6","refreshUiState","_ref7","parentIndexName","component","componentName","descendantName","modifierName","descendent","modifier","htmlEscapes","regexUnescapedHtml","regexHasUnescapedHtml","_typeof","isObjectLike","getTag","getPrototypeOf","_extends","TAG_PLACEHOLDER","highlightPreTag","highlightPostTag","TAG_REPLACEMENT","replaceTagsAndEscape","character","recursiveEscape","escapeHits","hits","__escaped","hit","_highlightResult","_snippetResult","suit","_ref$highlightedTagNa","highlightedTagName","_ref$cssClasses","cssClasses","_ref2$value","attributeValue","className","highlighted","concatHighlightedParts","isHighlighted","regexEscapedHtml","regexHasEscapedHtml","hasAlphanumeric","getHighlightFromSiblings","_parts","_parts2","isNextHighlighted","isPreviousHighlighted","reverseHighlightedParts","getHighlightedParts","highlightedValue","splitByPreTag","firstValue","elements","splitByPostTag","serializePayload","payload","btoa","deserializePayload","atob","serializedPayload","writeDataAttributes","hoganHelpers","numberLocale","formatNumber","Number","toLocaleString","highlight","reverseHighlight","snippet","reverseSnippet","insights","_JSON$parse","objectIDs","objectID","nextMicroTask","callback","progress","cancelled","wait","cancel","getIndexStateWithoutConfigure","configure","simpleStateMapping","stateToRoute","routeToState","routeState","_defineProperties","props","setWindowTitle","title","BrowserHistory","windowTitle","_ref$writeDelay","writeDelay","parseURL","_classCallCheck","writeTimer","protoProps","qsModule","location","history","pushState","_onPopState","addEventListener","removeEventListener","historyRouter","_ref2$createURL","hostname","_location$port","port","pathname","hash","queryString","portWithPrefix","_ref2$parseURL","_ref2$writeDelay","isPrimitive","isEqual","_i","_Object$keys","extractPayload","initOptions","getWidgetRenderState","widgetType","createMetadataMiddleware","payloadContainer","refNode","querySelector","subscribe","ua","_ua","unsubscribe","remove","_setPrototypeOf","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_getPrototypeOf","defaultCreateURL","_EventEmitter","subClass","superClass","_inherits","InstantSearch","Derived","hasNativeReflectConstruct","_super","Reflect","construct","Proxy","_isNativeReflectConstruct","Super","started","_searchStalledTimer","nextUiState","middleware","_options$indexName","_options$initialUiSta","_options$routing","routing","searchFunction","_options$stalledSearc","stalledSearchDelay","_options$searchClient","searchClient","_options$insightsClie","insightsClient","_options$onStateChang","helpers","compileOptions","_stalledSearchDelay","_searchFunction","sendEventToInsights","routerOptions","use","_props$router","router","_props$stateMapping","stateMapping","route","lastRouteState","onUpdate","createRouterMiddleware","navigator","newMiddlewareList","newMiddleware","creator","_len2","middlewareToUnuse","_key2","fakeClient","_mainHelperSearch","mainIndexHelper","searchFunctionHelper","setIndexHelperState","indexWidget","getStateWithoutPage","hasSessionStorage","sessionStorage","deprecate","instantsearch","createInfiniteHitsSessionStorageCache","getInsightsAnonymousUserToken","cookies","cookie","getCookie","getInitialSearchParameters","renderFn","unmountFn","connectorState","renderOptions","_renderState$configur","widgetRenderState","refine","actualState","nextSearchParameters","makeWidget","parentNode","removeChild","defaultProps","ref","__k","__","__b","__e","__d","__c","__h","__v","vnode","__r","debounceRendering","__P","__n","ownerSVGElement","z","M","nextSibling","insertBefore","setProperty","cssText","setAttribute","removeAttribute","contextType","__E","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","nodeType","createTextNode","createElementNS","childNodes","dangerouslySetInnerHTML","__html","innerHTML","checked","unmount","componentWillUnmount","firstChild","getDerivedStateFromError","componentDidCatch","forceUpdate","selectorOrHTMLElement","isSelectorString","domElement","HTMLElement","rendering","usage","_Component","nextProps","templateKey","rootProps","RootTagName","rootTagName","useCustomCompileOptions","templates","bindEvent","transformedHelpers","helperKey","transformHelpersToHogan","spaces","showSubmit","showReset","showLoadingIndicator","autofocus","searchAsYouType","disabled","onChange","onSubmit","onReset","SearchBox","focused","_this$props","_this$props2","preventDefault","stopPropagation","blur","_this$props3","focus","_this$props4","placeholder","action","role","form","noValidate","autoFocus","autoComplete","autoCorrect","autoCapitalize","spellCheck","maxLength","onInput","onBlur","onFocus","submit","hidden","reset","loadingIndicator","container","_ref3$placeholder","_ref3$cssClasses","userCssClasses","_ref3$autofocus","_ref3$searchAsYouType","_ref3$showReset","_ref3$showSubmit","_ref3$showLoadingIndi","queryHook","_ref3$templates","userTemplates","containerNode","submitIcon","resetIcon","loadingIcon","defaultTemplates","_refine","_clear","_cachedClear","searchBox","setQueryAndSearch","renderer","buildPayload","methodName","eventType","eventName","hitsArray","removeEscapedFromHits","queryID","__queryID","positions","__position","insightsMethod","createSendEventForHits","createBindEventForHits","addAbsolutePosition","addQueryID","sendEvent","_ref$escapeHTML","escapeHTML","_ref$transformItems","transformItems","initialEscaped","Hits","templateProps","emptyRoot","__hitIndex","empty","config","defaultTemplate","customTemplate","isCustomTemplate","prepareTemplates","findInsightsTarget","startElement","endElement","validator","element","parentElement","withInsights","isFirstRender","aa","withInstantSearchUsage","inferredPayload","selectedHits","selectedObjectIDs","getSelectedHits","queryIDs","getQueryID","getPositions","inferPayload","wrapInsightsClient","BaseComponent","HitsWithInsightsListener","onClick","targetWithEvent","currentTarget","hasAttribute","getAttribute","parseInsightsEvent","insightsTarget","_readDataAttributes","readDataAttributes","_payload","specializedRenderer","isFirstRendering","receivedHits","nbSortedHits","hasManySortedResults","hasNoSortedResults","hasOneSortedResults","hasManyResults","hasNoResults","hasOneResult","areHitsSorted","appliedRelevancyStrictness","nbPages","label","ariaLabel","isDisabled","handleClick","pageNumber","link","href","button","altKey","ctrlKey","metaKey","shiftKey","Pagination","pageLink","additionalClassName","previousPageItem","isFirstPage","currentPage","nextPageItem","isLastPage","firstPageItem","lastPageItem","pages","pageItem","isSelected","_ref$additionalClassN","_ref$isDisabled","_ref$isSelected","disabledItem","selectedItem","noRefinementRoot","showFirst","firstPageLink","showPrevious","previousPageLink","showNext","nextPageLink","showLast","lastPageLink","_ref$start","_ref$step","step","limitStep","arrayLength","round","Paginator","total","padding","totalDisplayedPages","nbPagesDisplayed","paddingLeft","calculatePaddingLeft","totalPages","_ref3$showFirst","_ref3$showLast","_ref3$showPrevious","_ref3$showNext","_ref3$scrollTo","scrollTo","userScrollTo","scrollToNode","_ref$padding","pager","getMaxPage","canRefine","pagination","scrollIntoView","bodyEl","body","windowTop","bodyElPosition","isFixed","scrollY","top","ready","algoliaSettings","algolia","applicationID","algoliasearch","searchInput","per_page","labels","input_placeholder","permalink","siteMeta","hits_empty","hits_stats","prepend","css","toggle","archerUtil","hidePopup","trigger","hide","click","removeClass"],"sourceRoot":""}